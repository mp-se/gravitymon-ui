var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__typeError=e=>{throw TypeError(e)},__pow=Math.pow,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__publicField=(e,t,i)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,i),__accessCheck=(e,t,i)=>t.has(e)||__typeError("Cannot "+i),__privateGet=(e,t,i)=>(__accessCheck(e,t,"read from private field"),i?i.call(e):t.get(e)),__privateAdd=(e,t,i)=>t.has(e)?__typeError("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),__privateSet=(e,t,i,o)=>(__accessCheck(e,t,"write to private field"),o?o.call(e,i):t.set(e,i),i),__privateMethod=(e,t,i)=>(__accessCheck(e,t,"access private method"),i),__async=(e,t,i)=>new Promise((o,s)=>{var n=e=>{try{a(i.next(e))}catch(t){s(t)}},r=e=>{try{a(i.throw(e))}catch(t){s(t)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,r);a((i=i.apply(e,t)).next())}),_d;function makeMap(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return e=>e in t}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$2=Array.isArray,isMap=e=>"[object Map]"===toTypeString(e),isSet=e=>"[object Set]"===toTypeString(e),isDate=e=>"[object Date]"===toTypeString(e),isFunction$1=e=>"function"==typeof e,isString=e=>"string"==typeof e,isSymbol=e=>"symbol"==typeof e,isObject$1=e=>null!==e&&"object"==typeof e,isPromise=e=>(isObject$1(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>"[object Object]"===toTypeString(e),isIntegerKey=e=>isString(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},camelizeRE=/-\w/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,e=>e.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},def=(e,t,i,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:i})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function normalizeStyle(e){if(isArray$2(e)){const t={};for(let i=0;i<e.length;i++){const o=e[i],s=isString(o)?parseStringStyle(o):normalizeStyle(o);if(s)for(const e in s)t[e]=s[e]}return t}if(isString(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(e=>{if(e){const i=e.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray$2(e))for(let i=0;i<e.length;i++){const o=normalizeClass(e[i]);o&&(t+=o+" ")}else if(isObject$1(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||""===e}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let i=!0;for(let o=0;i&&o<e.length;o++)i=looseEqual(e[o],t[o]);return i}function looseEqual(e,t){if(e===t)return!0;let i=isDate(e),o=isDate(t);if(i||o)return!(!i||!o)&&e.getTime()===t.getTime();if(i=isSymbol(e),o=isSymbol(t),i||o)return e===t;if(i=isArray$2(e),o=isArray$2(t),i||o)return!(!i||!o)&&looseCompareArrays(e,t);if(i=isObject$1(e),o=isObject$1(t),i||o){if(!i||!o)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e){const o=e.hasOwnProperty(i),s=t.hasOwnProperty(i);if(o&&!s||!o&&s||!looseEqual(e[i],t[i]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(e=>looseEqual(e,t))}const isRef$1=e=>!(!e||!0!==e.__v_isRef),toDisplayString=e=>isString(e)?e:null==e?"":isArray$2(e)||isObject$1(e)&&(e.toString===objectToString||!isFunction$1(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,i],o)=>(e[stringifySymbol(t,o)+" =>"]=i,e),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>stringifySymbol(e))}:isSymbol(t)?stringifySymbol(t):!isObject$1(t)||isArray$2(t)||isPlainObject$1(t)?t:String(t),stringifySymbol=(e,t="")=>{var i;return isSymbol(e)?`Symbol(${null!=(i=e.description)?i:t})`:e};let activeEffectScope,activeSub;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=t}}}on(){1===++this._on&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&0===--this._on&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,i;for(this._active=!1,t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||batch(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const e=activeSub,t=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=e,shouldTrack=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)removeSub(e);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t)return e.next=batchedComputed,batchedComputed=e,void 0;e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;batchedSub;){let i=batchedSub;for(batchedSub=void 0;i;){const o=i.next;if(i.next=void 0,i.flags&=-9,1&i.flags)try{i.trigger()}catch(t){e||(e=t)}i=o}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,i=e.depsTail,o=i;for(;o;){const e=o.prevDep;-1===o.version?(o===i&&(i=e),removeSub(o),removeDep(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=e}e.deps=t,e.depsTail=i}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===globalVersion)return;if(e.globalVersion=globalVersion,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!isDirty(e)))return;e.flags|=2;const t=e.dep,i=activeSub,o=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const i=e.fn(e._value);(0===t.version||hasChanged(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(s){throw t.version++,s}finally{activeSub=i,shouldTrack=o,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:i,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),i.subs===e&&(i.subs=o,!o&&i.computed)){i.computed.flags&=-5;for(let e=i.computed.deps;e;e=e.nextDep)removeSub(e,!0)}t||--i.sc||!i.map||i.map.delete(i.key)}function removeDep(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=void 0===e||e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=activeSub;activeSub=void 0;try{t()}finally{activeSub=e}}}let globalVersion=0;class Link{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==activeSub)t=this.activeLink=new Link(activeSub,this),activeSub.deps?(t.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=t,activeSub.depsTail=t):activeSub.deps=activeSub.depsTail=t,addSub(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=activeSub.depsTail,t.nextDep=void 0,activeSub.depsTail.nextDep=t,activeSub.depsTail=t,activeSub.deps===t&&(activeSub.deps=e)}return t}trigger(e){this.version++,globalVersion++,this.notify(e)}notify(e){startBatch();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)addSub(e)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,i){if(shouldTrack&&activeSub){let t=targetMap.get(e);t||targetMap.set(e,t=new Map);let o=t.get(i);o||(t.set(i,o=new Dep),o.map=t,o.key=i),o.track()}}function trigger(e,t,i,o,s,n){const r=targetMap.get(e);if(!r)return globalVersion++,void 0;const a=e=>{e&&e.trigger()};if(startBatch(),"clear"===t)r.forEach(a);else{const s=isArray$2(e),n=s&&isIntegerKey(i);if(s&&"length"===i){const e=Number(o);r.forEach((t,i)=>{("length"===i||i===ARRAY_ITERATE_KEY||!isSymbol(i)&&i>=e)&&a(t)})}else switch((void 0!==i||r.has(void 0))&&a(r.get(i)),n&&a(r.get(ARRAY_ITERATE_KEY)),t){case"add":s?n&&a(r.get("length")):(a(r.get(ITERATE_KEY)),isMap(e)&&a(r.get(MAP_KEY_ITERATE_KEY)));break;case"delete":s||(a(r.get(ITERATE_KEY)),isMap(e)&&a(r.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&a(r.get(ITERATE_KEY))}}endBatch()}function getDepFromReactive(e,t){const i=targetMap.get(e);return i&&i.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}function toWrapped(e,t){return isReadonly(e)?isReactive(e)?toReadonly(toReactive(t)):toReadonly(t):toReactive(t)}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,e=>toWrapped(this,e))},concat(...e){return reactiveReadArray(this).concat(...e.map(e=>isArray$2(e)?reactiveReadArray(e):e))},entries(){return iterator(this,"entries",e=>(e[1]=toWrapped(this,e[1]),e))},every(e,t){return apply(this,"every",e,t,void 0,arguments)},filter(e,t){return apply(this,"filter",e,t,e=>e.map(e=>toWrapped(this,e)),arguments)},find(e,t){return apply(this,"find",e,t,e=>toWrapped(this,e),arguments)},findIndex(e,t){return apply(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply(this,"findLast",e,t,e=>toWrapped(this,e),arguments)},findLastIndex(e,t){return apply(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",e=>toWrapped(this,e))}};function iterator(e,t,i){const o=shallowReadArray(e),s=o[t]();return o===e||isShallow(e)||(s._next=s.next,s.next=()=>{const e=s._next();return e.done||(e.value=i(e.value)),e}),s}const arrayProto=Array.prototype;function apply(e,t,i,o,s,n){const r=shallowReadArray(e),a=r!==e&&!isShallow(e),l=r[t];if(l!==arrayProto[t]){const t=l.apply(e,n);return a?toReactive(t):t}let c=i;r!==e&&(a?c=function(t,o){return i.call(this,toWrapped(e,t),o,e)}:i.length>2&&(c=function(t,o){return i.call(this,t,o,e)}));const d=l.call(r,c,o);return a&&s?s(d):d}function reduce(e,t,i,o){const s=shallowReadArray(e);let n=i;return s!==e&&(isShallow(e)?i.length>3&&(n=function(t,o,s){return i.call(this,t,o,s,e)}):n=function(t,o,s){return i.call(this,t,toWrapped(e,o),s,e)}),s[t](n,...o)}function searchProxy(e,t,i){const o=toRaw(e);track(o,"iterate",ARRAY_ITERATE_KEY);const s=o[t](...i);return-1!==s&&!1!==s||!isProxy(i[0])?s:(i[0]=toRaw(i[0]),o[t](...i))}function noTracking(e,t,i=[]){pauseTracking(),startBatch();const o=toRaw(e)[t].apply(e,i);return endBatch(),resetTracking(),o}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if("__v_skip"===t)return e.__v_skip;const o=this._isReadonly,s=this._isShallow;if("__v_isReactive"===t)return!o;if("__v_isReadonly"===t)return o;if("__v_isShallow"===t)return s;if("__v_raw"===t)return i===(o?s?shallowReadonlyMap:readonlyMap:s?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const n=isArray$2(e);if(!o){let e;if(n&&(e=arrayInstrumentations[t]))return e;if("hasOwnProperty"===t)return hasOwnProperty}const r=Reflect.get(e,t,isRef(e)?e:i);if(isSymbol(t)?builtInSymbols.has(t):isNonTrackableKeys(t))return r;if(o||track(e,"get",t),s)return r;if(isRef(r)){const e=n&&isIntegerKey(t)?r:r.value;return o&&isObject$1(e)?readonly(e):e}return isObject$1(r)?o?readonly(r):reactive(r):r}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,t,i,o){let s=e[t];const n=isArray$2(e)&&isIntegerKey(t);if(!this._isShallow){const e=isReadonly(s);if(isShallow(i)||isReadonly(i)||(s=toRaw(s),i=toRaw(i)),!n&&isRef(s)&&!isRef(i))return e||(s.value=i),!0}const r=n?Number(t)<e.length:hasOwn(e,t),a=Reflect.set(e,t,i,isRef(e)?e:o);return e===toRaw(o)&&(r?hasChanged(i,s)&&trigger(e,"set",t,i):trigger(e,"add",t,i)),a}deleteProperty(e,t){const i=hasOwn(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&i&&trigger(e,"delete",t,void 0),o}has(e,t){const i=Reflect.has(e,t);return isSymbol(t)&&builtInSymbols.has(t)||track(e,"has",t),i}ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,i){return function(...o){const s=this.__v_raw,n=toRaw(s),r=isMap(n),a="entries"===e||e===Symbol.iterator&&r,l="keys"===e&&r,c=s[e](...o),d=i?toShallow:t?toReadonly:toReactive;return!t&&track(n,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function createInstrumentations(e,t){const i={get(i){const o=this.__v_raw,s=toRaw(o),n=toRaw(i);e||(hasChanged(i,n)&&track(s,"get",i),track(s,"get",n));const{has:r}=getProto(s),a=t?toShallow:e?toReadonly:toReactive;return r.call(s,i)?a(o.get(i)):r.call(s,n)?a(o.get(n)):(o!==s&&o.get(i),void 0)},get size(){const t=this.__v_raw;return!e&&track(toRaw(t),"iterate",ITERATE_KEY),t.size},has(t){const i=this.__v_raw,o=toRaw(i),s=toRaw(t);return e||(hasChanged(t,s)&&track(o,"has",t),track(o,"has",s)),t===s?i.has(t):i.has(t)||i.has(s)},forEach(i,o){const s=this,n=s.__v_raw,r=toRaw(n),a=t?toShallow:e?toReadonly:toReactive;return!e&&track(r,"iterate",ITERATE_KEY),n.forEach((e,t)=>i.call(o,a(e),a(t),s))}};return extend(i,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(e){t||isShallow(e)||isReadonly(e)||(e=toRaw(e));const i=toRaw(this);return getProto(i).has.call(i,e)||(i.add(e),trigger(i,"add",e,e)),this},set(e,i){t||isShallow(i)||isReadonly(i)||(i=toRaw(i));const o=toRaw(this),{has:s,get:n}=getProto(o);let r=s.call(o,e);r||(e=toRaw(e),r=s.call(o,e));const a=n.call(o,e);return o.set(e,i),r?hasChanged(i,a)&&trigger(o,"set",e,i):trigger(o,"add",e,i),this},delete(e){const t=toRaw(this),{has:i,get:o}=getProto(t);let s=i.call(t,e);s||(e=toRaw(e),s=i.call(t,e)),o&&o.call(t,e);const n=t.delete(e);return s&&trigger(t,"delete",e,void 0),n},clear(){const e=toRaw(this),t=0!==e.size,i=e.clear();return t&&trigger(e,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=createIterableMethod(o,e,t)}),i}function createInstrumentationGetter(e,t){const i=createInstrumentations(e,t);return(t,o,s)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get(hasOwn(i,o)&&o in t?i:t,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,i,o,s){if(!isObject$1(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const n=getTargetType(e);if(0===n)return e;const r=s.get(e);if(r)return r;const a=new Proxy(e,2===n?o:i);return s.set(e,a),a}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!(!e||!e.__v_isReactive)}function isReadonly(e){return!(!e||!e.__v_isReadonly)}function isShallow(e){return!(!e||!e.__v_isShallow)}function isProxy(e){return!!e&&!!e.__v_raw}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function isRef(e){return!!e&&!0===e.__v_isRef}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(e,t){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:toRaw(e),this._value=t?e:toReactive(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||isShallow(e)||isReadonly(e);e=i?e:toRaw(e),hasChanged(e,t)&&(this._rawValue=e,this._value=i?e:toReactive(e),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,i)=>"__v_raw"===t?e:unref(Reflect.get(e,t,i)),set:(e,t,i,o)=>{const s=e[t];return isRef(s)&&!isRef(i)?(s.value=i,!0):Reflect.set(e,t,i,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Dep,{get:i,set:o}=e(t.track.bind(t),t.trigger.bind(t));this._get=i,this._set=o}get value(){return this._value=this._get()}set value(e){this._set(e)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const i in e)t[i]=propertyToRef(e,i);return t}class ObjectRefImpl{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0,this._raw=toRaw(e);let o=!0,s=e;if(!isArray$2(e)||!isIntegerKey(String(t)))do{o=!isProxy(s)||isShallow(s)}while(o&&(s=s.__v_raw));this._shallow=o}get value(){let e=this._object[this._key];return this._shallow&&(e=unref(e)),this._value=void 0===e?this._defaultValue:e}set value(e){if(this._shallow&&isRef(this._raw[this._key])){const t=this._object[this._key];if(isRef(t))return t.value=e,void 0}this._object[this._key]=e}get dep(){return getDepFromReactive(this._raw,this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(e,t,i){return isRef(e)?e:isFunction$1(e)?new GetterRefImpl(e):isObject$1(e)&&arguments.length>1?propertyToRef(e,t,i):ref(e)}function propertyToRef(e,t,i){return new ObjectRefImpl(e,t,i)}class ComputedRefImpl{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(8&this.flags)&&activeSub!==this)return batch(this,!0),!0}get value(){const e=this.dep.track();return refreshComputed(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function computed$1(e,t,i=!1){let o,s;return isFunction$1(e)?o=e:(o=e.get,s=e.set),new ComputedRefImpl(o,s,i)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,i=activeWatcher){if(i){let t=cleanupMap.get(i);t||cleanupMap.set(i,t=[]),t.push(e)}}function watch$1(e,t,i=EMPTY_OBJ){const{immediate:o,deep:s,once:n,scheduler:r,augmentJob:a,call:l}=i,c=e=>s?e:isShallow(e)||!1===s||0===s?traverse(e,1):traverse(e);let d,u,h,p,f=!1,g=!1;if(isRef(e)?(u=()=>e.value,f=isShallow(e)):isReactive(e)?(u=()=>c(e),f=!0):isArray$2(e)?(g=!0,f=e.some(e=>isReactive(e)||isShallow(e)),u=()=>e.map(e=>isRef(e)?e.value:isReactive(e)?c(e):isFunction$1(e)?l?l(e,2):e():void 0)):u=isFunction$1(e)?t?l?()=>l(e,2):e:()=>{if(h){pauseTracking();try{h()}finally{resetTracking()}}const t=activeWatcher;activeWatcher=d;try{return l?l(e,3,[p]):e(p)}finally{activeWatcher=t}}:NOOP,t&&s){const e=u,t=!0===s?1/0:s;u=()=>traverse(e(),t)}const m=getCurrentScope(),_=()=>{d.stop(),m&&m.active&&remove(m.effects,d)};if(n&&t){const e=t;t=(...t)=>{e(...t),_()}}let b=g?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const v=e=>{if(1&d.flags&&(d.dirty||e))if(t){const e=d.run();if(s||f||(g?e.some((e,t)=>hasChanged(e,b[t])):hasChanged(e,b))){h&&h();const i=activeWatcher;activeWatcher=d;try{const i=[e,b===INITIAL_WATCHER_VALUE?void 0:g&&b[0]===INITIAL_WATCHER_VALUE?[]:b,p];b=e,l?l(t,3,i):t(...i)}finally{activeWatcher=i}}}else d.run()};return a&&a(v),d=new ReactiveEffect(u),d.scheduler=r?()=>r(v,!1):v,p=e=>onWatcherCleanup(e,!1,d),h=d.onStop=()=>{const e=cleanupMap.get(d);if(e){if(l)l(e,4);else for(const t of e)t();cleanupMap.delete(d)}},t?o?v(!0):b=d.run():r?r(v.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function traverse(e,t=1/0,i){if(t<=0||!isObject$1(e)||e.__v_skip)return e;if(((i=i||new Map).get(e)||0)>=t)return e;if(i.set(e,t),t--,isRef(e))traverse(e.value,t,i);else if(isArray$2(e))for(let o=0;o<e.length;o++)traverse(e[o],t,i);else if(isSet(e)||isMap(e))e.forEach(e=>{traverse(e,t,i)});else if(isPlainObject$1(e)){for(const o in e)traverse(e[o],t,i);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&traverse(e[o],t,i)}return e}const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const i=stack.length?stack[stack.length-1].component:null,o=i&&i.appContext.config.warnHandler,s=getComponentTrace();if(o)callWithErrorHandling(o,i,11,[e+t.map(e=>{var t,i;return null!=(i=null==(t=e.toString)?void 0:t.call(e))?i:JSON.stringify(e)}).join(""),i&&i.proxy,s.map(({vnode:e})=>`at <${formatComponentName(i,e.type)}>`).join("\n"),s]);else{const i=[`[Vue warn]: ${e}`,...t];s.length&&i.push("\n",...formatTrace(s)),console.warn(...i)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const i=t[0];i&&i.vnode===e?i.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function formatTrace(e){const t=[];return e.forEach((e,i)=>{t.push(...0===i?[]:["\n"],...formatTraceEntry(e))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const i=t>0?`... (${t} recursive calls)`:"",o=!!e.component&&null==e.component.parent,s=` at <${formatComponentName(e.component,e.type,o)}`,n=">"+i;return e.props?[s,...formatProps(e.props),n]:[s+n]}function formatProps(e){const t=[],i=Object.keys(e);return i.slice(0,3).forEach(i=>{t.push(...formatProp(i,e[i]))}),i.length>3&&t.push(" ..."),t}function formatProp(e,t,i){return isString(t)?(t=JSON.stringify(t),i?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?i?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),i?t:[`${e}=Ref<`,t,">"]):isFunction$1(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),i?t:[`${e}=`,t])}function callWithErrorHandling(e,t,i,o){try{return o?e(...o):e()}catch(s){handleError(s,t,i)}}function callWithAsyncErrorHandling(e,t,i,o){if(isFunction$1(e)){const s=callWithErrorHandling(e,t,i,o);return s&&isPromise(s)&&s.catch(e=>{handleError(e,t,i)}),s}if(isArray$2(e)){const s=[];for(let n=0;n<e.length;n++)s.push(callWithAsyncErrorHandling(e[n],t,i,o));return s}}function handleError(e,t,i,o=!0){const s=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||EMPTY_OBJ;if(t){let o=t.parent;const s=t.proxy,r=`https://vuejs.org/error-reference/#runtime-${i}`;for(;o;){const t=o.ec;if(t)for(let i=0;i<t.length;i++)if(!1===t[i](e,s,r))return;o=o.parent}if(n)return pauseTracking(),callWithErrorHandling(n,null,10,[e,s,r]),resetTracking(),void 0}logError$1(e,i,s,o,r)}function logError$1(e,t,i,o=!0,s=!1){if(s)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex$1(e){let t=flushIndex+1,i=queue.length;for(;t<i;){const o=t+i>>>1,s=queue[o],n=getId(s);n<e||n===e&&2&s.flags?t=o+1:i=o}return t}function queueJob(e){if(!(1&e.flags)){const t=getId(e),i=queue[queue.length-1];!i||!(2&e.flags)&&t>=getId(i)?queue.push(e):queue.splice(findInsertionIndex$1(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&-1===e.id?activePostFlushCbs.splice(postFlushIndex+1,0,e):1&e.flags||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,i=flushIndex+1){for(;i<queue.length;i++){const t=queue[i];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;queue.splice(i,1),i--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((e,t)=>getId(e)-getId(t));if(pendingPostFlushCbs.length=0,activePostFlushCbs)return activePostFlushCbs.push(...e),void 0;for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const e=activePostFlushCbs[postFlushIndex];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>null==e.id?2&e.flags?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];!e||8&e.flags||(0,4&e.flags&&(e.flags&=-2),callWithErrorHandling(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&(e.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,i){if(!t)return e;if(e._n)return e;const o=(...i)=>{o._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(t);let n;try{n=e(...i)}finally{setCurrentRenderingInstance(s),o._d&&setBlockTracking(1)}return n};return o._n=!0,o._c=!0,o._d=!0,o}function withDirectives(e,t){if(null===currentRenderingInstance)return e;const i=getComponentPublicInstance(currentRenderingInstance),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,r,a=EMPTY_OBJ]=t[s];e&&(isFunction$1(e)&&(e={mounted:e,updated:e}),e.deep&&traverse(n),o.push({dir:e,instance:i,value:n,oldValue:void 0,arg:r,modifiers:a}))}return e}function invokeDirectiveHook(e,t,i,o){const s=e.dirs,n=t&&t.dirs;for(let r=0;r<s.length;r++){const a=s[r];n&&(a.oldValue=n[r].value);let l=a.dir[o];l&&(pauseTracking(),callWithAsyncErrorHandling(l,i,8,[e.el,a,e,t]),resetTracking())}}function provide(e,t){if(currentInstance){let i=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===i&&(i=currentInstance.provides=Object.create(o)),i[e]=t}}function inject(e,t,i=!1){const o=getCurrentInstance();if(o||currentApp){let s=currentApp?currentApp._context.provides:o?null==o.parent||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return i&&isFunction$1(t)?t.call(o&&o.proxy):t}}function hasInjectionContext(){return!(!getCurrentInstance()&&!currentApp)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchSyncEffect(e,t){return doWatch(e,null,{flush:"sync"})}function watch(e,t,i){return doWatch(e,t,i)}function doWatch(e,t,i=EMPTY_OBJ){const{immediate:o,deep:s,flush:n,once:r}=i,a=extend({},i),l=t&&o||!t&&"post"!==n;let c;if(isInSSRComponentSetup)if("sync"===n){const e=useSSRContext();c=e.__watcherHandles||(e.__watcherHandles=[])}else if(!l){const e=()=>{};return e.stop=NOOP,e.resume=NOOP,e.pause=NOOP,e}const d=currentInstance;a.call=(e,t,i)=>callWithAsyncErrorHandling(e,d,t,i);let u=!1;"post"===n?a.scheduler=e=>{queuePostRenderEffect(e,d&&d.suspense)}:"sync"!==n&&(u=!0,a.scheduler=(e,t)=>{t?e():queueJob(e)}),a.augmentJob=e=>{t&&(e.flags|=4),u&&(e.flags|=2,d&&(e.id=d.uid,e.i=d))};const h=watch$1(e,t,a);return isInSSRComponentSetup&&(c?c.push(h):l&&h()),h}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,leaveCbKey=Symbol("_leaveCb");function setTransitionHooks(e,t){6&e.shapeFlag&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function defineComponent(e,t){return isFunction$1(e)?(()=>extend({name:e.name},t,{setup:e}))():e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(e,t,i,o,s=!1){if(isArray$2(e))return e.forEach((e,n)=>setRef(e,t&&(isArray$2(t)?t[n]:t),i,o,s)),void 0;if(isAsyncWrapper(o)&&!s)return 512&o.shapeFlag&&o.type.__asyncResolved&&o.component.subTree.component&&setRef(e,t,i,o.component.subTree),void 0;const n=4&o.shapeFlag?getComponentPublicInstance(o.component):o.el,r=s?null:n,{i:a,r:l}=e,c=t&&t.r,d=a.refs===EMPTY_OBJ?a.refs={}:a.refs,u=a.setupState,h=toRaw(u),p=u===EMPTY_OBJ?NO:e=>hasOwn(h,e);if(null!=c&&c!==l)if(invalidatePendingSetRef(t),isString(c))d[c]=null,p(c)&&(u[c]=null);else if(isRef(c)){c.value=null;const e=t;e.k&&(d[e.k]=null)}if(isFunction$1(l))callWithErrorHandling(l,a,12,[r,d]);else{const t=isString(l),o=isRef(l);if(t||o){const a=()=>{if(e.f){const i=t?p(l)?u[l]:d[l]:l.value;if(s)isArray$2(i)&&remove(i,n);else if(isArray$2(i))i.includes(n)||i.push(n);else if(t)d[l]=[n],p(l)&&(u[l]=d[l]);else{const t=[n];l.value=t,e.k&&(d[e.k]=t)}}else t?(d[l]=r,p(l)&&(u[l]=r)):o&&(l.value=r,e.k&&(d[e.k]=r))};if(r){const t=()=>{a(),pendingSetRefMap.delete(e)};t.id=-1,pendingSetRefMap.set(e,t),queuePostRenderEffect(t,i)}else invalidatePendingSetRef(e),a()}}}function invalidatePendingSetRef(e){const t=pendingSetRefMap.get(e);t&&(t.flags|=8,pendingSetRefMap.delete(e))}getGlobalThis().requestIdleCallback||(e=>setTimeout(e,1)),getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function injectHook(e,t,i=currentInstance,o=!1){if(i){const s=i[e]||(i[e]=[]),n=t.__weh||(t.__weh=(...o)=>{pauseTracking();const s=setCurrentInstance(i),n=callWithAsyncErrorHandling(t,i,e,o);return s(),resetTracking(),n});return o?s.unshift(n):s.push(n),n}}const createHook=e=>(t,i=currentInstance)=>{isInSSRComponentSetup&&"sp"!==e||injectHook(e,(...e)=>t(...e),i)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveAsset(e,t,i=!0,o=!1){const s=currentRenderingInstance||currentInstance;if(s){const i=s.type;{const e=getComponentName(i,!1);if(e&&(e===t||e===camelize(t)||e===capitalize(camelize(t))))return i}const n=resolve$1(s[e]||i[e],t)||resolve$1(s.appContext[e],t);return!n&&o?i:n}}function resolve$1(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,i,o){let s;const n=i,r=isArray$2(e);if(r||isString(e)){let i=!1,o=!1;r&&isReactive(e)&&(i=!isShallow(e),o=isReadonly(e),e=shallowReadArray(e)),s=new Array(e.length);for(let r=0,a=e.length;r<a;r++)s[r]=t(i?o?toReadonly(toReactive(e[r])):toReactive(e[r]):e[r],r,void 0,n)}else if("number"==typeof e){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,n)}else if(isObject$1(e))if(e[Symbol.iterator])s=Array.from(e,(e,i)=>t(e,i,void 0,n));else{const i=Object.keys(e);s=new Array(i.length);for(let o=0,r=i.length;o<r;o++){const r=i[o];s[o]=t(e[r],r,o,n)}}else s=[];return s}function renderSlot(e,t,i={},o,s){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce){const e=Object.keys(i).length>0;return openBlock(),createBlock(Fragment,null,[createVNode("slot",i,o)],e?-2:64)}let n=e[t];n&&n._c&&(n._d=!1),openBlock();const r=n&&ensureValidVNode(n(i)),a=i.key||r&&r.key,l=createBlock(Fragment,{key:(a&&!isSymbol(a)?a:`_${t}`)+(!r&&o?"_fb":"")},r||[],r&&1===e._?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function ensureValidVNode(e){return e.some(e=>!isVNode(e)||e.type!==Comment&&!(e.type===Fragment&&!ensureValidVNode(e.children)))?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>e.type,$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>NOOP}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:i,setupState:o,data:s,props:n,accessCache:r,type:a,appContext:l}=e;if("$"!==t[0]){const e=r[t];if(void 0!==e)switch(e){case 1:return o[t];case 2:return s[t];case 4:return i[t];case 3:return n[t]}else{if(hasSetupBinding(o,t))return r[t]=1,o[t];if(hasOwn(n,t))return r[t]=3,n[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return r[t]=4,i[t];r[t]=0}}const c=publicPropertiesMap[t];let d,u;return c?("$attrs"===t&&track(e.attrs,"get",""),c(e)):(d=a.__cssModules)&&(d=d[t])?d:i!==EMPTY_OBJ&&hasOwn(i,t)?(r[t]=4,i[t]):(u=l.config.globalProperties,hasOwn(u,t)?u[t]:void 0)},set({_:e},t,i){const{data:o,setupState:s,ctx:n}=e;return hasSetupBinding(s,t)?(s[t]=i,!0):!(hasOwn(e.props,t)||"$"===t[0]&&t.slice(1)in e||(n[t]=i,0))},has({_:{data:e,setupState:t,accessCache:i,ctx:o,appContext:s,props:n,type:r}},a){let l;return!!(i[a]||hasSetupBinding(t,a)||hasOwn(n,a)||hasOwn(o,a)||hasOwn(publicPropertiesMap,a)||hasOwn(s.config.globalProperties,a)||(l=r.__cssModules)&&l[a])},defineProperty(e,t,i){return null!=i.get?e._.accessCache[t]=0:hasOwn(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(t,i=null){isFunction$1(t)||(t=extend({},t)),null==i||isObject$1(i)||(i=null);const o=createAppContext(),s=new WeakSet,n=[];let r=!1;const a=o.app={_uid:uid$1++,_component:t,_props:i,_container:null,_context:o,_instance:null,version:version$2,get config(){return o.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&isFunction$1(e.install)?(s.add(e),e.install(a,...t)):isFunction$1(e)&&(s.add(e),e(a,...t))),a),mixin:e=>a,component:(e,t)=>t?(o.components[e]=t,a):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,a):o.directives[e],mount(s,n,l){if(!r){const n=a._ceVNode||createVNode(t,i);return n.appContext=o,!0===l?l="svg":!1===l&&(l=void 0),e(n,s,l),r=!0,a._container=s,s.__vue_app__=a,getComponentPublicInstance(n.component)}},onUnmount(e){n.push(e)},unmount(){r&&(callWithAsyncErrorHandling(n,a._instance,16),e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,a),runWithContext(e){const t=currentApp;currentApp=a;try{return e()}finally{currentApp=t}}};return a}}let currentApp=null;function useModel(e,t,i=EMPTY_OBJ){const o=getCurrentInstance(),s=camelize(t),n=hyphenate(t),r=getModelModifiers(e,s),a=customRef((r,a)=>{let l,c,d=EMPTY_OBJ;return watchSyncEffect(()=>{const t=e[s];hasChanged(l,t)&&(l=t,a())}),{get:()=>(r(),i.get?i.get(l):l),set(e){const r=i.set?i.set(e):e;if(!(hasChanged(r,l)||d!==EMPTY_OBJ&&hasChanged(e,d)))return;const u=o.vnode.props;u&&(t in u||s in u||n in u)&&(`onUpdate:${t}`in u||`onUpdate:${s}`in u||`onUpdate:${n}`in u)||(l=e,a()),o.emit(`update:${t}`,r),hasChanged(e,r)&&hasChanged(e,d)&&!hasChanged(r,c)&&a(),d=e,c=r}}});return a[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?r||EMPTY_OBJ:a,done:!1}:{done:!0}}},a}const getModelModifiers=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...i){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let s=i;const n=t.startsWith("update:"),r=n&&getModelModifiers(o,t.slice(7));let a;r&&(r.trim&&(s=i.map(e=>isString(e)?e.trim():e)),r.number&&(s=i.map(looseToNumber)));let l=o[a=toHandlerKey(t)]||o[a=toHandlerKey(camelize(t))];!l&&n&&(l=o[a=toHandlerKey(hyphenate(t))]),l&&callWithAsyncErrorHandling(l,e,6,s);const c=o[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,callWithAsyncErrorHandling(c,e,6,s)}}function normalizeEmitsOptions(e,t,i=!1){const o=t.emitsCache,s=o.get(e);if(void 0!==s)return s;const n=e.emits;let r={};return n?(isArray$2(n)?n.forEach(e=>r[e]=null):extend(r,n),isObject$1(e)&&o.set(e,r),r):(isObject$1(e)&&o.set(e,null),null)}function isEmitListener(e,t){return!(!e||!isOn(t))&&(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:i,proxy:o,withProxy:s,propsOptions:[n],slots:r,attrs:a,emit:l,render:c,renderCache:d,props:u,data:h,setupState:p,ctx:f,inheritAttrs:g}=e,m=setCurrentRenderingInstance(e);let _,b;try{if(4&i.shapeFlag){const e=s||o,t=e;_=normalizeVNode(c.call(t,e,d,u,p,h,f)),b=a}else{const e=t;0,_=normalizeVNode(e.length>1?e(u,{attrs:a,slots:r,emit:l}):e(u,null)),b=t.props?a:getFunctionalFallthrough(a)}}catch(y){blockStack.length=0,handleError(y,e,1),_=createVNode(Comment)}let v=_;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=v;e.length&&7&t&&(n&&e.some(isModelListener)&&(b=filterModelListeners(b,n)),v=cloneVNode(v,b,!1,!0))}return i.dirs&&(v=cloneVNode(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(i.dirs):i.dirs),i.transition&&setTransitionHooks(v,i.transition),_=v,setCurrentRenderingInstance(m),_}const getFunctionalFallthrough=e=>{let t;for(const i in e)("class"===i||"style"===i||isOn(i))&&((t||(t={}))[i]=e[i]);return t},filterModelListeners=(e,t)=>{const i={};for(const o in e)isModelListener(o)&&o.slice(9)in t||(i[o]=e[o]);return i};function shouldUpdateComponent(e,t,i){const{props:o,children:s,component:n}=e,{props:r,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(!(i&&l>=0))return!(!s&&!a||a&&a.$stable)||o!==r&&(o?!r||hasPropsChanged(o,r,c):!!r);if(1024&l)return!0;if(16&l)return o?hasPropsChanged(o,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t];if(r[i]!==o[i]&&!isEmitListener(c,i))return!0}}return!1}function hasPropsChanged(e,t,i){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const n=o[s];if(t[n]!==e[n]&&!isEmitListener(i,n))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},i){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o!==e)break;(e=t.vnode).el=i,t=t.parent}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,i,o=!1){const s={},n=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,s,n);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);i?e.props=o?s:shallowReactive(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function updateProps(e,t,i,o){const{props:s,attrs:n,vnode:{patchFlag:r}}=e,a=toRaw(s),[l]=e.propsOptions;let c=!1;if(!(o||r>0)||16&r){let o;setFullProps(e,t,s,n)&&(c=!0);for(const n in a)t&&(hasOwn(t,n)||(o=hyphenate(n))!==n&&hasOwn(t,o))||(l?!i||void 0===i[n]&&void 0===i[o]||(s[n]=resolvePropValue(l,a,n,void 0,e,!0)):delete s[n]);if(n!==a)for(const e in n)t&&hasOwn(t,e)||(delete n[e],c=!0)}else if(8&r){const i=e.vnode.dynamicProps;for(let o=0;o<i.length;o++){let r=i[o];if(isEmitListener(e.emitsOptions,r))continue;const d=t[r];if(l)if(hasOwn(n,r))d!==n[r]&&(n[r]=d,c=!0);else{const t=camelize(r);s[t]=resolvePropValue(l,a,t,d,e,!1)}else d!==n[r]&&(n[r]=d,c=!0)}}c&&trigger(e.attrs,"set","")}function setFullProps(e,t,i,o){const[s,n]=e.propsOptions;let r,a=!1;if(t)for(let l in t){if(isReservedProp(l))continue;const c=t[l];let d;s&&hasOwn(s,d=camelize(l))?n&&n.includes(d)?(r||(r={}))[d]=c:i[d]=c:isEmitListener(e.emitsOptions,l)||l in o&&c===o[l]||(o[l]=c,a=!0)}if(n){const t=toRaw(i),o=r||EMPTY_OBJ;for(let r=0;r<n.length;r++){const a=n[r];i[a]=resolvePropValue(s,t,a,o[a],e,!hasOwn(o,a))}}return a}function resolvePropValue(e,t,i,o,s,n){const r=e[i];if(null!=r){const e=hasOwn(r,"default");if(e&&void 0===o){const e=r.default;if(r.type!==Function&&!r.skipFactory&&isFunction$1(e)){const{propsDefaults:n}=s;if(i in n)o=n[i];else{const r=setCurrentInstance(s);o=n[i]=e.call(null,t),r()}}else o=e;s.ce&&s.ce._setProp(i,o)}r[0]&&(n&&!e?o=!1:!r[1]||""!==o&&o!==hyphenate(i)||(o=!0))}return o}function normalizePropsOptions(e,t,i=!1){const o=t.propsCache,s=o.get(e);if(s)return s;const n=e.props,r={},a=[];if(!n)return isObject$1(e)&&o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(n))for(let c=0;c<n.length;c++){const e=camelize(n[c]);validatePropName(e)&&(r[e]=EMPTY_OBJ)}else if(n)for(const c in n){const e=camelize(c);if(validatePropName(e)){const t=n[c],i=r[e]=isArray$2(t)||isFunction$1(t)?{type:t}:extend({},t),o=i.type;let s=!1,l=!0;if(isArray$2(o))for(let e=0;e<o.length;++e){const t=o[e],i=isFunction$1(t)&&t.name;if("Boolean"===i){s=!0;break}"String"===i&&(l=!1)}else s=isFunction$1(o)&&"Boolean"===o.name;i[0]=s,i[1]=l,(s||hasOwn(i,"default"))&&a.push(e)}}const l=[r,a];return isObject$1(e)&&o.set(e,l),l}function validatePropName(e){return"$"!==e[0]&&!isReservedProp(e)}const isInternalKey=e=>"_"===e||"_ctx"===e||"$stable"===e,normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,i)=>{if(t._n)return t;const o=withCtx((...e)=>(0,normalizeSlotValue(t(...e))),i);return o._c=!1,o},normalizeObjectSlots=(e,t,i)=>{const o=e._ctx;for(const s in e){if(isInternalKey(s))continue;const i=e[s];if(isFunction$1(i))t[s]=normalizeSlot$1(s,i,o);else if(null!=i){const e=normalizeSlotValue(i);t[s]=()=>e}}},normalizeVNodeSlots=(e,t)=>{const i=normalizeSlotValue(t);e.slots.default=()=>i},assignSlots=(e,t,i)=>{for(const o in t)!i&&isInternalKey(o)||(e[o]=t[o])},initSlots=(e,t,i)=>{const o=e.slots=createInternalObject();if(32&e.vnode.shapeFlag){const e=t._;e?(assignSlots(o,t,i),i&&def(o,"_",e,!0)):normalizeObjectSlots(t,o)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,i)=>{const{vnode:o,slots:s}=e;let n=!0,r=EMPTY_OBJ;if(32&o.shapeFlag){const e=t._;e?i&&1===e?n=!1:assignSlots(s,t,i):(n=!t.$stable,normalizeObjectSlots(t,s)),r=t}else t&&(normalizeVNodeSlots(e,t),r={default:1});if(n)for(const a in s)isInternalKey(a)||null!=r[a]||delete s[a]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){getGlobalThis().__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:n,createText:r,createComment:a,setText:l,setElementText:c,parentNode:d,nextSibling:u,setScopeId:h=NOOP,insertStaticContent:p}=e,f=(e,t,i,o=null,s=null,n=null,r=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!isSameVNodeType(e,t)&&(o=L(e),P(e,s,n,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case Text:g(e,t,i,o);break;case Comment:m(e,t,i,o);break;case Static:null==e&&_(t,i,o,r);break;case Fragment:k(e,t,i,o,s,n,r,a,l);break;default:1&u?b(e,t,i,o,s,n,r,a,l):6&u?C(e,t,i,o,s,n,r,a,l):(64&u||128&u)&&c.process(e,t,i,o,s,n,r,a,l,z)}null!=d&&s?setRef(d,e&&e.ref,n,t||e,!t):null==d&&e&&null!=e.ref&&setRef(e.ref,null,n,e,!0)},g=(e,t,o,s)=>{if(null==e)i(t.el=r(t.children),o,s);else{const i=t.el=e.el;t.children!==e.children&&l(i,t.children)}},m=(e,t,o,s)=>{null==e?i(t.el=a(t.children||""),o,s):t.el=e.el},_=(e,t,i,o)=>{[e.el,e.anchor]=p(e.children,t,i,o,e.el,e.anchor)},b=(e,t,i,o,s,n,r,a,l)=>{if("svg"===t.type?r="svg":"math"===t.type&&(r="mathml"),null==e)v(t,i,o,s,n,r,a,l);else{const i=e.el&&e.el._isVueCE?e.el:null;try{i&&i._beginPatch(),x(e,t,s,n,r,a,l)}finally{i&&i._endPatch()}}},v=(e,t,o,r,a,l,d,u)=>{let h,p;const{props:f,shapeFlag:g,transition:m,dirs:_}=e;if(h=e.el=n(e.type,l,f&&f.is,f),8&g?c(h,e.children):16&g&&w(e.children,h,null,r,a,resolveChildrenNamespace(e,l),d,u),_&&invokeDirectiveHook(e,null,r,"created"),y(h,e,e.scopeId,d,r),f){for(const e in f)"value"===e||isReservedProp(e)||s(h,e,null,f[e],l,r);"value"in f&&s(h,"value",null,f.value,l),(p=f.onVnodeBeforeMount)&&invokeVNodeHook(p,r,e)}_&&invokeDirectiveHook(e,null,r,"beforeMount");const b=needTransition(a,m);b&&m.beforeEnter(h),i(h,t,o),((p=f&&f.onVnodeMounted)||b||_)&&queuePostRenderEffect(()=>{p&&invokeVNodeHook(p,r,e),b&&m.enter(h),_&&invokeDirectiveHook(e,null,r,"mounted")},a)},y=(e,t,i,o,s)=>{if(i&&h(e,i),o)for(let n=0;n<o.length;n++)h(e,o[n]);if(s){let i=s.subTree;if(t===i||isSuspense(i.type)&&(i.ssContent===t||i.ssFallback===t)){const t=s.vnode;y(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},w=(e,t,i,o,s,n,r,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?cloneIfMounted(e[c]):normalizeVNode(e[c]);f(null,l,t,i,o,s,n,r,a)}},x=(e,t,i,o,n,r,a)=>{const l=t.el=e.el;let{patchFlag:d,dynamicChildren:u,dirs:h}=t;d|=16&e.patchFlag;const p=e.props||EMPTY_OBJ,f=t.props||EMPTY_OBJ;let g;if(i&&toggleRecurse(i,!1),(g=f.onVnodeBeforeUpdate)&&invokeVNodeHook(g,i,t,e),h&&invokeDirectiveHook(t,e,i,"beforeUpdate"),i&&toggleRecurse(i,!0),(p.innerHTML&&null==f.innerHTML||p.textContent&&null==f.textContent)&&c(l,""),u?S(e.dynamicChildren,u,l,i,o,resolveChildrenNamespace(t,n),r):a||A(e,t,l,null,i,o,resolveChildrenNamespace(t,n),r,!1),d>0){if(16&d)$(l,p,f,i,n);else if(2&d&&p.class!==f.class&&s(l,"class",null,f.class,n),4&d&&s(l,"style",p.style,f.style,n),8&d){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const o=e[t],r=p[o],a=f[o];a===r&&"value"!==o||s(l,o,r,a,n,i)}}1&d&&e.children!==t.children&&c(l,t.children)}else a||null!=u||$(l,p,f,i,n);((g=f.onVnodeUpdated)||h)&&queuePostRenderEffect(()=>{g&&invokeVNodeHook(g,i,t,e),h&&invokeDirectiveHook(t,e,i,"updated")},o)},S=(e,t,i,o,s,n,r)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Fragment||!isSameVNodeType(l,c)||198&l.shapeFlag)?d(l.el):i;f(l,c,u,null,o,s,n,r,!0)}},$=(e,t,i,o,n)=>{if(t!==i){if(t!==EMPTY_OBJ)for(const r in t)isReservedProp(r)||r in i||s(e,r,t[r],null,n,o);for(const r in i){if(isReservedProp(r))continue;const a=i[r],l=t[r];a!==l&&"value"!==r&&s(e,r,l,a,n,o)}"value"in i&&s(e,"value",t.value,i.value,n)}},k=(e,t,o,s,n,a,l,c,d)=>{const u=t.el=e?e.el:r(""),h=t.anchor=e?e.anchor:r("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(i(u,o,s),i(h,o,s),w(t.children||[],o,h,n,a,l,c,d)):p>0&&64&p&&f&&e.dynamicChildren&&e.dynamicChildren.length===f.length?(S(e.dynamicChildren,f,o,n,a,l,c),(null!=t.key||n&&t===n.subTree)&&traverseStaticChildren(e,t,!0)):A(e,t,o,h,n,a,l,c,d)},C=(e,t,i,o,s,n,r,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,i,o,r,l):B(t,i,o,s,n,r,l):N(e,t,l)},B=(e,t,i,o,s,n,r)=>{const a=e.component=createComponentInstance(e,o,s);if(isKeepAlive(e)&&(a.ctx.renderer=z),setupComponent(a,!1,r),a.asyncDep){if(s&&s.registerDep(a,V,r),!e.el){const o=a.subTree=createVNode(Comment);m(null,o,t,i),e.placeholder=o.el}}else V(a,e,t,i,s,n,r)},N=(e,t,i)=>{const o=t.component=e.component;if(shouldUpdateComponent(e,t,i)){if(o.asyncDep&&!o.asyncResolved)return E(o,t,i),void 0;o.next=t,o.update()}else t.el=e.el,o.vnode=t},V=(e,t,i,o,s,n,r)=>{const a=()=>{if(e.isMounted){let{next:t,bu:i,u:o,parent:l,vnode:c}=e;{const i=locateNonHydratedAsyncRoot(e);if(i)return t&&(t.el=c.el,E(e,t,r)),i.asyncDep.then(()=>{e.isUnmounted||a()}),void 0}let u,h=t;toggleRecurse(e,!1),t?(t.el=c.el,E(e,t,r)):t=c,i&&invokeArrayFns(i),(u=t.props&&t.props.onVnodeBeforeUpdate)&&invokeVNodeHook(u,l,t,c),toggleRecurse(e,!0);const p=renderComponentRoot(e),g=e.subTree;e.subTree=p,f(g,p,d(g.el),L(g),e,s,n),t.el=p.el,null===h&&updateHOCHostEl(e,p.el),o&&queuePostRenderEffect(o,s),(u=t.props&&t.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(u,l,t,c),s)}else{let r;const{el:a,props:l}=t,{bm:c,m:d,parent:u,root:h,type:p}=e,g=isAsyncWrapper(t);toggleRecurse(e,!1),c&&invokeArrayFns(c),!g&&(r=l&&l.onVnodeBeforeMount)&&invokeVNodeHook(r,u,t),toggleRecurse(e,!0);{h.ce&&!1!==h.ce._def.shadowRoot&&h.ce._injectChildStyle(p);const r=e.subTree=renderComponentRoot(e);f(null,r,i,o,e,s,n),t.el=r.el}if(d&&queuePostRenderEffect(d,s),!g&&(r=l&&l.onVnodeMounted)){const e=t;queuePostRenderEffect(()=>invokeVNodeHook(r,u,e),s)}(256&t.shapeFlag||u&&isAsyncWrapper(u.vnode)&&256&u.vnode.shapeFlag)&&e.a&&queuePostRenderEffect(e.a,s),e.isMounted=!0,t=i=o=null}};e.scope.on();const l=e.effect=new ReactiveEffect(a);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>queueJob(u),toggleRecurse(e,!0),c()},E=(e,t,i)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,updateProps(e,t.props,o,i),updateSlots(e,t.children,i),pauseTracking(),flushPreFlushCbs(e),resetTracking()},A=(e,t,i,o,s,n,r,a,l=!1)=>{const d=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return T(d,h,i,o,s,n,r,a,l),void 0;if(256&p)return M(d,h,i,o,s,n,r,a,l),void 0}8&f?(16&u&&F(d,s,n),h!==d&&c(i,h)):16&u?16&f?T(d,h,i,o,s,n,r,a,l):F(d,s,n,!0):(8&u&&c(i,""),16&f&&w(h,i,o,s,n,r,a,l))},M=(e,t,i,o,s,n,r,a,l)=>{t=t||EMPTY_ARR;const c=(e=e||EMPTY_ARR).length,d=t.length,u=Math.min(c,d);let h;for(h=0;h<u;h++){const o=t[h]=l?cloneIfMounted(t[h]):normalizeVNode(t[h]);f(e[h],o,i,null,s,n,r,a,l)}c>d?F(e,s,n,!0,!1,u):w(t,i,o,s,n,r,a,l,u)},T=(e,t,i,o,s,n,r,a,l)=>{let c=0;const d=t.length;let u=e.length-1,h=d-1;for(;c<=u&&c<=h;){const o=e[c],d=t[c]=l?cloneIfMounted(t[c]):normalizeVNode(t[c]);if(!isSameVNodeType(o,d))break;f(o,d,i,null,s,n,r,a,l),c++}for(;c<=u&&c<=h;){const o=e[u],c=t[h]=l?cloneIfMounted(t[h]):normalizeVNode(t[h]);if(!isSameVNodeType(o,c))break;f(o,c,i,null,s,n,r,a,l),u--,h--}if(c>u){if(c<=h){const e=h+1,u=e<d?t[e].el:o;for(;c<=h;)f(null,t[c]=l?cloneIfMounted(t[c]):normalizeVNode(t[c]),i,u,s,n,r,a,l),c++}}else if(c>h)for(;c<=u;)P(e[c],s,n,!0),c++;else{const p=c,g=c,m=new Map;for(c=g;c<=h;c++){const e=t[c]=l?cloneIfMounted(t[c]):normalizeVNode(t[c]);null!=e.key&&m.set(e.key,c)}let _,b=0;const v=h-g+1;let y=!1,w=0;const x=new Array(v);for(c=0;c<v;c++)x[c]=0;for(c=p;c<=u;c++){const o=e[c];if(b>=v){P(o,s,n,!0);continue}let d;if(null!=o.key)d=m.get(o.key);else for(_=g;_<=h;_++)if(0===x[_-g]&&isSameVNodeType(o,t[_])){d=_;break}void 0===d?P(o,s,n,!0):(x[d-g]=c+1,d>=w?w=d:y=!0,f(o,t[d],i,null,s,n,r,a,l),b++)}const S=y?getSequence(x):EMPTY_ARR;for(_=S.length-1,c=v-1;c>=0;c--){const e=g+c,u=t[e],h=t[e+1],p=e+1<d?h.el||resolveAsyncComponentPlaceholder(h):o;0===x[c]?f(null,u,i,p,s,n,r,a,l):y&&(_<0||c!==S[_]?D(u,i,p,2):_--)}}},D=(e,t,s,n,r=null)=>{const{el:a,type:l,transition:c,children:d,shapeFlag:h}=e;if(6&h)return D(e.component.subTree,t,s,n),void 0;if(128&h)return e.suspense.move(t,s,n),void 0;if(64&h)return l.move(e,t,s,z),void 0;if(l===Fragment){i(a,t,s);for(let e=0;e<d.length;e++)D(d[e],t,s,n);return i(e.anchor,t,s),void 0}if(l===Static)return(({el:e,anchor:t},o,s)=>{let n;for(;e&&e!==t;)n=u(e),i(e,o,s),e=n;i(t,o,s)})(e,t,s),void 0;if(2!==n&&1&h&&c)if(0===n)c.beforeEnter(a),i(a,t,s),queuePostRenderEffect(()=>c.enter(a),r);else{const{leave:n,delayLeave:r,afterLeave:l}=c,d=()=>{e.ctx.isUnmounted?o(a):i(a,t,s)},u=()=>{a._isLeaving&&a[leaveCbKey](!0),n(a,()=>{d(),l&&l()})};r?r(a,d,u):u()}else i(a,t,s)},P=(e,t,i,o=!1,s=!1)=>{const{type:n,props:r,ref:a,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:h,cacheIndex:p}=e;if(-2===u&&(s=!1),null!=a&&(pauseTracking(),setRef(a,null,i,e,!0),resetTracking()),null!=p&&(t.renderCache[p]=void 0),256&d)return t.ctx.deactivate(e),void 0;const f=1&d&&h,g=!isAsyncWrapper(e);let m;if(g&&(m=r&&r.onVnodeBeforeUnmount)&&invokeVNodeHook(m,t,e),6&d)I(e.component,i,o);else{if(128&d)return e.suspense.unmount(i,o),void 0;f&&invokeDirectiveHook(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,i,z,o):c&&!c.hasOnce&&(n!==Fragment||u>0&&64&u)?F(c,t,i,!1,!0):(n===Fragment&&384&u||!s&&16&d)&&F(l,t,i),o&&R(e)}(g&&(m=r&&r.onVnodeUnmounted)||f)&&queuePostRenderEffect(()=>{m&&invokeVNodeHook(m,t,e),f&&invokeDirectiveHook(e,null,t,"unmounted")},i)},R=e=>{const{type:t,el:i,anchor:s,transition:n}=e;if(t===Fragment)return O(i,s),void 0;if(t===Static)return(({el:e,anchor:t})=>{let i;for(;e&&e!==t;)i=u(e),o(e),e=i;o(t)})(e),void 0;const r=()=>{o(i),n&&!n.persisted&&n.afterLeave&&n.afterLeave()};if(1&e.shapeFlag&&n&&!n.persisted){const{leave:t,delayLeave:o}=n,s=()=>t(i,r);o?o(e.el,r,s):s()}else r()},O=(e,t)=>{let i;for(;e!==t;)i=u(e),o(e),e=i;o(t)},I=(e,t,i)=>{const{bum:o,scope:s,job:n,subTree:r,um:a,m:l,a:c}=e;invalidateMount(l),invalidateMount(c),o&&invokeArrayFns(o),s.stop(),n&&(n.flags|=8,P(r,e,t,i)),a&&queuePostRenderEffect(a,t),queuePostRenderEffect(()=>{e.isUnmounted=!0},t)},F=(e,t,i,o=!1,s=!1,n=0)=>{for(let r=n;r<e.length;r++)P(e[r],t,i,o,s)},L=e=>{if(6&e.shapeFlag)return L(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=u(e.anchor||e.el),i=t&&t[TeleportEndKey];return i?u(i):t};let j=!1;const H=(e,t,i)=>{let o;null==e?t._vnode&&(P(t._vnode,null,null,!0),o=t._vnode.component):f(t._vnode||null,e,t,null,null,null,i),t._vnode=e,j||(j=!0,flushPreFlushCbs(o),flushPostFlushCbs(),j=!1)},z={p:f,um:P,m:D,r:R,mt:B,mc:w,pc:A,pbc:S,n:L,o:e};return{render:H,hydrate:void 0,createApp:createAppAPI(H)}}function resolveChildrenNamespace({type:e,props:t},i){return"svg"===i&&"foreignObject"===e||"mathml"===i&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function toggleRecurse({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,i=!1){const o=e.children,s=t.children;if(isArray$2(o)&&isArray$2(s))for(let n=0;n<o.length;n++){const t=o[n];let r=s[n];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=s[n]=cloneIfMounted(s[n]),r.el=t.el),i||-2===r.patchFlag||traverseStaticChildren(t,r)),r.type===Text&&(-1!==r.patchFlag?r.el=t.el:r.__elIndex=n+(e.type===Fragment?1:0)),r.type!==Comment||r.el||(r.el=t.el)}}function getSequence(e){const t=e.slice(),i=[0];let o,s,n,r,a;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(s=i[i.length-1],e[s]<l){t[o]=s,i.push(o);continue}for(n=0,r=i.length-1;n<r;)a=n+r>>1,e[i[a]]<l?n=a+1:r=a;l<e[i[n]]&&(n>0&&(t[o]=i[n-1]),i[n]=o)}}for(n=i.length,r=i[n-1];n-- >0;)i[n]=r,r=t[r];return i}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function resolveAsyncComponentPlaceholder(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?resolveAsyncComponentPlaceholder(t.subTree):null}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,i,o,s,n){return setupBlock(createBaseVNode(e,t,i,o,s,n,!0))}function createBlock(e,t,i,o,s){return setupBlock(createVNode(e,t,i,o,s,!0))}function isVNode(e){return!!e&&!0===e.__v_isVNode}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>null!=e?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:i})=>("number"==typeof e&&(e=""+e),null!=e?isString(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!i}:e:null);function createBaseVNode(e,t=null,i=null,o=0,s=null,n=(e===Fragment?0:1),r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return a?(normalizeChildren(l,i),128&n&&e.normalize(l)):i&&(l.shapeFlag|=isString(i)?8:16),isBlockTreeEnabled>0&&!r&&currentBlock&&(l.patchFlag>0||6&n)&&32!==l.patchFlag&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,i=null,o=0,s=null,n=!1){if(e&&e!==NULL_DYNAMIC_COMPONENT||(e=Comment),isVNode(e)){const o=cloneVNode(e,t,!0);return i&&normalizeChildren(o,i),isBlockTreeEnabled>0&&!n&&currentBlock&&(6&o.shapeFlag?currentBlock[currentBlock.indexOf(e)]=o:currentBlock.push(o)),o.patchFlag=-2,o}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:e,style:i}=t;e&&!isString(e)&&(t.class=normalizeClass(e)),isObject$1(i)&&(isProxy(i)&&!isArray$2(i)&&(i=extend({},i)),t.style=normalizeStyle(i))}return createBaseVNode(e,t,i,o,s,isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$1(e)?2:0,n,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,i=!1,o=!1){const{props:s,ref:n,patchFlag:r,children:a,transition:l}=e,c=t?mergeProps(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?i&&n?isArray$2(n)?n.concat(normalizeRef(t)):[n,normalizeRef(t)]:normalizeRef(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&setTransitionHooks(d,l.clone(d)),d}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const i=createVNode(Static,null,e);return i.staticCount=t,i}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return null==e||"boolean"==typeof e?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let i=0;const{shapeFlag:o}=e;if(null==t)t=null;else if(isArray$2(t))i=16;else if("object"==typeof t){if(65&o){const i=t.default;return i&&(i._c&&(i._d=!1),normalizeChildren(e,i()),i._c&&(i._d=!0)),void 0}{i=32;const o=t._;o||isInternalObject(t)?3===o&&currentRenderingInstance&&(1===currentRenderingInstance.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=currentRenderingInstance}}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},i=32):(t=String(t),64&o?(i=16,t=[createTextVNode(t)]):i=8);e.children=t,e.shapeFlag|=i}function mergeProps(...e){const t={};for(let i=0;i<e.length;i++){const o=e[i];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=normalizeClass([t.class,o.class]));else if("style"===e)t.style=normalizeStyle([t.style,o.style]);else if(isOn(e)){const i=t[e],s=o[e];!s||i===s||isArray$2(i)&&i.includes(s)||(t[e]=i?[].concat(i,s):s)}else""!==e&&(t[e]=o[e])}return t}function invokeVNodeHook(e,t,i,o=null){callWithAsyncErrorHandling(e,t,7,[i,o])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(e,t,i){const o=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,n={uid:uid$2++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=emit.bind(null,n),e.ce&&e.ce(n),n}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(t,i)=>{let o;return(o=e[t])||(o=e[t]=[]),o.push(i),e=>{o.length>1?o.forEach(t=>t(e)):o[0](e)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",e=>currentInstance=e),setInSSRSetupState=t("__VUE_SSR_SETTERS__",e=>isInSSRComponentSetup=e)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return 4&e.vnode.shapeFlag}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,i=!1){t&&setInSSRSetupState(t);const{props:o,children:s}=e.vnode,n=isStatefulComponent(e);initProps(e,o,n,t),initSlots(e,s,i||t);const r=n?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),r}function setupStatefulComponent(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:o}=i;if(o){pauseTracking();const i=e.setupContext=o.length>1?createSetupContext(e):null,s=setCurrentInstance(e),n=callWithErrorHandling(o,e,0,[e.props,i]),r=isPromise(n);if(resetTracking(),s(),!r&&!e.sp||isAsyncWrapper(e)||markAsyncBoundary(e),r){if(n.then(unsetCurrentInstance,unsetCurrentInstance),t)return n.then(t=>{handleSetupResult(e,t)}).catch(t=>{handleError(t,e,0)});e.asyncDep=n}else handleSetupResult(e,n)}else finishComponentSetup(e)}function handleSetupResult(e,t,i){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,i){const o=e.type;e.render||(e.render=o.render||NOOP)}const attrsProxyHandlers={get:(e,t)=>(track(e,"get",""),e[t])};function createSetupContext(e){return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get:(t,i)=>i in t?t[i]:i in publicPropertiesMap?publicPropertiesMap[i](e):void 0,has:(e,t)=>t in e||t in publicPropertiesMap})):e.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=e=>e.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,i=!1){let o=getComponentName(t);if(!o&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(o=e[1])}if(!o&&e){const i=e=>{for(const i in e)if(e[i]===t)return i};o=i(e.components)||e.parent&&i(e.parent.type.components)||i(e.appContext.components)}return o?classify(o):i?"App":"Anonymous"}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,i){try{setBlockTracking(-1);const o=arguments.length;return 2===o?isObject$1(t)&&!isArray$2(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(o>3?i=Array.prototype.slice.call(arguments,2):3===o&&isVNode(i)&&(i=[i]),createVNode(e,t,i))}finally{setBlockTracking(1)}}const version$2="3.5.26";let policy;const tt="undefined"!=typeof window&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch(e){}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc="undefined"!=typeof document?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,o)=>{const s="svg"===t?doc.createElementNS(svgNS,e):"mathml"===t?doc.createElementNS(mathmlNS,e):i?doc.createElement(e,{is:i}):doc.createElement(e);return"select"===e&&o&&null!=o.multiple&&s.setAttribute("multiple",o.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,o,s,n){const r=i?i.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),s!==n&&(s=s.nextSibling););else{templateContainer.innerHTML=unsafeToTrustedHTML("svg"===o?`<svg>${e}</svg>`:"mathml"===o?`<math>${e}</math>`:e);const s=templateContainer.content;if("svg"===o||"mathml"===o){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,i)}return[r?r.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,i){const o=e[vtcKey];o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={name:"show",beforeMount(e,{value:t},{transition:i}){e[vShowOriginalDisplay]="none"===e.style.display?"":e.style.display,i&&t?i.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:o}){!t!=!i&&(o?t?(o.beforeEnter(e),setDisplay(e,!0),o.enter(e)):o.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(e,t,i){const o=e.style,s=isString(i);let n=!1;if(i&&!s){if(t)if(isString(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==i[t]&&setStyle$1(o,t,"")}else for(const e in t)null==i[e]&&setStyle$1(o,e,"");for(const e in i)"display"===e&&(n=!0),setStyle$1(o,e,i[e])}else if(s){if(t!==i){const e=o[CSS_VAR_TEXT];e&&(i+=";"+e),o.cssText=i,n=displayRE.test(i)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=n?o.display:"",e[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle$1(e,t,i){if(isArray$2(i))i.forEach(i=>setStyle$1(e,t,i));else if(null==i&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const o=autoPrefix(e,t);importantRE.test(i)?e.setProperty(hyphenate(o),i.replace(importantRE,""),"important"):e[o]=i}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const i=prefixCache[t];if(i)return i;let o=camelize(t);if("filter"!==o&&o in e)return prefixCache[t]=o;o=capitalize(o);for(let s=0;s<prefixes.length;s++){const i=prefixes[s]+o;if(i in e)return prefixCache[t]=i}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,i,o,s,n=isSpecialBooleanAttr(t)){o&&t.startsWith("xlink:")?null==i?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,i):null==i||n&&!includeBooleanAttr(i)?e.removeAttribute(t):e.setAttribute(t,n?"":isSymbol(i)?String(i):i)}function patchDOMProp(t,i,o,s,n){if("innerHTML"===i||"textContent"===i)return null!=o&&(t[i]="innerHTML"===i?unsafeToTrustedHTML(o):o),void 0;const r=t.tagName;if("value"===i&&"PROGRESS"!==r&&!r.includes("-")){const e="OPTION"===r?t.getAttribute("value")||"":t.value,s=null==o?"checkbox"===t.type?"on":"":String(o);return e===s&&"_value"in t||(t.value=s),null==o&&t.removeAttribute(i),t._value=o,void 0}let a=!1;if(""===o||null==o){const e=typeof t[i];"boolean"===e?o=includeBooleanAttr(o):null==o&&"string"===e?(o="",a=!0):"number"===e&&(o=0,a=!0)}try{t[i]=o}catch(e){}a&&t.removeAttribute(n||i)}function addEventListener(e,t,i,o){e.addEventListener(t,i,o)}function removeEventListener(e,t,i,o){e.removeEventListener(t,i,o)}const veiKey=Symbol("_vei");function patchEvent(e,t,i,o,s=null){const n=e[veiKey]||(e[veiKey]={}),r=n[t];if(o&&r)r.value=o;else{const[i,a]=parseName(t);o?addEventListener(e,i,n[t]=createInvoker(o,s),a):r&&(removeEventListener(e,i,r,a),n[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){let i;for(t={};i=e.match(optionsModifierRE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const i=e=>{if(e._vts){if(e._vts<=i.attached)return}else e._vts=Date.now();callWithAsyncErrorHandling(patchStopImmediatePropagation(e,i.value),t,5,[e])};return i.value=e,i.attached=getNow(),i}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}const isNativeOn=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,i,o,s,n)=>{const r="svg"===s;"class"===t?patchClass(e,o,r):"style"===t?patchStyle(e,i,o):isOn(t)?isModelListener(t)||patchEvent(e,t,i,o,n):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):shouldSetAsProp(e,t,o,r))?(patchDOMProp(e,t,o),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||patchAttr(e,t,o,r,n,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&isString(o)?("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),patchAttr(e,t,o,r)):patchDOMProp(e,camelize(t),o,n,t)};function shouldSetAsProp(e,t,i,o){if(o)return"innerHTML"===t||"textContent"===t||!!(t in e&&isNativeOn(t)&&isFunction$1(i));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!isNativeOn(t)||!isString(i))&&t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?e=>invokeArrayFns(t,e):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign");function castValue(e,t,i){return t&&(e=e.trim()),i&&(e=looseToNumber(e)),e}const vModelText={created(e,{modifiers:{lazy:t,trim:i,number:o}},s){e[assignKey]=getModelAssigner(s);const n=o||s.props&&"number"===s.props.type;addEventListener(e,t?"change":"input",t=>{t.target.composing||e[assignKey](castValue(e.value,i,n))}),(i||n)&&addEventListener(e,"change",()=>{e.value=castValue(e.value,i,n)}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:o,trim:s,number:n}},r){if(e[assignKey]=getModelAssigner(r),e.composing)return;const a=null==t?"":t;if((!n&&"number"!==e.type||/^0\d/.test(e.value)?e.value:looseToNumber(e.value))!==a){if(document.activeElement===e&&"range"!==e.type){if(o&&t===i)return;if(s&&e.value.trim()===a)return}e.value=a}}},vModelCheckbox={deep:!0,created(e,t,i){e[assignKey]=getModelAssigner(i),addEventListener(e,"change",()=>{const t=e._modelValue,i=getValue(e),o=e.checked,s=e[assignKey];if(isArray$2(t)){const e=looseIndexOf(t,i),n=-1!==e;if(o&&!n)s(t.concat(i));else if(!o&&n){const i=[...t];i.splice(e,1),s(i)}}else if(isSet(t)){const e=new Set(t);o?e.add(i):e.delete(i),s(e)}else s(getCheckboxValue(e,o))})},mounted:setChecked,beforeUpdate(e,t,i){e[assignKey]=getModelAssigner(i),setChecked(e,t,i)}};function setChecked(e,{value:t,oldValue:i},o){let s;if(e._modelValue=t,isArray$2(t))s=looseIndexOf(t,o.props.value)>-1;else if(isSet(t))s=t.has(o.props.value);else{if(t===i)return;s=looseEqual(t,getCheckboxValue(e,!0))}e.checked!==s&&(e.checked=s)}const vModelRadio={created(e,{value:t},i){e.checked=looseEqual(t,i.props.value),e[assignKey]=getModelAssigner(i),addEventListener(e,"change",()=>{e[assignKey](getValue(e))})},beforeUpdate(e,{value:t,oldValue:i},o){e[assignKey]=getModelAssigner(o),t!==i&&(e.checked=looseEqual(t,o.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:i}},o){const s=isSet(t);addEventListener(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>i?looseToNumber(getValue(e)):getValue(e));e[assignKey](e.multiple?s?new Set(t):t:t[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(o)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,i){e[assignKey]=getModelAssigner(i)},updated(e,{value:t}){e._assigning||setSelected(e,t)}};function setSelected(e,t){const i=e.multiple,o=isArray$2(t);if(!i||o||isSet(t)){for(let s=0,n=e.options.length;s<n;s++){const n=e.options[s],r=getValue(n);if(i)if(o){const e=typeof r;n.selected="string"===e||"number"===e?t.some(e=>String(e)===String(r)):looseIndexOf(t,r)>-1}else n.selected=t.has(r);else if(looseEqual(getValue(n),t))return e.selectedIndex!==s&&(e.selectedIndex=s),void 0}i||-1===e.selectedIndex||(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const vModelDynamic={created(e,t,i){callModelHook(e,t,i,null,"created")},mounted(e,t,i){callModelHook(e,t,i,null,"mounted")},beforeUpdate(e,t,i,o){callModelHook(e,t,i,o,"beforeUpdate")},updated(e,t,i,o){callModelHook(e,t,i,o,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,i,o,s){const n=resolveDynamicModel(e.tagName,i.props&&i.props.type)[s];n&&n(e,t,i,o)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>systemModifiers.some(i=>e[`${i}Key`]&&!t.includes(i))},withModifiers=(e,t)=>{const i=e._withMods||(e._withMods={}),o=t.join(".");return i[o]||(i[o]=(i,...o)=>{for(let e=0;e<t.length;e++){const o=modifierGuards[t[e]];if(o&&o(i,t))return}return e(i,...o)})},rendererOptions=extend({patchProp:patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:i}=t;return t.mount=e=>{const o=normalizeContainer(e);if(!o)return;const s=t._component;isFunction$1(s)||s.render||s.template||(s.template=o.innerHTML),1===o.nodeType&&(o.textContent="");const n=i(o,!1,resolveRootNamespace(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),n},t};function resolveRootNamespace(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var MutationType,MutationType2;function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let i=[],o=[];const s=markRaw({install(e){setActivePinia(s),s._a=e,e.provide(piniaSymbol,s),e.config.globalProperties.$pinia=s,o.forEach(e=>i.push(e)),o=[]},use(e){return this._a?i.push(e):o.push(e),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return s}MutationType2=MutationType||(MutationType={}),MutationType2.direct="direct",MutationType2.patchObject="patch object",void(MutationType2.patchFunction="patch function");const noop$2=()=>{};function addSubscription(e,t,i,o=noop$2){e.add(t);const s=()=>{e.delete(t)&&o()};return!i&&getCurrentScope()&&onScopeDispose(s),s}function triggerSubscriptions(e,...t){e.forEach(e=>{e(...t)})}const fallbackRunWithContext=e=>e(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,i)=>e.set(i,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const o=t[i],s=e[i];isPlainObject(s)&&isPlainObject(o)&&e.hasOwnProperty(i)&&!isRef(o)&&!isReactive(o)?e[i]=mergeReactiveObjects(s,o):e[i]=o}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject(e)||!Object.prototype.hasOwnProperty.call(e,skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(e){return!(!isRef(e)||!e.effect)}function createOptionsStore(e,t,i,o){const{state:s,actions:n,getters:r}=t,a=i.state.value[e];let l;return l=createSetupStore(e,function(){a||(i.state.value[e]=s?s():{});const t=toRefs(i.state.value[e]);return assign$1(t,n,Object.keys(r||{}).reduce((t,o)=>(t[o]=markRaw(computed(()=>{setActivePinia(i);const t=i._s.get(e);return r[o].call(t,t)})),t),{}))},t,i,o,!0),l}function createSetupStore(e,t,i={},o,s,n){let r;const a=assign$1({actions:{}},i),l={deep:!0};let c,d,u,h=new Set,p=new Set;const f=o.state.value[e];let g;function m(t){let i;c=d=!1,"function"==typeof t?(t(o.state.value[e]),i={type:MutationType.patchFunction,storeId:e,events:u}):(mergeReactiveObjects(o.state.value[e],t),i={type:MutationType.patchObject,payload:t,storeId:e,events:u});const s=g=Symbol();nextTick().then(()=>{g===s&&(c=!0)}),d=!0,triggerSubscriptions(h,i,o.state.value[e])}n||f||(o.state.value[e]={}),ref({});const _=n?function(){const{state:e}=i,t=e?e():{};this.$patch(e=>{assign$1(e,t)})}:noop$2,b=(t,i="")=>{if(ACTION_MARKER in t)return t[ACTION_NAME]=i,t;const s=function(){setActivePinia(o);const i=Array.from(arguments),n=new Set,r=new Set;let a;triggerSubscriptions(p,{args:i,name:s[ACTION_NAME],store:v,after:function(e){n.add(e)},onError:function(e){r.add(e)}});try{a=t.apply(this&&this.$id===e?this:v,i)}catch(l){throw triggerSubscriptions(r,l),l}return a instanceof Promise?a.then(e=>(triggerSubscriptions(n,e),e)).catch(e=>(triggerSubscriptions(r,e),Promise.reject(e))):(triggerSubscriptions(n,a),a)};return s[ACTION_MARKER]=!0,s[ACTION_NAME]=i,s},v=reactive({_p:o,$id:e,$onAction:addSubscription.bind(null,p),$patch:m,$reset:_,$subscribe(t,i={}){const s=addSubscription(h,t,i.detached,()=>n()),n=r.run(()=>watch(()=>o.state.value[e],o=>{("sync"===i.flush?d:c)&&t({storeId:e,type:MutationType.direct,events:u},o)},assign$1({},l,i)));return s},$dispose:function(){r.stop(),h.clear(),p.clear(),o._s.delete(e)}});o._s.set(e,v);const y=(o._a&&o._a.runWithContext||fallbackRunWithContext)(()=>o._e.run(()=>(r=effectScope()).run(()=>t({action:b}))));for(const w in y){const t=y[w];if(isRef(t)&&!isComputed(t)||isReactive(t))n||(f&&shouldHydrate(t)&&(isRef(t)?t.value=f[w]:mergeReactiveObjects(t,f[w])),o.state.value[e][w]=t);else if("function"==typeof t){const e=b(t,w);y[w]=e,a.actions[w]=t}}return assign$1(v,y),assign$1(toRaw(v),y),Object.defineProperty(v,"$state",{get:()=>o.state.value[e],set:e=>{m(t=>{assign$1(t,e)})}}),o._p.forEach(e=>{assign$1(v,r.run(()=>e({store:v,app:o._a,pinia:o,options:a})))}),f&&n&&i.hydrate&&i.hydrate(v.$state,f),c=!0,d=!0,v}function defineStore(e,t,i){let o;const s="function"==typeof t;function n(i,n){const r=hasInjectionContext();return(i=i||(r?inject(piniaSymbol,null):null))&&setActivePinia(i),(i=activePinia)._s.has(e)||(s?createSetupStore(e,t,o,i):createOptionsStore(e,o,i)),i._s.get(e)}return o=s?i:t,n.$id=e,n}function storeToRefs(e){const t=toRaw(e),i={};for(const o in t){const s=t[o];s.effect?i[o]=computed({get:()=>e[o],set(t){e[o]=t}}):(isRef(s)||isReactive(s))&&(i[o]=toRef(e,o))}return i}const __vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_BUILD:"..85c0f9",VITE_APP_REGISTER_APIKEY:"qwU3bqrMmClZ3lEh4ygnOQ==",VITE_APP_VERSION:"2.3.0"};var define_process_env_default={};const _hoisted_1$u$1={class:"card-body"},_hoisted_2$e$1={class:"card-title"},_hoisted_3$a$1={class:"card-text"};var script$x=Object.assign({inheritAttrs:!1},{__name:"BsCard",props:{header:{type:String,default:"Card Header"},headerModifiers:{},title:{type:String,default:"Card Title"},titleModifiers:{},icon:{type:[Object,String],default:void 0},iconModifiers:{},iserr:{type:Boolean,default:!1},iserrModifiers:{},color:{type:String,default:"primary",validator:e=>["primary","secondary","success","danger","warning","info","light","dark"].includes(e)},colorModifiers:{}},emits:["update:header","update:title","update:icon","update:iserr","update:color"],setup(e){const t=useModel(e,"header"),i=useModel(e,"title"),o=useModel(e,"icon"),s=useModel(e,"iserr"),n=useModel(e,"color");return(e,r)=>(openBlock(),createElementBlock("div",mergeProps({class:"card"},e.$attrs),[createBaseVNode("div",{class:normalizeClass(void 0!==s.value&&s.value?"card-header bg-danger-subtle":void 0===n.value?"card-header bg-primary-subtle":"card-header bg-"+n.value+"-subtle")},toDisplayString(t.value),3),createBaseVNode("div",_hoisted_1$u$1,[createBaseVNode("h5",_hoisted_2$e$1,[void 0!==o.value?(openBlock(),createBlock(resolveDynamicComponent(o.value),{key:0,width:"16",height:"16"})):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(i.value),1)]),createBaseVNode("p",_hoisted_3$a$1,[createCommentVNode(" @slot Content of the card is placed via the slot "),renderSlot(e.$slots,"default")])])],16))}});script$x.__file="src/components/BsCard.vue";const _hoisted_1$t$1={class:"dropdown"},_hoisted_2$d$1=["disabled"],_hoisted_3$9$1={class:"dropdown-menu"},_hoisted_4$4$1=["onClick"];var script$w=Object.assign({inheritAttrs:!1},{__name:"BsDropdown",props:{label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},options:{type:Array,default:()=>[],validator:e=>e.every(e=>e&&"object"==typeof e&&"label"in e&&"value"in e)},optionsModifiers:{},button:{type:String,default:"Select",validator:e=>"string"==typeof e&&e.trim().length>0},buttonModifiers:{},callback:{type:Function,default:()=>{},validator:e=>"function"==typeof e},callbackModifiers:{},disabled:{type:Boolean,default:!1},disabledModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:label","update:help","update:width","update:options","update:button","update:callback","update:disabled","update:badge"],setup(e){const t=useModel(e,"label"),i=useModel(e,"help"),o=useModel(e,"width"),s=useModel(e,"options"),n=useModel(e,"button"),r=useModel(e,"callback"),a=useModel(e,"disabled"),l=useModel(e,"badge");return(e,c)=>{const d=resolveComponent("BsInputBase");return openBlock(),createBlock(d,{width:o.value,label:t.value,help:i.value,badge:l.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$t$1,[createBaseVNode("button",{class:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:a.value},toDisplayString(n.value),9,_hoisted_2$d$1),createBaseVNode("ul",_hoisted_3$9$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,e=>(openBlock(),createElementBlock("li",{key:e.value},[createBaseVNode("a",{class:"dropdown-item",onClick:t=>r.value(e.value)},toDisplayString(e.label),9,_hoisted_4$4$1)]))),128))])])]),_:1},8,["width","label","help","badge"])}}});script$w.__file="src/components/BsDropdown.vue";const _hoisted_1$s$1=["width","height"];var script$v=Object.assign({inheritAttrs:!1},{__name:"IconEyeSlash",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"},null,-1),createBaseVNode("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},null,-1),createBaseVNode("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},null,-1)])],16,_hoisted_1$s$1))}});script$v.__file="src/components/IconEyeSlash.vue";const _hoisted_1$r$1=["width","height"];var script$u=Object.assign({inheritAttrs:!1},{__name:"IconEye",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),createBaseVNode("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1)])],16,_hoisted_1$r$1))}});script$u.__file="src/components/IconEye.vue";const _hoisted_1$q$1={class:"input-group"},_hoisted_2$c$1=["type","data-bs-title"],_hoisted_3$8$1={key:0,class:"input-group-text"};var script$t=Object.assign({inheritAttrs:!1},{__name:"BsInputText",props:{modelValue:{type:[String,Number],default:""},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},type:{type:String,default:"text",validator:e=>["text","password","email","url"].includes(e)},typeModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width","update:type","update:badge"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"label"),o=useModel(e,"help"),s=useModel(e,"width"),n=useModel(e,"type"),r=useModel(e,"badge"),a=ref(!1),l=()=>{a.value=!a.value};return(e,c)=>{const d=resolveComponent("BsInputBase");return openBlock(),createBlock(d,{width:s.value,label:i.value,help:o.value,badge:r.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$q$1,[withDirectives(createBaseVNode("input",mergeProps({"onUpdate:modelValue":c[0]||(c[0]=e=>t.value=e),class:"form-control",type:void 0===n.value||a.value?"text":n.value},e.$attrs,{"data-bs-toggle":"tooltip","data-bs-custom-class":"custom-tooltip","data-bs-title":o.value}),null,16,_hoisted_2$c$1),[[vModelDynamic,t.value]]),"password"===n.value?(openBlock(),createElementBlock("span",_hoisted_3$8$1,[a.value?createCommentVNode("v-if",!0):(openBlock(),createBlock(script$u,{key:0,width:"1rem",height:"1rem",onClick:l})),a.value?(openBlock(),createBlock(script$v,{key:1,width:"1rem",height:"1rem",onClick:l})):createCommentVNode("v-if",!0)])):createCommentVNode("v-if",!0)])]),_:1},8,["width","label","help","badge"])}}});script$t.__file="src/components/BsInputText.vue";const _hoisted_1$p$1={class:"input-group"},_hoisted_2$b$1=["data-bs-title","disabled"],_hoisted_3$7$1={key:0,class:"input-group-text"};var script$s=Object.assign({inheritAttrs:!1},{__name:"BsInputNumber",props:{modelValue:{type:[Number,String],default:0},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},unit:{type:String,default:void 0},unitModifiers:{},disabled:{type:Boolean,default:!1},disabledModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width","update:unit","update:disabled","update:badge"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"label"),o=useModel(e,"help"),s=useModel(e,"width"),n=useModel(e,"unit"),r=useModel(e,"disabled"),a=useModel(e,"badge");return(e,l)=>{const c=resolveComponent("BsInputBase");return openBlock(),createBlock(c,{width:s.value,label:i.value,help:o.value,badge:a.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$p$1,[withDirectives(createBaseVNode("input",mergeProps({"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),class:"form-control",type:"number"},e.$attrs,{"data-bs-toggle":"tooltip","data-bs-custom-class":"custom-tooltip","data-bs-title":o.value,disabled:r.value}),null,16,_hoisted_2$b$1),[[vModelText,t.value]]),void 0!==n.value?(openBlock(),createElementBlock("span",_hoisted_3$7$1,toDisplayString(n.value),1)):createCommentVNode("v-if",!0)])]),_:1},8,["width","label","help","badge"])}}});script$s.__file="src/components/BsInputNumber.vue";const _hoisted_1$o$1={class:"form-check form-switch"},_hoisted_2$a$1=["disabled","data-bs-title"];var script$r=Object.assign({inheritAttrs:!1},{__name:"BsInputSwitch",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},disabled:{type:Boolean,default:!1},disabledModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width","update:disabled","update:badge"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"label"),o=useModel(e,"help"),s=useModel(e,"width"),n=useModel(e,"disabled"),r=useModel(e,"badge");return(e,a)=>{const l=resolveComponent("BsInputBase");return openBlock(),createBlock(l,{width:s.value,label:i.value,help:o.value,badge:r.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$o$1,[withDirectives(createBaseVNode("input",mergeProps({"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),class:"form-check-input",type:"checkbox",role:"switch"},e.$attrs,{disabled:n.value,"data-bs-toggle":"tooltip","data-bs-custom-class":"custom-tooltip","data-bs-title":o.value,style:{transform:"scale(1.5)","transform-origin":"left center",display:"inline-block"}}),null,16,_hoisted_2$a$1),[[vModelCheckbox,t.value]])])]),_:1},8,["width","label","help","badge"])}}});script$r.__file="src/components/BsInputSwitch.vue";const _hoisted_1$n$1=["data-bs-title"];var script$q=Object.assign({inheritAttrs:!1},{__name:"BsInputTextArea",props:{modelValue:{type:String,default:""},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width","update:badge"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"label"),o=useModel(e,"help"),s=useModel(e,"width"),n=useModel(e,"badge");return(e,r)=>{const a=resolveComponent("BsInputBase");return openBlock(),createBlock(a,{width:s.value,label:i.value,help:o.value,badge:n.value},{default:withCtx(()=>[withDirectives(createBaseVNode("textarea",mergeProps({"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),class:"form-control",type:"text"},e.$attrs,{"data-bs-toggle":"tooltip","data-bs-custom-class":"custom-tooltip","data-bs-title":o.value}),null,16,_hoisted_1$n$1),[[vModelText,t.value]])]),_:1},8,["width","label","help","badge"])}}});script$q.__file="src/components/BsInputTextArea.vue";const _hoisted_1$m$1=["data-bs-title"],_hoisted_2$9$1=["onClick"];var script$p=Object.assign({inheritAttrs:!1},{__name:"BsInputTextAreaFormat",props:{modelValue:{type:String,default:"",validator:e=>"string"==typeof e},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width","update:badge"],setup(e){const t=ref([{label:"Cancel",value:""},{label:"Network name, ${mdns}",value:"${mdns}"},{label:"Chip ID, ${id}",value:"${id}"},{label:"Sleep interval, ${sleep-interval}",value:"${sleep-interval}"},{label:"Token, ${token}",value:"${token}"},{label:"Token 2, ${token2}",value:"${token2}"},{label:"Current angle/tilt, ${angle}",value:"${angle}"},{label:"Current angle/tilt, ${tilt}",value:"${tilt}"},{label:"Temperature, ${temp}",value:"${temp}"},{label:"Temperature (C), ${temp-c}",value:"${temp-c}"},{label:"Temperature (F), ${temp-f}",value:"${temp-f}"},{label:"Temperature Unit, ${temp-unit}",value:"${temp-unit}"},{label:"Application version, ${app-ver}",value:"${app-ver}"},{label:"Application build, ${app-build}",value:"${app-build}"},{label:"Battery (V), ${battery}",value:"${battery}"},{label:"Battery (%), ${battery-percent}",value:"${battery-percent}"},{label:"Wifi signal strength, ${rssi}",value:"${rssi}"},{label:"Time for measurement, ${run-time}",value:"${run-time}"},{label:"Gravity, ${gravity}",value:"${gravity}"},{label:"Gravity (SG), ${gravity-sg}",value:"${gravity-sg}"},{label:"Gravity (Plato), ${gravity-plato}",value:"${gravity-plato}"},{label:"Gravity unit, ${gravity-unit}",value:"${gravity-unit}"},{label:"Corrected gravity, ${corr-gravity}",value:"${corr-gravity}"},{label:"Corrected Gravity (SG), ${corr-gravity-sg}",value:"${corr-gravity-sg}"},{label:"Corrected Gravity (Plato), ${corr-gravity-plato}",value:"${corr-gravity-plato}"},{label:"Gravity Velocity, ${velocity}",value:"${velocity}"}]),i=e=>{const t=document.getElementById("contextMenu");t.style.display="block",t.style.left=e.pageX+"px",t.style.top=e.pageY+"px"},o=useModel(e,"modelValue"),s=useModel(e,"label"),n=useModel(e,"help"),r=useModel(e,"width"),a=useModel(e,"badge");return(e,l)=>{const c=resolveComponent("BsInputBase");return openBlock(),createElementBlock(Fragment,null,[createVNode(c,{width:r.value,label:s.value,help:n.value,badge:a.value},{default:withCtx(()=>[withDirectives(createBaseVNode("textarea",mergeProps({id:"textArea","onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),class:"form-control",type:"text"},e.$attrs,{"data-bs-toggle":"tooltip","data-bs-custom-class":"custom-tooltip","data-bs-title":n.value,onContextmenu:withModifiers(i,["right","prevent"])}),null,16,_hoisted_1$m$1),[[vModelText,o.value]])]),_:1},8,["width","label","help","badge"]),createBaseVNode("div",{id:"contextMenu",class:"dropdown-menu",onClick:l[1]||(l[1]=(...t)=>e.closeContextMenu&&e.closeContextMenu(...t))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.value,e=>(openBlock(),createElementBlock("a",{key:e.value,class:"dropdown-item",onClick:t=>(e=>{if(e.length>0){const t=document.getElementById("textArea");o.value=t.value.substring(0,t.selectionStart)+e+t.value.substring(t.selectionEnd,t.value.length)}document.getElementById("contextMenu").style.display="none"})(e.value)},toDisplayString(e.label),9,_hoisted_2$9$1))),128))])],64)}}});script$p.__file="src/components/BsInputTextAreaFormat.vue";const _hoisted_1$l$1={class:"input-group"},_hoisted_2$8$1=["data-bs-title"];var script$o=Object.assign({inheritAttrs:!1},{__name:"BsInputReadonly",props:{modelValue:{type:[String,Number],default:""},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"label"),o=useModel(e,"help"),s=useModel(e,"width");return(e,n)=>{const r=resolveComponent("BsInputBase");return openBlock(),createBlock(r,{width:s.value,label:i.value,help:o.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$l$1,[withDirectives(createBaseVNode("input",mergeProps({"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),class:"form-control-plaintext",readonly:"",type:"text"},e.$attrs,{"data-bs-toggle":"tooltip","data-bs-custom-class":"custom-tooltip","data-bs-title":o.value}),null,16,_hoisted_2$8$1),[[vModelText,t.value]])])]),_:1},8,["width","label","help"])}}});script$o.__file="src/components/BsInputReadonly.vue";const _hoisted_1$k$1={class:"btn-group",role:"group"},_hoisted_2$7$1=["id","value","name","disabled"],_hoisted_3$6$1=["for"];var script$n=Object.assign({inheritAttrs:!1},{__name:"BsInputRadio",props:{modelValue:{type:[String,Number,Boolean],default:null},modelModifiers:{},options:{type:Array,default:()=>[],validator:e=>e.every(e=>e&&"object"==typeof e&&"label"in e&&"value"in e)},optionsModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},disabled:{type:Boolean,default:!1},disabledModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:options","update:label","update:help","update:width","update:disabled","update:badge"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"options"),o=useModel(e,"label"),s=useModel(e,"help"),n=useModel(e,"width"),r=useModel(e,"disabled"),a=useModel(e,"badge");return(e,l)=>{const c=resolveComponent("BsInputBase");return openBlock(),createBlock(c,{width:n.value,label:o.value,help:s.value,badge:a.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$k$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,i=>(openBlock(),createElementBlock(Fragment,{key:i.value},[withDirectives(createBaseVNode("input",{id:"radio"+e.$.uid+i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),type:"radio",class:"btn-check",value:i.value,name:"radio"+e.$.uid,disabled:r.value},null,8,_hoisted_2$7$1),[[vModelRadio,t.value]]),createBaseVNode("label",{class:"btn btn-outline-primary",for:"radio"+e.$.uid+i.value},toDisplayString(i.label),9,_hoisted_3$6$1)],64))),128))])]),_:1},8,["width","label","help","badge"])}}});script$n.__file="src/components/BsInputRadio.vue";const _hoisted_1$j$1=["width","height"];var script$m=Object.assign({inheritAttrs:!1},{__name:"IconWifi",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M15.384 6.115a.485.485 0 0 0-.047-.736A12.44 12.44 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.52.52 0 0 0 .668.05A11.45 11.45 0 0 1 8 4c2.507 0 4.827.802 6.716 2.164.205.148.49.13.668-.049"},null,-1),createBaseVNode("path",{d:"M13.229 8.271a.482.482 0 0 0-.063-.745A9.46 9.46 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.576 1.336c.206.132.48.108.653-.065m-2.183 2.183c.226-.226.185-.605-.1-.75A6.5 6.5 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.407.19.611.09A5.5 5.5 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.61-.091zM9.06 12.44c.196-.196.198-.52-.04-.66A2 2 0 0 0 8 11.5a2 2 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .707 0l.707-.707z"},null,-1)])],16,_hoisted_1$j$1))}});script$m.__file="src/components/IconWifi.vue";const _hoisted_1$i$1=["disabled"],_hoisted_2$6$1=["value"],_hoisted_3$5$1=["value"];var script$l=Object.assign({inheritAttrs:!1},{__name:"BsSelect",props:{modelValue:{type:[String,Number,Boolean],default:null},modelModifiers:{},label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},options:{type:Array,default:()=>[],validator:e=>e.every(e=>e&&"object"==typeof e&&"label"in e&&"value"in e)},optionsModifiers:{},disabled:{type:Boolean,default:!1},disabledModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:modelValue","update:label","update:help","update:width","update:options","update:disabled","update:badge"],setup(e){const t=useModel(e,"modelValue"),i=useModel(e,"label"),o=useModel(e,"help"),s=useModel(e,"width"),n=useModel(e,"options"),r=useModel(e,"disabled"),a=useModel(e,"badge");return(e,l)=>{const c=resolveComponent("BsInputBase");return openBlock(),createBlock(c,{width:s.value,label:i.value,help:o.value,badge:a.value},{default:withCtx(()=>[withDirectives(createBaseVNode("select",mergeProps({"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),class:"form-select",disabled:r.value},e.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,e=>(openBlock(),createElementBlock(Fragment,{key:e.value},[e.value===t.value?(openBlock(),createElementBlock("option",{key:0,selected:"",value:e.value},[createVNode(script$m),createTextVNode(toDisplayString(e.label),1)],8,_hoisted_2$6$1)):(openBlock(),createElementBlock("option",{key:1,value:e.value},toDisplayString(e.label),9,_hoisted_3$5$1))],64))),128))],16,_hoisted_1$i$1),[[vModelSelect,t.value]])]),_:1},8,["width","label","help","badge"])}}});script$l.__file="src/components/BsSelect.vue";const _hoisted_1$h$1=["width","height"];var script$k=Object.assign({inheritAttrs:!1},{__name:"IconXCircle",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),createBaseVNode("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"},null,-1)])],16,_hoisted_1$h$1))}});script$k.__file="src/components/IconXCircle.vue";const _hoisted_1$g$1=["width","height"];var script$j=Object.assign({inheritAttrs:!1},{__name:"IconCheckCircle",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),createBaseVNode("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},null,-1)])],16,_hoisted_1$g$1))}});script$j.__file="src/components/IconCheckCircle.vue";const _hoisted_1$f$1=["width","height"];var script$i=Object.assign({inheritAttrs:!1},{__name:"IconInfoCircle",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),createBaseVNode("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},null,-1)])],16,_hoisted_1$f$1))}});script$i.__file="src/components/IconInfoCircle.vue";const _hoisted_1$e$1=["width","height"];var script$h=Object.assign({inheritAttrs:!1},{__name:"IconExclamationTriangle",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"},null,-1),createBaseVNode("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1)])],16,_hoisted_1$e$1))}});script$h.__file="src/components/IconExclamationTriangle.vue";const _hoisted_1$d$1={key:5,type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"};var script$g=Object.assign({inheritAttrs:!1},{__name:"BsMessage",props:{message:{type:String,default:"Message",validator:e=>"string"==typeof e},messageModifiers:{},dismissable:{type:[Boolean,String],default:!1,validator:e=>"boolean"==typeof e||"string"==typeof e&&["true","false"].includes(e.toLowerCase())},dismissableModifiers:{},alert:{type:String,default:"info",validator:e=>["danger","success","warning","info"].includes(e.toLowerCase())},alertModifiers:{},close:{type:Function,default:()=>{},validator:e=>"function"==typeof e},closeModifiers:{}},emits:["update:message","update:dismissable","update:alert","update:close"],setup(e){const t=useModel(e,"message"),i=useModel(e,"dismissable"),o=useModel(e,"alert"),s=useModel(e,"close");return(e,n)=>(openBlock(),createElementBlock("div",mergeProps({class:i.value?"alert alert-"+o.value+" align-items-center alert-dismissible fade show":"alert alert-"+o.value+" align-items-center",role:"alert"},e.$attrs),["danger"===o.value?(openBlock(),createBlock(script$k,{key:0,height:"20",width:"20"})):createCommentVNode("v-if",!0),"warning"===o.value?(openBlock(),createBlock(script$h,{key:1,height:"20",width:"20"})):createCommentVNode("v-if",!0),"info"===o.value?(openBlock(),createBlock(script$i,{key:2,height:"20",width:"20"})):createCommentVNode("v-if",!0),"success"===o.value?(openBlock(),createBlock(script$j,{key:3,height:"20",width:"20"})):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(t.value)+" ",1),createCommentVNode(" @slot mesage can be provided using a slot or message attribute "),renderSlot(e.$slots,"default"),i.value&&void 0!==s.value?(openBlock(),createElementBlock("button",{key:4,type:"button",class:"btn-close","aria-label":"Close",onClick:n[0]||(n[0]=e=>s.value(o.value))})):createCommentVNode("v-if",!0),i.value&&void 0===s.value?(openBlock(),createElementBlock("button",_hoisted_1$d$1)):createCommentVNode("v-if",!0)],16))}});function readEnvVar(t){try{if(globalThis&&globalThis.__ENV__&&void 0!==globalThis.__ENV__[t])return globalThis.__ENV__[t]}catch(e){}try{if("undefined"!=typeof process&&define_process_env_default&&void 0!==define_process_env_default[t])return define_process_env_default[t]}catch(e){}try{if(import.meta&&__vite_import_meta_env__&&void 0!==__vite_import_meta_env__[t])return __vite_import_meta_env__[t]}catch(e){}}function logDebug(...e){readEnvVar("VITE_APP_DEBUG")&&console.log("Debug",...e)}function logInfo(...e){console.log("Info",...e)}function logError(...e){console.log("Error",...e)}function roundVal(e,t){return parseFloat(Number(e).toFixed(t))}function gravityToPlato(e){return 135.997*e*e*e-630.272*e*e+1111.14*e-616.868}function gravityToSG(e){return 1+e/(258.6-e/258.2*227.1)}function tempToF(e){return 1.8*e+32}function tempToC(e){return(e-32)/1.8}function isValidJson(t){try{return JSON.stringify(JSON.parse(t)),!0}catch(e){logDebug("utils.isValidJson()",e)}return!1}function isValidFormData(e){return!!e.startsWith("?")}function isValidMqttData(e){return e.indexOf("|")>=0}function validateCurrentForm(){if("undefined"==typeof document||!document.querySelectorAll){try{logDebug("validateCurrentForm: document not available, skipping validation")}catch(e){}return!0}let t=!0;const i=document.querySelectorAll(".needs-validation");return Array.from(i).forEach(e=>{e.checkValidity()||(t=!1),e.classList.add("was-validated")}),t}function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}script$g.__file="src/components/BsMessage.vue";const INDENT=Symbol.for("indent"),NEWLINE=Symbol.for("newline"),DEFAULT_NEWLINE="\n",DEFAULT_INDENT="  ",BOM=/^\uFEFF/,FORMAT=/^\s*[{[]((?:\r?\n)+)([\s\t]*)/,EMPTY=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,UNEXPECTED_TOKEN=/^Unexpected token '?(.)'?(,)? /i,hexify=e=>{const t=e.charCodeAt(0).toString(16).toUpperCase();return`0x${t.length%2?"0":""}${t}`},stripBOM=e=>String(e).replace(BOM,""),makeParsedError=(e,t,i=0)=>({message:`${e} while parsing ${t}`,position:i}),parseError=(e,t,i=20)=>{let o=e.message;if(!t)return makeParsedError(o,"empty string");const s=o.match(UNEXPECTED_TOKEN),n=o.match(/ position\s+(\d+)/i);let r;if(s&&(o=o.replace(UNEXPECTED_TOKEN,`Unexpected token ${JSON.stringify(s[1])} (${hexify(s[1])})$2 `)),n?r=+n[1]:o.match(/^Unexpected end of JSON.*/i)&&(r=t.length-1),null==r)return makeParsedError(o,`'${t.slice(0,2*i)}'`);const a=r<=i?0:r-i,l=r+i>=t.length?t.length:r+i,c=`${a?"...":""}${t.slice(a,l)}${l===t.length?"":"..."}`;return makeParsedError(o,`${t===c?"":"near "}${JSON.stringify(c)}`,r)};class JSONParseError extends SyntaxError{constructor(e,t,i,o){const s=parseError(e,t,i);super(s.message),Object.assign(this,s),this.code="EJSONPARSE",this.systemError=e,Error.captureStackTrace(this,o||this.constructor)}get name(){return this.constructor.name}set name(e){}get[Symbol.toStringTag](){return this.constructor.name}}const parseJson=(e,t)=>{var i,o;const s=JSON.parse(e,t);if(s&&"object"==typeof s){const t=e.match(EMPTY)||e.match(FORMAT)||[null,"",""];s[NEWLINE]=null!=(i=t[1])?i:DEFAULT_NEWLINE,s[INDENT]=null!=(o=t[2])?o:DEFAULT_INDENT}return s},parseJsonError=(t,i,o)=>{const s=stripBOM(t);try{return parseJson(s,i)}catch(e){if("string"!=typeof t&&!Buffer.isBuffer(t)){const o=Array.isArray(t)&&0===t.length?"an empty array":String(t);throw Object.assign(new TypeError(`Cannot parse ${o}`),{code:"EJSONPARSE",systemError:e})}throw new JSONParseError(e,s,o,parseJsonError)}};var lib=parseJsonError;parseJsonError.JSONParseError=JSONParseError,parseJsonError.noExceptions=(t,i)=>{try{return parseJson(stripBOM(t),i)}catch(e){}};var parseJson$1=getDefaultExportFromCjs$1(lib);const _hoisted_1$c$1=["data-bs-target"],_hoisted_2$5$1=["id"],_hoisted_3$4$1={class:"modal-dialog"},_hoisted_4$3$1={class:"modal-content p-4"},_hoisted_5$3$1={class:"modal-header"},_hoisted_6$3$1={class:"modal-title fs-5"},_hoisted_7$2$1={class:"modal-body"},_hoisted_8$2$1={key:0},_hoisted_9$1$1={key:2},_hoisted_10$1$1={class:"text-danger"};var script$f=Object.assign({inheritAttrs:!1},{__name:"BsModal",props:{modelValue:{type:[String,Object,Array],default:""},modelModifiers:{},button:{type:String,default:"Open Modal"},buttonModifiers:{},title:{type:String,default:"Modal"},titleModifiers:{},json:{type:Boolean,default:!1},jsonModifiers:{},mqtt:{type:Boolean,default:!1},mqttModifiers:{}},emits:["update:modelValue","update:button","update:title","update:json","update:mqtt"],setup(t){const i=ref(""),o=useModel(t,"modelValue"),s=useModel(t,"button"),n=useModel(t,"title"),r=useModel(t,"json"),a=useModel(t,"mqtt"),l=()=>{if(i.value="",a.value)return r.value&&o.value.replaceAll("\n","").split("|").forEach(t=>{const o=t.substring(t.indexOf(":")+1);if(o.indexOf("{")>=0&&o.indexOf("}")>0)try{JSON.parse(o)}catch(e){i.value=e.message}}),!0;if(isValidFormData(o.value))return!0;if(isValidJson(o.value))return!0;if(r.value)try{parseJson$1(o.value)}catch(e){i.value=e.message}return!1};return(e,t)=>{return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",mergeProps(e.$attrs,{type:"button",class:"btn btn-secondary","data-bs-toggle":"modal","data-bs-target":"#modal"+e.$.uid}),toDisplayString(s.value),17,_hoisted_1$c$1),createBaseVNode("div",{id:"modal"+e.$.uid,class:"modal fade modal-lg",tabindex:"-1","aria-hidden":"true"},[createBaseVNode("div",_hoisted_3$4$1,[createBaseVNode("div",_hoisted_4$3$1,[createBaseVNode("div",_hoisted_5$3$1,[createBaseVNode("h1",_hoisted_6$3$1,toDisplayString(n.value),1),t[0]||(t[0]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_7$2$1,[l()?(openBlock(),createElementBlock("pre",_hoisted_8$2$1,toDisplayString((r=o.value,a.value?r:isValidJson(o.value)?JSON.stringify(JSON.parse(r),null,2):isValidFormData(o.value)?r.replaceAll("&","&\n\r"):r)),1)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(o.value),1)],64)),""!=i.value?(openBlock(),createElementBlock("div",_hoisted_9$1$1,[t[1]||(t[1]=createBaseVNode("hr",null,null,-1)),createBaseVNode("p",_hoisted_10$1$1,toDisplayString(i.value),1)])):createCommentVNode("v-if",!0)]),t[2]||(t[2]=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,_hoisted_2$5$1)],64);var r}}});script$f.__file="src/components/BsModal.vue";const _hoisted_1$b$1=["id","data-bs-target"],_hoisted_2$4$1=["id"],_hoisted_3$3$1={class:"modal-dialog"},_hoisted_4$2$1={class:"modal-content p-4"},_hoisted_5$2$1={class:"modal-header"},_hoisted_6$2$1={class:"modal-title fs-5"},_hoisted_7$1$1={class:"modal-body"},_hoisted_8$1$1={class:"modal-footer"};var script$e=Object.assign({inheritAttrs:!1},{__name:"BsModalConfirm",props:{callback:{type:Function,default:void 0,validator:e=>void 0===e||"function"==typeof e},callbackModifiers:{},message:{type:String,default:"Are you sure?",validator:e=>"string"==typeof e&&e.trim().length>0},messageModifiers:{},id:{type:String,default:"confirm-modal",validator:e=>"string"==typeof e&&/^[a-zA-Z][a-zA-Z0-9-_]*$/.test(e)},idModifiers:{},title:{type:String,default:"Confirm Action",validator:e=>"string"==typeof e&&e.trim().length>0},titleModifiers:{},hidden:{type:Boolean,default:!0},hiddenModifiers:{}},emits:["update:callback","update:message","update:id","update:title","update:hidden"],setup(e){const t=useModel(e,"callback"),i=useModel(e,"message"),o=useModel(e,"id"),s=useModel(e,"title"),n=useModel(e,"hidden");return(e,r)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",mergeProps({id:o.value,type:"button",class:"btn btn-secondary",style:{display:n.value?"none":"inline-block"},"data-bs-toggle":"modal","data-bs-target":"#modal"+e.$.uid},e.$attrs)," This should hidden ",16,_hoisted_1$b$1),createBaseVNode("div",{id:"modal"+e.$.uid,class:"modal fade modal-lg",tabindex:"-1","aria-hidden":"true"},[createBaseVNode("div",_hoisted_3$3$1,[createBaseVNode("div",_hoisted_4$2$1,[createBaseVNode("div",_hoisted_5$2$1,[createBaseVNode("h1",_hoisted_6$2$1,toDisplayString(s.value),1)]),createBaseVNode("div",_hoisted_7$1$1,toDisplayString(i.value),1),createBaseVNode("div",_hoisted_8$1$1,[createBaseVNode("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:r[0]||(r[0]=e=>t.value(!0))}," Confirm "),createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:r[1]||(r[1]=e=>t.value(!1))}," Cancel ")])])])],8,_hoisted_2$4$1)],64))}});script$e.__file="src/components/BsModalConfirm.vue";const _hoisted_1$a$1=["id"],_hoisted_2$3$1={id:"modalLogin",class:"modal fade modal-lg",tabindex:"-1","aria-hidden":"true"},_hoisted_3$2$1={class:"modal-dialog"},_hoisted_4$1$1={class:"modal-content p-4"},_hoisted_5$1$1={class:"modal-body"},_hoisted_6$1$1={class:"modal-footer"};var script$d=Object.assign({inheritAttrs:!1},{__name:"BsModalLogin",props:{callback:{type:Function,required:!0},id:{type:String,required:!0}},setup(e){const t=ref("");return onMounted(()=>{logDebug("BsModalLogin.onMounted()","Modal initialized for ID: "+e.id),document.getElementById(e.id).click()}),(i,o)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{id:e.id,type:"button",class:"btn btn-secondary",hidden:"","data-bs-toggle":"modal","data-bs-target":"#modalLogin"}," Testing ",8,_hoisted_1$a$1),createCommentVNode("\n  "),createBaseVNode("div",_hoisted_2$3$1,[createBaseVNode("div",_hoisted_3$2$1,[createBaseVNode("div",_hoisted_4$1$1,[o[2]||(o[2]=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5"},"Enter your admin password")],-1)),createBaseVNode("div",_hoisted_5$1$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),type:"password",class:"form-control"},null,512),[[vModelText,t.value]])]),createBaseVNode("div",_hoisted_6$1$1,[createBaseVNode("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:o[1]||(o[1]=i=>e.callback(t.value))}," Confirm ")])])])])],64))}});script$d.__file="src/components/BsModalLogin.vue";var script$c=Object.assign({inheritAttrs:!1},{__name:"BsProgress",props:{progress:{type:[Number,String],default:0,validator:e=>{const t=Number(e);return!isNaN(t)&&t>=0&&t<=100}},progressModifiers:{}},emits:["update:progress"],setup(e){const t=useModel(e,"progress"),i=computed(()=>"width: "+t.value+"%");return(e,t)=>(openBlock(),createElementBlock("div",mergeProps({class:"progress",style:{height:"20px"}},e.$attrs),[createBaseVNode("div",{class:"progress-bar",role:"progressbar",style:normalizeStyle(i.value)},null,4)],16))}});script$c.__file="src/components/BsProgress.vue";const _hoisted_1$9$1={class:"btn-group",role:"group"},_hoisted_2$2$1=["disabled"];var script$b=Object.assign({inheritAttrs:!1},{__name:"BsFileUpload",props:{label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},disabled:{type:Boolean,default:!1},disabledModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:label","update:help","update:width","update:disabled","update:badge"],setup(e){const t=useModel(e,"label"),i=useModel(e,"help"),o=useModel(e,"width"),s=useModel(e,"disabled"),n=useModel(e,"badge");return(e,r)=>{const a=resolveComponent("BsInputBase");return openBlock(),createBlock(a,{width:o.value,label:t.value,help:i.value,badge:n.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9$1,[createBaseVNode("input",mergeProps({class:"form-control",type:"file"},e.$attrs,{disabled:s.value}),null,16,_hoisted_2$2$1)])]),_:1},8,["width","label","help","badge"])}}});script$b.__file="src/components/BsFileUpload.vue";const _hoisted_1$8$1={class:"container-fluid align-center"},_hoisted_2$1$1={class:"navbar-brand"},_hoisted_3$1$1={id:"navbar",class:"collapse navbar-collapse"},_hoisted_4$r={class:"navbar-nav"},_hoisted_5$q={key:0,class:"nav-item"},_hoisted_6$q={key:1,class:"nav-item dropdown"},_hoisted_7$l=["id","disabled"],_hoisted_8$l={key:1,class:"badge text-bg-danger rounded-circle"},_hoisted_9$k=["aria-labelledby"],_hoisted_10$j={key:0,class:"badge text-bg-danger rounded-circle"},_hoisted_11$h={class:"text-white"},_hoisted_12$g={key:0},_hoisted_13$f={key:1,class:"vr d-none d-lg-flex h-200 mx-lg-2 text-white"},_hoisted_14$f={class:"p-2"},_hoisted_15$e={class:"spinner-border gx-4",role:"status",style:{color:"white"}},_hoisted_16$a={class:"p-2"},_hoisted_17$8={class:"form-check form-switch"},_hoisted_18$7=["checked","disabled"];var script$a=Object.assign({inheritAttrs:!1},{__name:"BsMenuBar",props:{brand:{type:String,default:"Brand"},disabled:{type:Boolean,default:!1},menuItems:{type:Array,default:()=>[]},darkMode:{type:Boolean,default:!1},mdns:{type:String,default:""},configChanged:{type:Boolean,default:!1},currentRoute:{type:String,default:""}},emits:["update:darkMode"],setup(e,{emit:t}){const i=e,o=t,s=e=>{o("update:darkMode",e.target.checked)},n=()=>{},r=()=>{const e=document.getElementsByClassName("dropdown-menu show");for(var t=0;t<e.length;t++)e[t].classList.remove("show")};return(e,t)=>{const o=resolveComponent("router-link");return openBlock(),createElementBlock("nav",mergeProps({class:"navbar navbar-expand-lg navbar-dark bg-primary"},e.$attrs),[createBaseVNode("div",_hoisted_1$8$1,[t[3]||(t[3]=createBaseVNode("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[createBaseVNode("span",{class:"navbar-toggler-icon"})],-1)),createBaseVNode("div",_hoisted_2$1$1,toDisplayString(i.brand),1),t[4]||(t[4]=createBaseVNode("div",{class:"vr d-none d-lg-flex h-200 mx-lg-2 text-white"},null,-1)),createBaseVNode("div",_hoisted_3$1$1,[createBaseVNode("ul",_hoisted_4$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.menuItems,(e,t)=>(openBlock(),createElementBlock(Fragment,{key:t},[e.subs&&e.subs.length?(openBlock(),createElementBlock("li",_hoisted_6$q,[createBaseVNode("a",{id:"navbarDropdown"+e.label,class:normalizeClass(["nav-link","dropdown-toggle",i.currentRoute&&i.currentRoute.split("/")[1]===e.path.split("/")[1]?" active fw-bold":""]),role:"button","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"true",disabled:i.disabled,onClick:n},[void 0!==e.icon?(openBlock(),createBlock(resolveDynamicComponent(e.icon),{key:0,width:"1rem",height:"1rem",style:{color:"white"}})):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(e.label)+" ",1),void 0!==e.badge&&("function"==typeof e.badge?e.badge():e.badge)>0?(openBlock(),createElementBlock("span",_hoisted_8$l,toDisplayString("function"==typeof e.badge?e.badge():e.badge),1)):createCommentVNode("v-if",!0)],10,_hoisted_7$l),createBaseVNode("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdown"+e.label},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.subs,e=>(openBlock(),createElementBlock("li",{key:e.path},[createVNode(o,{class:"dropdown-item",to:e.path,disabled:i.disabled,onClick:r},{default:withCtx(()=>[createTextVNode(toDisplayString(e.label)+" ",1),void 0!==e.badge&&("function"==typeof e.badge?e.badge():e.badge)>0?(openBlock(),createElementBlock("span",_hoisted_10$j,toDisplayString("function"==typeof e.badge?e.badge():e.badge),1)):createCommentVNode("v-if",!0)]),_:2},1032,["to","disabled"])]))),128))],8,_hoisted_9$k)])):(openBlock(),createElementBlock("li",_hoisted_5$q,[createVNode(o,{class:normalizeClass(["nav-link",i.currentRoute&&i.currentRoute.split("/")[1]===e.path.split("/")[1]?" active fw-bold":""]),to:e.path,disabled:i.disabled},{default:withCtx(()=>[void 0!==e.icon?(openBlock(),createBlock(resolveDynamicComponent(e.icon),{key:0,width:"1rem",height:"1rem",style:{color:"white"}})):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(e.label),1)]),_:2},1032,["class","to","disabled"])]))],64))),128))])]),t[5]||(t[5]=createBaseVNode("div",{class:"vr d-none d-lg-flex h-200 mx-lg-2 text-white"},null,-1)),createBaseVNode("div",_hoisted_11$h,toDisplayString(i.mdns),1),t[6]||(t[6]=createBaseVNode("div",{class:"vr d-none d-lg-flex h-200 mx-lg-2 text-white"},null,-1)),i.configChanged?(openBlock(),createElementBlock("div",_hoisted_12$g,[...t[0]||(t[0]=[createBaseVNode("span",{class:"badge bg-danger fs-6"},"Save needed ",-1)])])):createCommentVNode("v-if",!0),i.configChanged?(openBlock(),createElementBlock("div",_hoisted_13$f)):createCommentVNode("v-if",!0),createBaseVNode("div",_hoisted_14$f,[withDirectives(createBaseVNode("div",_hoisted_15$e,[...t[1]||(t[1]=[createBaseVNode("span",{class:"visually-hidden"},"Loading...",-1)])],512),[[vShow,i.disabled]])]),createBaseVNode("div",_hoisted_16$a,[createBaseVNode("div",_hoisted_17$8,[t[2]||(t[2]=createTextVNode(" ",-1)),createBaseVNode("input",{checked:i.darkMode,class:"form-check-input",type:"checkbox",role:"switch",style:{"border-color":"white",transform:"scale(1.5)","transform-origin":"left center",display:"inline-block"},disabled:i.disabled,onChange:s},null,40,_hoisted_18$7)])])])],16)}}});script$a.__file="src/components/BsMenuBar.vue";const _hoisted_1$7$1={class:"text-light text-center rounded-pill bg-primary",style:{height:"30px"}};var script$9=Object.assign({inheritAttrs:!1},{__name:"BsFooter",props:{text:{type:String,default:"Footer Text"},textModifiers:{}},emits:["update:text"],setup(e){const t=useModel(e,"text");return(e,i)=>(openBlock(),createElementBlock("div",mergeProps({class:"container-fluid"},e.$attrs),[i[0]||(i[0]=createBaseVNode("div",{style:{height:"20px"}},null,-1)),createBaseVNode("div",_hoisted_1$7$1,toDisplayString(t.value),1)],16))}});script$9.__file="src/components/BsFooter.vue";const _hoisted_1$6$1={key:0,class:"form-label fw-bold"},_hoisted_2$s={key:1,class:"badge text-bg-danger rounded-circle"},_hoisted_3$r={class:"form-text"};var script$8=Object.assign({inheritAttrs:!1},{__name:"BsInputBase",props:{label:{type:String,default:void 0},labelModifiers:{},help:{type:String,default:void 0},helpModifiers:{},width:{type:[String,Number],default:void 0,validator:e=>null==e||""===e||("number"==typeof e?e>0&&e<=12:"string"==typeof e&&/^(\d|1[0-2])$|^(sm|md|lg|xl|xxl)-(\d|1[0-2])$/.test(e))},widthModifiers:{},badge:{type:Number,default:0},badgeModifiers:{}},emits:["update:label","update:help","update:width","update:badge"],setup(e){const t=useModel(e,"label"),i=useModel(e,"help"),o=useModel(e,"width"),s=useModel(e,"badge");return(e,n)=>(openBlock(),createElementBlock("div",mergeProps({class:"has-validation pt-2"},e.$attrs),[void 0!==t.value?(openBlock(),createElementBlock("label",_hoisted_1$6$1,toDisplayString(t.value),1)):createCommentVNode("v-if",!0),n[0]||(n[0]=createTextVNode(" ",-1)),s.value?(openBlock(),createElementBlock("span",_hoisted_2$s,toDisplayString(s.value),1)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([void 0===o.value?"":"col-"+o.value])},[createCommentVNode(" @slot this is where the main component is located "),renderSlot(e.$slots,"default")],2),createBaseVNode("div",_hoisted_3$r,toDisplayString(i.value),1)],16))}});script$8.__file="src/components/BsInputBase.vue";const _hoisted_1$5$1=["width","height"];var script$7=Object.assign({inheritAttrs:!1},{__name:"IconHome",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"},null,-1)])],16,_hoisted_1$5$1))}});script$7.__file="src/components/IconHome.vue";const _hoisted_1$4$1=["width","height"];var script$6=Object.assign({inheritAttrs:!1},{__name:"IconTools",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M1 0 0 1l2.2 3.081a1 1 0 0 0 .815.419h.07a1 1 0 0 1 .708.293l2.675 2.675-2.617 2.654A3.003 3.003 0 0 0 0 13a3 3 0 1 0 5.878-.851l2.654-2.617.968.968-.305.914a1 1 0 0 0 .242 1.023l3.27 3.27a.997.997 0 0 0 1.414 0l1.586-1.586a.997.997 0 0 0 0-1.414l-3.27-3.27a1 1 0 0 0-1.023-.242L10.5 9.5l-.96-.96 2.68-2.643A3.005 3.005 0 0 0 16 3q0-.405-.102-.777l-2.14 2.141L12 4l-.364-1.757L13.777.102a3 3 0 0 0-3.675 3.68L7.462 6.46 4.793 3.793a1 1 0 0 1-.293-.707v-.071a1 1 0 0 0-.419-.814zm9.646 10.646a.5.5 0 0 1 .708 0l2.914 2.915a.5.5 0 0 1-.707.707l-2.915-2.914a.5.5 0 0 1 0-.708M3 11l.471.242.529.026.287.445.445.287.026.529L5 13l-.242.471-.026.529-.445.287-.287.445-.529.026L3 15l-.471-.242L2 14.732l-.287-.445L1.268 14l-.026-.529L1 13l.242-.471.026-.529.445-.287.287-.445.529-.026z"},null,-1)])],16,_hoisted_1$4$1))}});script$6.__file="src/components/IconTools.vue";const _hoisted_1$3$1=["width","height"];var script$5=Object.assign({inheritAttrs:!1},{__name:"IconCpu",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{d:"M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0m-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"},null,-1)])],16,_hoisted_1$3$1))}});script$5.__file="src/components/IconCpu.vue";const _hoisted_1$2$1=["width","height"];var script$4=Object.assign({inheritAttrs:!1},{__name:"IconUpArrow",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{"fill-rule":"evenodd",d:"M0 0h1v15h15v1H0zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5"},null,-1)])],16,_hoisted_1$2$1))}});script$4.__file="src/components/IconUpArrow.vue";const _hoisted_1$1$1=["width","height"];var script$3=Object.assign({inheritAttrs:!1},{__name:"IconGraphUpArrow",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{"fill-rule":"evenodd",d:"M0 0h1v15h15v1H0zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5"},null,-1)])],16,_hoisted_1$1$1))}});script$3.__file="src/components/IconGraphUpArrow.vue";const _hoisted_1$v=["width","height"];var script$2=Object.assign({inheritAttrs:!1},{__name:"IconCloudUpArrow",props:{width:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},widthModifiers:{},height:{type:[String,Number],default:16,validator:e=>{if("string"==typeof e)return/^(\d+(\.\d+)?)(px|rem|em|%|vh|vw|pt|pc|in|cm|mm|ex|ch|lh)?$/.test(e.trim());const t=Number(e);return!isNaN(t)&&t>0}},heightModifiers:{}},emits:["update:width","update:height"],setup(e){const t=useModel(e,"width"),i=useModel(e,"height");return(e,o)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:t.value,height:i.value}),[...o[0]||(o[0]=[createBaseVNode("path",{"fill-rule":"evenodd",d:"M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708z"},null,-1),createBaseVNode("path",{d:"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"},null,-1)])],16,_hoisted_1$v))}});script$2.__file="src/components/IconCloudUpArrow.vue";var script$1=Object.assign({inheritAttrs:!1},{__name:"IconData",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"}),[...t[0]||(t[0]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-database",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M4.318 2.687C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4c0-.374.356-.875 1.318-1.313M13 5.698V7c0 .374-.356.875-1.318 1.313C10.766 8.729 9.464 9 8 9s-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777A5 5 0 0 0 13 5.698M14 4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16s3.022-.289 4.096-.777C13.125 14.755 14 14.007 14 13zm-1 4.698V10c0 .374-.356.875-1.318 1.313C10.766 11.729 9.464 12 8 12s-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10s3.022-.289 4.096-.777A5 5 0 0 0 13 8.698m0 3V13c0 .374-.356.875-1.318 1.313C10.766 14.729 9.464 15 8 15s-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13s3.022-.289 4.096-.777c.324-.147.633-.323.904-.525"})],-1)])],16))});script$1.__file="src/components/IconData.vue";var script=Object.assign({inheritAttrs:!1},{__name:"IconClipboard",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",mergeProps(e.$attrs,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"}),[...t[0]||(t[0]=[createBaseVNode("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"},null,-1),createBaseVNode("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"},null,-1)])],16))});function useFetch(){const e=ref(new Set),t=()=>{e.value.forEach(e=>{e.abort()}),e.value.clear(),logDebug("useFetch.abortAllRequests()","All fetch requests aborted")};if(onBeforeUnmount(()=>{t()}),"undefined"!=typeof window){const e=()=>{t()};window.addEventListener("beforeunload",e),onBeforeUnmount(()=>{window.removeEventListener("beforeunload",e)})}return{managedFetch:(t,...i)=>__async(null,[t,...i],function*(t,i={}){const o=new AbortController;e.value.add(o);try{const s=yield fetch(t,__spreadProps(__spreadValues({},i),{signal:o.signal}));return e.value.delete(o),s}catch(s){if(e.value.delete(o),"AbortError"===s.name)return logDebug("useFetch.managedFetch()","Request aborted:",t),null;throw logError("useFetch.managedFetch()","Fetch error:",s),s}}),abortAllRequests:t,abortRequest:t=>{e.value.has(t)&&(t.abort(),e.value.delete(t))},activeControllers:e}}function useTimers(){const e=ref(new Set),t=ref(new Set),i=()=>{e.value.forEach(e=>{clearTimeout(e)}),e.value.clear(),t.value.forEach(e=>{clearInterval(e)}),t.value.clear(),logDebug("useTimers.clearAllTimers()","All timers cleared")};return onBeforeUnmount(()=>{i()}),{createTimeout:(t,i)=>{const o=setTimeout(()=>{e.value.delete(o),t()},i);return e.value.add(o),o},createInterval:(e,i)=>{const o=setInterval(e,i);return t.value.add(o),o},clearManagedTimeout:t=>{e.value.has(t)&&(clearTimeout(t),e.value.delete(t))},clearManagedInterval:e=>{t.value.has(e)&&(clearInterval(e),t.value.delete(e))},clearAllTimers:i,activeTimeouts:e,activeIntervals:t}}script.__file="src/components/IconClipboard.vue";class HttpClient{constructor(){"undefined"!=typeof window&&window.location?this.baseURL=window.location.href:this.baseURL="",this.timeout=8e3,this.token=""}_formatAuth(e){return e?"Bearer "+String(e).trim():e}buildUrl(e){return e?e.startsWith("http://")||e.startsWith("https://")?e:this.baseURL.endsWith("/")||e.startsWith("/")?this.baseURL+e.replace(/^\//,""):this.baseURL+e:this.baseURL}isSSL(){return!(!this.baseURL||!this.baseURL.startsWith("https://"))}request(e){return __async(this,arguments,function*(e,{method:t="GET",headers:i={},body:o,timeout:s}={}){const n=this.buildUrl(e),r=new AbortController,a=void 0===s?this.timeout:s,l=Object.assign({},i);this.token&&!Object.keys(l).some(e=>"Authorization"===e)&&(l.Authorization=this._formatAuth(this.token));const c=setTimeout(()=>r.abort(),a),d=yield fetch(n,{method:t,headers:l,body:o,signal:r.signal});return clearTimeout(c),d})}getJson(e){return __async(this,arguments,function*(e,t={}){const i=yield this.request(e,Object.assign({method:"GET"},t));if(!i)return null;if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()})}postJson(e,t){return __async(this,arguments,function*(e,t,i={}){const o=Object.assign({"Content-Type":"application/json"},i.headers||{}),s=JSON.stringify(t),n=yield this.request(e,Object.assign({method:"POST",headers:o,body:s},i));if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return n})}postText(e,t){return __async(this,arguments,function*(e,t,i={}){const o=Object.assign({"Content-Type":"application/json"},i.headers||{}),s=JSON.stringify(t),n=yield this.request(e,Object.assign({method:"POST",headers:o,body:s},i));if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return n.text()})}filesystemRequest(e){return __async(this,null,function*(){try{return logInfo("httpClient.filesystemRequest()","Sending /api/filesystem"),{success:!0,text:yield this.postText("api/filesystem",e)}}catch(t){return logError("httpClient.filesystemRequest()",t),{success:!1,text:""}}})}ping(){return __async(this,null,function*(){try{return yield this.getJson("api/ping"),!0}catch(e){return logError("httpClient.ping()",e),!1}})}getErrorString(e){switch(e){case-100:return"Skipped since SSL is used";case 200:return"Success (200)";case 401:return"Access denied (401)";case 404:return"Endpoint not found (404)";case 422:return"Paylod cannot be parsed, check format and http headers";default:return""}}auth(e){return __async(this,null,function*(){try{const t=e;logInfo("httpClient.auth()","Requesting /api/auth");const i=yield this.request("api/auth",{method:"GET",headers:{Authorization:"Basic "+t}});if(!i.ok)return logError("httpClient.auth()",new Error(`HTTP ${i.status}: ${i.statusText}`)),!1;const o=yield i.json();return o&&o.token?(this.token=o.token,logInfo("httpClient.auth()","Authentication succeeded, token set"),!0):(logError("httpClient.auth()",new Error("Authentication response did not contain token")),!1)}catch(t){return logError("httpClient.auth()",t),!1}})}uploadFile(t,i,o={}){const{fieldName:s="file",timeoutMs:n=12e4,onProgress:r}=o;return new Promise(o=>{try{const a=this.buildUrl(t),l=new XMLHttpRequest;let c;if(l.timeout=n,l.onerror=e=>{logError("httpClient.uploadFile()",e),o({success:!1,status:l.status,text:l.responseText||""})},l.ontimeout=e=>{logError("httpClient.uploadFile()","timeout",e),o({success:!1,status:l.status,text:l.responseText||""})},l.onloadend=()=>{l.status>=200&&l.status<300?o({success:!0,status:l.status,text:l.responseText}):(logError("httpClient.uploadFile()",`HTTP ${l.status}`),o({success:!1,status:l.status,text:l.responseText||""}))},l.upload&&"function"==typeof r&&l.upload.addEventListener("progress",t=>{if(t.lengthComputable){const i=t.loaded/t.total*100;try{r(i)}catch(e){logError("httpClient.uploadFile.onProgress()",e)}}}),i instanceof FormData?c=i:(c=new FormData,c.append(s,i)),l.open("POST",a,!0),this.token)try{l.setRequestHeader("Authorization",this._formatAuth(this.token))}catch(e){logError("httpClient.uploadFile.setRequestHeader()",e)}l.send(c)}catch(a){logError("httpClient.uploadFile()",a),o({success:!1,status:0,text:""})}})}buildWsUrl(t){const i=this.baseURL||"";let o=i;try{o=i.startsWith("https://")?i.replace(/^https:\/\//i,"wss://"):i.startsWith("http://")?i.replace(/^http:\/\//i,"ws://"):i}catch(e){o=i}return t?t.startsWith("ws://")||t.startsWith("wss://")?t:o.endsWith("/")||t.startsWith("/")?o+t.replace(/^\//,""):o+t:o}createWebSocket(t,i={}){const{protocols:o,onOpen:s,onMessage:n,onClose:r,onError:a,autoReconnect:l=!1,reconnectIntervalMs:c=3e3}=i;let d=null,u=l,h=null;const p=()=>{const e=this.buildWsUrl(t);d=o?new WebSocket(e,o):new WebSocket(e),d.onopen=e=>{"function"==typeof s&&s(e)},d.onmessage=e=>{"function"==typeof n&&n(e)},d.onclose=e=>{"function"==typeof r&&r(e),u&&(h=setTimeout(()=>p(),c))},d.onerror=e=>{"function"==typeof a&&a(e)}};return p(),{socketGetter:()=>d,close:()=>{if(u=!1,h&&(clearTimeout(h),h=null),d){try{d.close()}catch(e){logError("httpClient.createWebSocket.close()",e)}d=null}}}}restart(e){return __async(this,arguments,function*(e,t={}){const{redirectDelayMs:i=8e3}=t;try{const t=yield this.getJson("api/restart");if(t&&!0===t.status&&"undefined"!=typeof window&&e){const o="http://"+e+".local",s=setTimeout(()=>{try{location.href=o}catch(e){logError("httpClient.restart.redirect()",e);try{window.location.reload()}catch(t){}}},i);return"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{clearTimeout(s)},{once:!0}),{success:!0,json:t,redirectScheduled:!0}}return{success:!0,json:t,redirectScheduled:!1}}catch(o){return logError("httpClient.restart()",o),{success:!1,error:o}}})}}const sharedHttpClient=new HttpClient,version$1="1.7.0";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var i=t.default;if("function"==typeof i){var o=function t(){var o=!1;try{o=this instanceof t}catch(e){}return o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};o.prototype=i.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(o,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})}),o}var sha256$1={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(__viteBrowserExternal$1);var core=core$1.exports,hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,core$1.exports=(t=t||function(t){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==commonjsGlobal&&commonjsGlobal.crypto&&(i=commonjsGlobal.crypto),!i&&"function"==typeof commonjsRequire)try{i=require$$0$1}catch(g){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),n={},r=n.lib={},a=r.Base=function(){return{extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,i=e.words,o=this.sigBytes,s=e.sigBytes;if(this.clamp(),o%4)for(var n=0;n<s;n++){var r=i[n>>>2]>>>24-n%4*8&255;t[o+n>>>2]|=r<<24-(o+n)%4*8}else for(var a=0;a<s;a+=4)t[o+a>>>2]=i[a>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(o());return new l.init(t,e)}}),c=n.enc={},d=c.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,o=[],s=0;s<i;s++){var n=t[s>>>2]>>>24-s%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o+=2)i[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new l.init(i,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,o=[],s=0;s<i;s++){var n=t[s>>>2]>>>24-s%4*8&255;o.push(String.fromCharCode(n))}return o.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o++)i[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new l.init(i,t)}},h=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var i,o=this._data,s=o.words,n=o.sigBytes,r=this.blockSize,a=n/(4*r),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*r,d=t.min(4*c,n);if(c){for(var u=0;u<c;u+=r)this._doProcessBlock(s,u);i=s.splice(0,c),o.sigBytes-=d}return new l.init(i,d)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new f.HMAC.init(e,i).finalize(t)}}});var f=n.algo={};return n}(Math),t)),core$1.exports;var t}var sha256=sha256$1.exports,hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,sha256$1.exports=(e=requireCore(),function(t){var i=e,o=i.lib,s=o.WordArray,n=o.Hasher,r=i.algo,a=[],l=[];!function(){function e(e){for(var i=t.sqrt(e),o=2;o<=i;o++)if(!(e%o))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var o=2,s=0;s<64;)e(o)&&(s<8&&(a[s]=i(t.pow(o,.5))),l[s]=i(t.pow(o,1/3)),s++),o++}();var c=[],d=r.SHA256=n.extend({_doReset:function(){this._hash=new s.init(a.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,o=i[0],s=i[1],n=i[2],r=i[3],a=i[4],d=i[5],u=i[6],h=i[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[p-2],_=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[p]=g+c[p-7]+_+c[p-16]}var b=o&s^o&n^s&n,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),y=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&d^~a&u)+l[p]+c[p];h=u,u=d,d=a,a=r+y|0,r=n,n=s,s=o,o=y+(v+b)|0}i[0]=i[0]+o|0,i[1]=i[1]+s|0,i[2]=i[2]+n|0,i[3]=i[3]+r|0,i[4]=i[4]+a|0,i[5]=i[5]+d|0,i[6]=i[6]+u|0,i[7]=i[7]+h|0},_doFinalize:function(){var e=this._data,i=e.words,o=8*this._nDataBytes,s=8*e.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=t.floor(o/4294967296),i[15+(s+64>>>9<<4)]=o,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});i.SHA256=n._createHelper(d),i.HmacSHA256=n._createHmacHelper(d)}(Math),e.SHA256)),sha256$1.exports;var e}var sha256Exports=requireSha256();const SHA256=getDefaultExportFromCjs(sha256Exports),useGlobalStore=defineStore("global",{state:()=>({platform:"",chip_id:"",board:"",app_ver:"",app_build:"",hardware:"",firmware_file:"",registered:!0,ui:{enableVoltageFragment:!0,enableManualWifiEntry:!0,enableScanForStrongestAp:!0,enableDeviceRegistration:!0,enableCalibrationRegistration:!0},feature:{ble:!1,velocity:!1,filter:!1,charging:!1},initialized:!1,disabled:!1,configChanged:!1,messageError:"",messageWarning:"",messageSuccess:"",messageInfo:""}),getters:{isError(){return""!=this.messageError},isWarning(){return""!=this.messageWarning},isSuccess(){return""!=this.messageSuccess},isInfo(){return""!=this.messageInfo},uiVersion:()=>(logDebug("globalStore.uiVersion()","2.3.0"),"2.3.0"),uiBuild:()=>(logDebug("globalStore.uiBuild()","..85c0f9"),"..85c0f9"),registerApiKey(){const e=atob("cXdVM2Jxck1tQ2xaM2xFaDR5Z25PUT09");return logDebug("globalStore.registerApiKey()","Key decoded (length: "+e.length+")"),e},registerBaseUrl:()=>"https://api.gravitymon.com/",isEsp8266(){return"ESP8266"===this.platform},disabled32(){return!!this.disabled||"ESP8266"===this.platform}},actions:{clearMessages(){this.messageError="",this.messageWarning="",this.messageSuccess="",this.messageInfo=""},anonymizeChipId(){return __async(this,null,function*(){return logInfo("globalStore.anonymizeChipId()",this.chip_id),this.chip_id&&"unknown"!==this.chip_id?SHA256(this.chip_id).toString():"unknown"})},load(){return __async(this,null,function*(){try{logInfo("globalStore.load()","Fetching /api/feature");const e=yield sharedHttpClient.getJson("api/feature");return logInfo("globalStore.load()",e),this.chip_id=e.chip_id.toLowerCase(),this.board=e.board.toUpperCase(),this.app_ver=e.app_ver,this.app_build=e.app_build,this.platform=e.platform.toUpperCase(),this.hardware=e.hardware.toUpperCase(),this.firmware_file=e.firmware_file.toLowerCase(),this.registered=e.registered,this.feature.ble=e.ble,this.feature.velocity=e.velocity,this.feature.filter=e.filter,this.feature.charging=e.charging,logInfo("globalStore.load()","Fetching /api/feature completed"),!0}catch(e){return logError("globalStore.load()",e),!1}})}}}),useStatusStore=defineStore("status",{state:()=>({id:"",angle:0,gravity:0,gravity_unit:"",temp:0,temp_unit:"",sleep_interval:0,battery:0,sleep_mode:!1,rssi:0,mdns:"",wifi_ssid:"",ip:"",total_heap:0,free_heap:0,ispindel_config:!1,self_check:{gyro_connected:!0,gyro_moving:!0,gyro_calibration:!0,temp_connected:!0,gravity_formula:!0,battery_level:!0,push_targets:!0},ble_supported:!0,gyro_family:"",wifi_setup:!1,connected:!0}),getters:{needsCalibration:()=>1===config.gyro_type},actions:{updateFromJson(e){logDebug("statusStore.updateFromJson()",e),this.id=e.id,this.angle=e.angle,this.temp_unit=e.temp_unit,this.gravity=e.gravity,this.gravity_unit=e.gravity_unit,this.temp=e.temp,this.sleep_mode=e.sleep_mode,this.battery=e.battery,this.rssi=e.rssi,this.mdns=e.mdns,this.wifi_ssid=e.wifi_ssid,this.ip=e.ip,this.ispindel_config=e.ispindel_config,this.self_check.gyro_connected=e.self_check.gyro_connected,this.self_check.gyro_moving=e.self_check.gyro_moving,this.self_check.gyro_calibration=e.self_check.gyro_calibration,this.self_check.temp_connected=e.self_check.temp_connected,this.self_check.gravity_formula=e.self_check.gravity_formula,this.self_check.battery_level=e.self_check.battery_level,this.self_check.push_targets=e.self_check.push_targets,this.ble_supported=e.ble_supported,this.gyro_family=e.gyro_family?e.gyro_family.toUpperCase():"",this.total_heap=e.total_heap,this.free_heap=e.free_heap,this.wifi_setup=e.wifi_setup,this.total_heap=Math.round(this.total_heap/1024).toFixed(0),this.free_heap=Math.round(this.free_heap/1024).toFixed(0),void 0!==this.battery&&(this.battery=(Math.round(100*this.battery)/100).toFixed(2)),void 0!==this.angle&&(this.angle=(Math.round(100*this.angle)/100).toFixed(2)),void 0!==this.temp&&(this.temp=(Math.round(100*this.temp)/100).toFixed(2)),void 0!==this.gravity&&("G"===this.gravity_unit?this.gravity=(Math.round(1e4*this.gravity)/1e4).toFixed(4):this.gravity=(Math.round(100*this.gravity)/100).toFixed(2))},load(){return __async(this,null,function*(){try{logInfo("statusStore.load()","Fetching /api/status");const e=yield sharedHttpClient.getJson("api/status");return this.updateFromJson(e),logInfo("statusStore.load()","Fetching /api/status completed"),!0}catch(e){return logError("statusStore.load()",e),!1}})},getGyro(){return __async(this,null,function*(){try{logInfo("statusStore.getGyro()","Fetching /api/gyro");const e=yield sharedHttpClient.getJson("api/gyro");return logInfo("statusStore.getGyro()","Fetching /api/gyro completed",e),{success:!0,data:e}}catch(e){return logError("statusStore.getGyro()",e),{success:!1,error:e}}})}}}),useConfigStore=defineStore("config",{state:()=>({id:"",mdns:"",temp_unit:"",gravity_unit:"",ota_url:"",storage_sleep:!1,voltage_factor:0,voltage_config:0,gyro_temp:!1,gyro_swap_xy:!1,gyro_filter:!1,battery_saving:!1,tempsensor_resolution:0,temp_adjustment_value:0,charging_pin_enabled:!1,wifi_portal_timeout:0,wifi_connect_timeout:0,wifi_ssid:"",wifi_ssid2:"",wifi_pass:"",wifi_pass2:"",wifi_direct_ssid:"",wifi_direct_pass:"",use_wifi_direct:!1,wifi_scan_ap:!1,token:"",token2:"",sleep_interval:0,push_timeout:0,skip_ssl_on_test:!1,http_post_target:"",http_post_header1:"",http_post_header2:"",http_post_tcp:!1,http_post_int:0,http_post_format_gravity:"",http_post2_target:"",http_post2_header1:"",http_post2_header2:"",http_post2_int:0,http_post2_format_gravity:"",http_get_target:"",http_get_header1:"",http_get_header2:"",http_get_int:0,http_get_format_gravity:"",influxdb2_target:"",influxdb2_org:"",influxdb2_bucket:"",influxdb2_token:"",influxdb2_int:0,influxdb2_format_gravity:"",mqtt_target:"",mqtt_port:"",mqtt_user:"",mqtt_pass:"",mqtt_int:0,mqtt_format_gravity:"",ble_tilt_color:"",ble_format:0,gyro_type:0,gravity_formula:"",gravity_temp_adjustment:!1,formula_calculation_data:[],gyro_read_count:0,gyro_moving_threashold:0,formula_max_deviation:0,formula_calibration_temp:0,ignore_low_angles:!1,gyro_calibration_data:[],dark_mode:!1}),actions:{convertTemp(){this.temp_unit!=this.internal_temp_unit&&("C"==this.temp_unit&&this.convertTempToC(),"F"==this.temp_unit&&this.convertTempToF())},convertTempToC(){"C"!=this.internal_temp_unit&&(this.temp_adjustment_value=roundVal(this.temp_adjustment_value/1.8,2),this.formula_calibration_temp=roundVal(tempToC(this.formula_calibration_temp),2),this.internal_temp_unit="C")},convertTempToF(){"F"!=this.internal_temp_unit&&(this.temp_adjustment_value=roundVal(1.8*this.temp_adjustment_value,2),this.formula_calibration_temp=roundVal(tempToF(this.formula_calibration_temp),2),this.internal_temp_unit="F")},toJson(){logInfo("configStore.toJSON()");const e={};for(const i in this.$state)if(!i.startsWith("$"))if("gyro_calibration_data"===i)for(var t in e[i]=[],this.$state[i])e[i][t]=this.$state[i][t];else if("formula_calculation_data"===i)for(t in e[i]=[],this.$state[i])e[i][t]={},e[i][t].a=this.$state[i][t].a,e[i][t].g=this.$state[i][t].g;else e[i]=this[i];return logInfo("configStore.toJSON()",e),JSON.stringify(e,null,2)},load(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.load()","Fetching /api/config");try{const e=yield sharedHttpClient.getJson("api/config");return logDebug("configStore.load()",e),global$1.disabled=!1,this.id=e.id,this.mdns=e.mdns,this.temp_unit=e.temp_unit,this.gravity_unit=e.gravity_unit,this.ota_url=e.ota_url,this.storage_sleep=e.storage_sleep,this.voltage_factor=e.voltage_factor,this.voltage_config=e.voltage_config,this.gyro_type=e.gyro_type,this.gyro_temp=e.gyro_temp,this.gyro_swap_xy=e.gyro_swap_xy,this.gyro_filter=e.gyro_filter,this.battery_saving=e.battery_saving,this.tempsensor_resolution=e.tempsensor_resolution,this.temp_adjustment_value=e.temp_adjustment_value,this.charging_pin_enabled=e.charging_pin_enabled,this.wifi_portal_timeout=e.wifi_portal_timeout,this.wifi_connect_timeout=e.wifi_connect_timeout,this.wifi_ssid=e.wifi_ssid,this.wifi_ssid2=e.wifi_ssid2,this.wifi_pass=e.wifi_pass,this.wifi_pass2=e.wifi_pass2,this.wifi_direct_ssid=e.wifi_direct_ssid,this.wifi_direct_pass=e.wifi_direct_pass,this.use_wifi_direct=e.use_wifi_direct,this.wifi_scan_ap=e.wifi_scan_ap,this.token=e.token,this.token2=e.token2,this.sleep_interval=e.sleep_interval,this.push_timeout=e.push_timeout,this.skip_ssl_on_test=e.skip_ssl_on_test,this.http_post_target=e.http_post_target,this.http_post_header1=e.http_post_header1,this.http_post_header2=e.http_post_header2,this.http_post_int=e.http_post_int,this.http_post_tcp=e.http_post_tcp,this.http_post2_target=e.http_post2_target,this.http_post2_header1=e.http_post2_header1,this.http_post2_header2=e.http_post2_header2,this.http_post2_int=e.http_post2_int,this.http_get_target=e.http_get_target,this.http_get_header1=e.http_get_header1,this.http_get_header2=e.http_get_header2,this.http_get_int=e.http_get_int,this.influxdb2_target=e.influxdb2_target,this.influxdb2_org=e.influxdb2_org,this.influxdb2_bucket=e.influxdb2_bucket,this.influxdb2_token=e.influxdb2_token,this.influxdb2_int=e.influxdb2_int,this.mqtt_target=e.mqtt_target,this.mqtt_port=e.mqtt_port,this.mqtt_user=e.mqtt_user,this.mqtt_pass=e.mqtt_pass,this.mqtt_int=e.mqtt_int,this.ble_tilt_color=e.ble_tilt_color,this.ble_format=e.ble_format,this.gravity_formula=e.gravity_formula,this.gravity_temp_adjustment=e.gravity_temp_adjustment,this.gyro_read_count=e.gyro_read_count,this.gyro_moving_threashold=e.gyro_moving_threashold,this.formula_max_deviation=e.formula_max_deviation,this.formula_calibration_temp=e.formula_calibration_temp,this.ignore_low_angles=e.ignore_low_angles,this.formula_calculation_data=e.formula_calculation_data,this.gyro_calibration_data=e.gyro_calibration_data,this.dark_mode=e.dark_mode,this.internal_temp_unit="C",this.convertTemp(),!0}catch(e){return global$1.disabled=!1,logError("configStore.load()",e),!1}})},loadFormat(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.loadFormat()","Fetching /api/format");try{const e=yield sharedHttpClient.getJson("api/format");return logDebug("configStore.loadFormat()",e),global$1.disabled=!1,this.http_post_format_gravity=decodeURIComponent(e.http_post_format_gravity),this.http_post2_format_gravity=decodeURIComponent(e.http_post2_format_gravity),this.http_get_format_gravity=decodeURIComponent(e.http_get_format_gravity),this.influxdb2_format_gravity=decodeURIComponent(e.influxdb2_format_gravity),this.mqtt_format_gravity=decodeURIComponent(e.mqtt_format_gravity),this.mqtt_format_gravity=this.mqtt_format_gravity.replaceAll("|","|\n"),!0}catch(e){return global$1.disabled=!1,logError("configStore.loadFormat()",e),!1}})},sendConfig(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.sendConfig()","Sending /api/config"),this.convertTempToC();const e=getConfigChanges();if(delete e.http_post_format_gravity,delete e.http_post2_format_gravity,delete e.http_get_format_gravity,delete e.influxdb2_format_gravity,delete e.mqtt_format_gravity,logDebug("configStore.sendConfig()",e),2==JSON.stringify(e).length)return logInfo("configStore.sendConfig()","No config data to store, skipping step"),global$1.disabled=!1,this.convertTemp(),!0;try{return yield sharedHttpClient.postJson("api/config",e),global$1.disabled=!1,logInfo("configStore.sendConfig()","Sending /api/config completed"),this.convertTemp(),!0}catch(t){return logError("configStore.sendConfig()",t),this.convertTemp(),global$1.disabled=!1,!1}})},sendFormat(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.sendFormat()","Sending /api/format");const e=getConfigChanges();let t={},i=0;logDebug("configStore.sendFormat()",t);try{return t=void 0!==e.http_post_format_gravity?{http_post_format_gravity:encodeURIComponent(e.http_post_format_gravity)}:{},(yield this.sendOneFormat(t))&&(i+=1),t=void 0!==e.http_post2_format_gravity?{http_post2_format_gravity:encodeURIComponent(e.http_post2_format_gravity)}:{},(yield this.sendOneFormat(t))&&(i+=1),t=void 0!==e.http_get_format_gravity?{http_get_format_gravity:encodeURIComponent(e.http_get_format_gravity)}:{},(yield this.sendOneFormat(t))&&(i+=1),t=void 0!==e.influxdb2_format_gravity?{influxdb2_format_gravity:encodeURIComponent(e.influxdb2_format_gravity)}:{},(yield this.sendOneFormat(t))&&(i+=1),void 0!==e.mqtt_format_gravity&&(e.mqtt_format_gravity=e.mqtt_format_gravity.replaceAll("\n",""),e.mqtt_format_gravity=e.mqtt_format_gravity.replaceAll("\r","")),t=void 0!==e.mqtt_format_gravity?{mqtt_format_gravity:encodeURIComponent(e.mqtt_format_gravity)}:{},(yield this.sendOneFormat(t))&&(i+=1),5==i}finally{global$1.disabled=!1}})},sendOneFormat(e){return __async(this,null,function*(){if(logInfo("configStore.sendOneFormat()","Sending /api/format"),2==JSON.stringify(e).length)return logInfo("configStore.sendOneFormat()","No format data to store, skipping step"),!0;try{return yield sharedHttpClient.postJson("api/format",e),global$1.disabled=!1,logInfo("configStore.sendOneFormat()","Sending /api/format completed"),!0}catch(t){return logError("configStore.sendOneFormat()",t),!1}})},sendPushTest(e){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.sendPushTest()","Sending /api/push");try{return yield sharedHttpClient.postJson("api/push",e),!0}catch(t){return logError("configStore.sendPushTest()",t),!1}})},setSleepMode(e){return __async(this,null,function*(){try{logInfo("configStore.setSleepMode()","Sending /api/sleepmode");const t=yield sharedHttpClient.request("api/sleepmode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sleep_mode:e})});return t.ok?(yield t.json(),logInfo("configStore.setSleepMode()","Sending /api/sleepmode completed"),!0):(logError("configStore.setSleepMode()",`HTTP ${t.status}: ${t.statusText}`),!1)}catch(t){return logError("configStore.setSleepMode()",t),!1}})},restart(){return __async(this,null,function*(){global$1.clearMessages(),global$1.disabled=!0;try{const e=yield sharedHttpClient.restart(this.mdns,{redirectDelayMs:8e3});e.success&&e.json&&!0===e.json.status?(global$1.messageSuccess=(e.json.message||"")+" Redirecting to http://"+this.mdns+".local in 8 seconds.",logInfo("configStore.restart()","Restart requested, redirect scheduled")):e.success&&e.json?global$1.messageError=e.json.message||"Failed to restart device":global$1.messageError="Failed to request restart"}catch(e){logError("configStore.restart()",e),global$1.messageError="Failed to do restart"}finally{global$1.disabled=!1}})},getPushTestStatus(){return __async(this,null,function*(){logInfo("configStore.getPushTest()","Fetching /api/push/status");try{const e=yield sharedHttpClient.getJson("api/push/status");return logDebug("configStore.getPushTest()",e),logInfo("configStore.getPushTest()","Fetching /api/push/status completed"),{success:!0,data:e}}catch(e){return logError("configStore.getPushTest()",e),{success:!1,data:null}}})},sendWifiScan(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.sendWifiScan()","Sending /api/wifi");try{return yield sharedHttpClient.request("api/wifi"),logInfo("configStore.sendWifiScan()","Sending /api/wifi completed"),!0}catch(e){return logError("configStore.sendWifiScan()",e),!1}})},getWifiScanStatus(){return __async(this,null,function*(){logInfo("configStore.getWifiScanStatus()","Fetching /api/wifi/status");try{const e=yield sharedHttpClient.getJson("api/wifi/status");return logDebug("configStore.getWifiScanStatus()",e),logInfo("configStore.getWifiScanStatus()","Fetching /api/wifi/status completed"),{success:!0,data:e}}catch(e){return logError("configStore.getWifiScanStatus()",e),{success:!1,data:null}}})},sendHardwareScan(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.sendHardwareScan()","Sending /api/hardware");try{return yield sharedHttpClient.request("api/hardware"),logInfo("configStore.sendHardwareScan()","Sending /api/hardware completed"),!0}catch(e){return logError("configStore.sendHardwareScan()",e),!1}})},getHardwareScanStatus(){return __async(this,null,function*(){logInfo("configStore.getHardwareScanStatus()","Fetching /api/hardware/status");try{const e=yield sharedHttpClient.getJson("api/hardware/status");return logDebug("configStore.getHardwareScanStatus()",e),logInfo("configStore.getHardwareScanStatus()","Fetching /api/hardware/status completed"),{success:!0,data:e}}catch(e){return logError("configStore.getHardwareScanStatus()",e),{success:!1,data:null}}})},saveAll(){return __async(this,null,function*(){global$1.clearMessages(),global$1.disabled=!0;try{if(!(yield this.sendConfig()))return global$1.messageError="Failed to store configuration to device",void 0;if(!(yield this.sendFormat()))return global$1.messageError="Failed to store format to device",void 0;global$1.messageSuccess="Configuration has been saved to device",saveConfigState()}catch(e){logError("configStore.saveAll()",e),global$1.messageError="Failed to save configuration"}finally{global$1.disabled=!1}})},runPushTest(e){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.runPushTest()","Starting push test");try{return(yield this.sendPushTest(e))?yield(()=>__async(this,null,function*(){for(;;){const e=yield this.getPushTestStatus();if(!e.success)return global$1.messageError="Failed to get push test status",!1;const t=e.data;if(!t.status)return t.success?(t.push_enabled?!t.success&&t.push_return_code>0?global$1.messageError="Test failed with error code ("+sharedHttpClient.getErrorString(t.push_return_code)+")":t.success||0!=t.push_return_code?global$1.messageSuccess="Test was successful":global$1.messageError="Test not started. Might be blocked due to skip SSL flag enabled on esp8266":global$1.messageWarning="No endpoint is defined for this target. Cannot run test.",!0):(global$1.messageError="Test failed with error code ("+t.push_return_code+")",!0);yield new Promise(e=>setTimeout(e,2e3))}}))():(global$1.messageError="Failed to start push test",!1)}catch(t){return logError("configStore.runPushTest()",t),global$1.messageError="Push test failed unexpectedly",!1}finally{global$1.disabled=!1}})},runWifiScan(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.runWifiScan()","Starting wifi scan");try{if(!(yield this.sendWifiScan()))return global$1.messageError="Failed to start wifi scan",{success:!1};for(;;){const e=yield this.getWifiScanStatus();if(!e.success)return global$1.messageError="Failed to get wifi scan status",{success:!1};if(!e.data.status)return global$1.disabled=!1,{success:e.data.success,data:e.data};yield new Promise(e=>setTimeout(e,2e3))}}finally{global$1.disabled=!1}})},runHardwareScan(){return __async(this,null,function*(){global$1.disabled=!0,logInfo("configStore.runHardwareScan()","Starting hardware scan");try{if(!(yield this.sendHardwareScan()))return global$1.messageError="Failed to start hardware scan",{success:!1};for(;;){const e=yield this.getHardwareScanStatus();if(!e.success)return global$1.messageError="Failed to get hardware scan status",{success:!1};if(!e.data.status)return global$1.disabled=!1,{success:e.data.success,data:e.data};yield new Promise(e=>setTimeout(e,2e3))}}finally{global$1.disabled=!1}})}}}),piniaInstance=createPinia(),config=useConfigStore(piniaInstance),global$1=useGlobalStore(piniaInstance),status=useStatusStore(piniaInstance),configCompare=ref(null),saveConfigState=()=>{for(var e in logInfo("pinia.saveConfigState()","Saving state"),configCompare.value={},config)if("function"!=typeof config[e]&&"$id"!==e)if("gyro_calibration_data"===e);else if("formula_calculation_data"===e)for(var t in configCompare.value[e]=[],config[e]){var i={a:config[e][t].a,g:config[e][t].g};configCompare.value[e].push(i)}else configCompare.value[e]=config[e];logInfo("pinia.saveConfigState()","Saved state: ",configCompare.value),global$1.configChanged=!1},getConfigChanges=()=>{var e={};if(null===configCompare.value)return logInfo("pinia.getConfigChanges()","configState not saved"),e;for(var t in configCompare.value)if("gyro_calibration_data"===t);else if("formula_calculation_data"===t)for(var i in configCompare.value[t])configCompare.value[t][i].a!=config[t][i].a&&(e.formula_calculation_data=config.formula_calculation_data),configCompare.value[t][i].g!=config[t][i].g&&(e.formula_calculation_data=config.formula_calculation_data);else configCompare.value[t]!=config[t]&&(e[t]=config[t]);return e};config.$subscribe(()=>{if(global$1.initialized){var e=getConfigChanges();logInfo("pinia.subscribe()","State change on configStore",e),JSON.stringify(e).length>2?(global$1.configChanged=!0,logInfo("pinia.subscribe()","Changed properties:",e)):global$1.configChanged=!1}});const isBrowser="undefined"!=typeof document;function isRouteComponent(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function isESModule(e){return e.__esModule||"Module"===e[Symbol.toStringTag]||e.default&&isRouteComponent(e.default)}const assign=Object.assign;function applyToParams(e,t){const i={};for(const o in t){const s=t[o];i[o]=isArray$1(s)?s.map(e):e(s)}return i}const noop$1=()=>{},isArray$1=Array.isArray;function mergeOptions(e,t){const i={};for(const o in e)i[o]=o in t?t[o]:e[o];return i}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return null==e?"":encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,i="/"){let o,s={},n="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(o=t.slice(0,l),n=t.slice(l,a>0?a:t.length),s=e(n.slice(1))),a>=0&&(o=o||t.slice(0,a),r=t.slice(a,t.length)),o=resolveRelativePath(null!=o?o:t,i),{fullPath:o+n+r,path:o,query:s,hash:decode(r)}}function stringifyURL(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function stripBase(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function isSameRouteLocation(e,t,i){const o=t.matched.length-1,s=i.matched.length-1;return o>-1&&o===s&&isSameRouteRecord(t.matched[o],i.matched[s])&&isSameRouteLocationParams(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(!isSameRouteLocationParamsValue(e[i],t[i]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray$1(e)?isEquivalentArray(e,t):isArray$1(t)?isEquivalentArray(t,e):(null==e?void 0:e.valueOf())===(null==t?void 0:t.valueOf())}function isEquivalentArray(e,t){return isArray$1(t)?e.length===t.length&&e.every((e,i)=>e===t[i]):1===e.length&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),o=e.split("/"),s=o[o.length-1];".."!==s&&"."!==s||o.push("");let n,r,a=i.length-1;for(n=0;n<o.length;n++)if(r=o[n],"."!==r){if(".."!==r)break;a>1&&a--}return i.slice(0,a).join("/")+"/"+o.slice(n).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let NavigationType=function(e){return e.pop="pop",e.push="push",e}({}),NavigationDirection=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const i=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-i.left-(t.left||0),top:o.top-i.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(e){let t;if("el"in e){const i=e.el,o="string"==typeof i&&i.startsWith("#"),s="string"==typeof i?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!s)return;t=getElementPosition(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}function isRouteLocation(e){return"string"==typeof e||e&&"object"==typeof e}function isRouteName(e){return"string"==typeof e||"symbol"==typeof e}let ErrorTypes=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const NavigationFailureSymbol=Symbol("");function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(null==t||!!(e.type&t))}({[ErrorTypes.MATCHER_NOT_FOUND]:({location:e,currentLocation:t})=>`No match for\n ${JSON.stringify(e)}${t?"\nwhile being at\n"+JSON.stringify(t):""}`,[ErrorTypes.NAVIGATION_GUARD_REDIRECT]:({from:e,to:t})=>`Redirected from "${e.fullPath}" to "${stringifyRoute(t)}" via a navigation guard.`,[ErrorTypes.NAVIGATION_ABORTED]:({from:e,to:t})=>`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`,[ErrorTypes.NAVIGATION_CANCELLED]:({from:e,to:t})=>`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`,[ErrorTypes.NAVIGATION_DUPLICATED]:({from:e,to:t})=>`Avoided redundant navigation to current location: "${e.fullPath}".`});const propertiesToLog=["params","query","hash"];function stringifyRoute(e){if("string"==typeof e)return e;if(null!=e.path)return e.path;const t={};for(const i of propertiesToLog)i in e&&(t[i]=e[i]);return JSON.stringify(t,null,2)}function parseQuery(e){const t={};if(""===e||"?"===e)return t;const i=("?"===e[0]?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const e=i[o].replace(PLUS_RE," "),s=e.indexOf("="),n=decode(s<0?e:e.slice(0,s)),r=s<0?null:decode(e.slice(s+1));if(n in t){let e=t[n];isArray$1(e)||(e=t[n]=[e]),e.push(r)}else t[n]=r}return t}function stringifyQuery(e){let t="";for(let i in e){const o=e[i];i=encodeQueryKey(i),null!=o?(isArray$1(o)?o.map(e=>e&&encodeQueryValue(e)):[o&&encodeQueryValue(o)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+i,null!=e&&(t+="="+e))}):void 0!==o&&(t+=(t.length?"&":"")+i)}return t}function normalizeQuery(e){const t={};for(const i in e){const o=e[i];void 0!==o&&(t[i]=isArray$1(o)?o.map(e=>null==e?null:""+e):null==o?o:""+o)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];return{add:function(t){return e.push(t),()=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function guardToPromiseFn(e,t,i,o,s,n=e=>e()){const r=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=e=>{!1===e?l(createRouterError(ErrorTypes.NAVIGATION_ABORTED,{from:i,to:t})):e instanceof Error?l(e):isRouteLocation(e)?l(createRouterError(ErrorTypes.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(r&&o.enterCallbacks[s]===r&&"function"==typeof e&&r.push(e),a())},d=n(()=>e.call(o&&o.instances[s],t,i,c));let u=Promise.resolve(d);e.length<3&&(u=u.then(c)),u.catch(e=>l(e))})}function extractComponentsGuards(e,t,i,o,s=e=>e()){const n=[];for(const r of e)for(const e in r.components){let a=r.components[e];if("beforeRouteEnter"===t||r.instances[e])if(isRouteComponent(a)){const l=(a.__vccOpts||a)[t];l&&n.push(guardToPromiseFn(l,i,o,r,e,s))}else{let l=a();n.push(()=>l.then(n=>{if(!n)throw new Error(`Couldn't resolve component "${e}" at "${r.path}"`);const a=isESModule(n)?n.default:n;r.mods[e]=n,r.components[e]=a;const l=(a.__vccOpts||a)[t];return l&&guardToPromiseFn(l,i,o,r,e,s)()}))}}return n}function extractChangingRecords(e,t){const i=[],o=[],s=[],n=Math.max(t.matched.length,e.matched.length);for(let r=0;r<n;r++){const n=t.matched[r];n&&(e.matched.find(e=>isSameRouteRecord(e,n))?o.push(n):i.push(n));const a=e.matched[r];a&&(t.matched.find(e=>isSameRouteRecord(e,a))||s.push(a))}return[i,o,s]}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:i,search:o,hash:s}=t,n=e.indexOf("#");if(n>-1){let t=s.includes(e.slice(n))?e.slice(n).length:1,i=s.slice(t);return"/"!==i[0]&&(i="/"+i),stripBase(i,"")}return stripBase(i,e)+o+s}function useHistoryListeners(e,t,i,o){let s=[],n=[],r=null;const a=({state:n})=>{const a=createCurrentLocation(e,location),l=i.value,c=t.value;let d=0;if(n){if(i.value=a,t.value=n,r&&r===l)return r=null,void 0;d=c?n.position-c.position:0}else o(a);s.forEach(e=>{e(i.value,l,{delta:d,type:NavigationType.pop,direction:d?d>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function l(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(assign({},e.state,{scroll:computeScrollPosition()}),"")}}return window.addEventListener("popstate",a),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:function(){r=i.value},listen:function(e){s.push(e);const t=()=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)};return n.push(t),t},destroy:function(){for(const e of n)e();n=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}}}function buildState(e,t,i,o=!1,s=!1){return{back:e,current:t,forward:i,replaced:o,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:i}=window,o={value:createCurrentLocation(e,i)},s={value:t.state};function n(o,n,r){const a=e.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?e:e.slice(a))+o:createBaseLocation()+e+o;try{t[r?"replaceState":"pushState"](n,"",l),s.value=n}catch(c){console.error(c),i[r?"replace":"assign"](l)}}return s.value||n(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:s,push:function(e,i){const r=assign({},s.value,t.state,{forward:e,scroll:computeScrollPosition()});n(r.current,r,!0),n(e,assign({},buildState(o.value,e,null),{position:r.position+1},i),!1),o.value=e},replace:function(e,i){n(e,assign({},t.state,buildState(s.value.back,e,s.value.forward,!0),i,{position:s.value.position}),!0),o.value=e}}}function createWebHistory(e){const t=useHistoryStateNavigation(e=normalizeBase(e)),i=useHistoryListeners(e,t.state,t.location,t.replace),o=assign({location:"",base:e,go:function(e,t=!0){t||i.pauseListeners(),history.go(e)},createHref:createHref.bind(null,e)},t,i);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let TokenType=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var TokenizerState=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(TokenizerState||{});const ROOT_TOKEN={type:TokenType.Static,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if("/"===e)return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${i})/"${c}": ${e}`)}let i=TokenizerState.Static,o=i;const s=[];let n;function r(){n&&s.push(n),n=[]}let a,l=0,c="",d="";function u(){c&&(i===TokenizerState.Static?n.push({type:TokenType.Static,value:c}):i===TokenizerState.Param||i===TokenizerState.ParamRegExp||i===TokenizerState.ParamRegExpEnd?(n.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:TokenType.Param,value:c,regexp:d,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||i===TokenizerState.ParamRegExp)switch(i){case TokenizerState.Static:"/"===a?(c&&u(),r()):":"===a?(u(),i=TokenizerState.Param):h();break;case TokenizerState.EscapeNext:h(),i=o;break;case TokenizerState.Param:"("===a?i=TokenizerState.ParamRegExp:VALID_PARAM_RE.test(a)?h():(u(),i=TokenizerState.Static,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case TokenizerState.ParamRegExp:")"===a?"\\"==d[d.length-1]?d=d.slice(0,-1)+a:i=TokenizerState.ParamRegExpEnd:d+=a;break;case TokenizerState.ParamRegExpEnd:u(),i=TokenizerState.Static,"*"!==a&&"?"!==a&&"+"!==a&&l--,d="";break;default:t("Unknown state")}else o=i,i=TokenizerState.EscapeNext;return i===TokenizerState.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),u(),r(),s}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0};var PathScore=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(PathScore||{});const REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const i=assign({},BASE_PATH_PARSER_OPTIONS,t),o=[];let s=i.start?"^":"";const n=[];for(const l of e){const e=l.length?[]:[PathScore.Root];i.strict&&!l.length&&(s+="/");for(let t=0;t<l.length;t++){const o=l[t];let r=PathScore.Segment+(i.sensitive?PathScore.BonusCaseSensitive:0);if(o.type===TokenType.Static)t||(s+="/"),s+=o.value.replace(REGEX_CHARS_RE,"\\$&"),r+=PathScore.Static;else if(o.type===TokenType.Param){const{value:e,repeatable:i,optional:c,regexp:d}=o;n.push({name:e,repeatable:i,optional:c});const u=d||BASE_PARAM_PATTERN;if(u!==BASE_PARAM_PATTERN){r+=PathScore.BonusCustomRegExp;try{`${u}`}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+a.message)}}let h=i?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=c&&l.length<2?`(?:/${h})`:"/"+h),c&&(h+="?"),s+=h,r+=PathScore.Dynamic,c&&(r+=PathScore.BonusOptional),i&&(r+=PathScore.BonusRepeatable),".*"===u&&(r+=PathScore.BonusWildcard)}e.push(r)}o.push(e)}if(i.strict&&i.end){const e=o.length-1;o[e][o[e].length-1]+=PathScore.BonusStrict}i.strict||(s+="/?"),i.end?s+="$":i.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const r=new RegExp(s,i.sensitive?"":"i");return{re:r,score:o,keys:n,parse:function(e){const t=e.match(r),i={};if(!t)return null;for(let o=1;o<t.length;o++){const e=t[o]||"",s=n[o-1];i[s.name]=e&&s.repeatable?e.split("/"):e}return i},stringify:function(t){let i="",o=!1;for(const s of e){o&&i.endsWith("/")||(i+="/"),o=!1;for(const e of s)if(e.type===TokenType.Static)i+=e.value;else if(e.type===TokenType.Param){const{value:n,repeatable:r,optional:a}=e,l=n in t?t[n]:"";if(isArray$1(l)&&!r)throw new Error(`Provided param "${n}" is an array but it is not repeatable (* or + modifiers)`);const c=isArray$1(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${n}"`);s.length<2&&(i.endsWith("/")?i=i.slice(0,-1):o=!0)}i+=c}}return i||"/"}}}function compareScoreArray(e,t){let i=0;for(;i<e.length&&i<t.length;){const o=t[i]-e[i];if(o)return o;i++}return e.length<t.length?1===e.length&&e[0]===PathScore.Static+PathScore.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===PathScore.Static+PathScore.Segment?1:-1:0}function comparePathParserScore(e,t){let i=0;const o=e.score,s=t.score;for(;i<o.length&&i<s.length;){const e=compareScoreArray(o[i],s[i]);if(e)return e;i++}if(1===Math.abs(s.length-o.length)){if(isLastScoreNegative(o))return 1;if(isLastScoreNegative(s))return-1}return s.length-o.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const PATH_PARSER_OPTIONS_DEFAULTS={strict:!1,end:!0,sensitive:!1};function createRouteRecordMatcher(e,t,i){const o=tokensToParser(tokenizePath(e.path),i),s=assign(o,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function createRouterMatcher(e,t){const i=[],o=new Map;function s(e,i,o){const a=!o,l=normalizeRouteRecord(e);l.aliasOf=o&&o.record;const c=mergeOptions(t,e),d=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(normalizeRouteRecord(assign({},l,{components:o?o.record.components:l.components,path:e,aliasOf:o?o.record:l})))}let u,h;for(const t of d){const{path:d}=t;if(i&&"/"!==d[0]){const e=i.record.path,o="/"===e[e.length-1]?"":"/";t.path=i.record.path+(d&&o+d)}if(u=createRouteRecordMatcher(t,i,c),o?o.alias.push(u):(h=h||u,h!==u&&h.alias.push(u),a&&e.name&&!isAliasRecord(u)&&n(e.name)),isMatchable(u)&&r(u),l.children){const e=l.children;for(let t=0;t<e.length;t++)s(e[t],u,o&&o.children[t])}o=o||u}return h?()=>{n(h)}:noop$1}function n(e){if(isRouteName(e)){const t=o.get(e);t&&(o.delete(e),i.splice(i.indexOf(t),1),t.children.forEach(n),t.alias.forEach(n))}else{const t=i.indexOf(e);t>-1&&(i.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(n),e.alias.forEach(n))}}function r(e){const t=findInsertionIndex(e,i);i.splice(t,0,e),e.record.name&&!isAliasRecord(e)&&o.set(e.record.name,e)}return t=mergeOptions(PATH_PARSER_OPTIONS_DEFAULTS,t),e.forEach(e=>s(e)),{addRoute:s,resolve:function(e,t){let s,n,r,a={};if("name"in e&&e.name){if(s=o.get(e.name),!s)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:e});r=s.record.name,a=assign(pickParams(t.params,s.keys.filter(e=>!e.optional).concat(s.parent?s.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&pickParams(e.params,s.keys.map(e=>e.name))),n=s.stringify(a)}else if(null!=e.path)n=e.path,s=i.find(e=>e.re.test(n)),s&&(a=s.parse(n),r=s.record.name);else{if(s=t.name?o.get(t.name):i.find(e=>e.re.test(t.path)),!s)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:e,currentLocation:t});r=s.record.name,a=assign({},t.params,e.params),n=s.stringify(a)}const l=[];let c=s;for(;c;)l.unshift(c.record),c=c.parent;return{name:r,path:n,params:a,matched:l,meta:mergeMetaFields(l)}},removeRoute:n,clearRoutes:function(){i.length=0,o.clear()},getRoutes:function(){return i},getRecordMatcher:function(e){return o.get(e)}}}function pickParams(e,t){const i={};for(const o of t)o in e&&(i[o]=e[o]);return i}function normalizeRouteRecord(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function normalizeRecordProps(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const o in e.components)t[o]="object"==typeof i?i[o]:i;return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((e,t)=>assign(e,t.meta),{})}function findInsertionIndex(e,t){let i=0,o=t.length;for(;i!==o;){const s=i+o>>1;comparePathParserScore(e,t[s])<0?o=s:i=s+1}const s=getInsertionAncestor(e);return s&&(o=t.lastIndexOf(s,o-1)),o}function getInsertionAncestor(e){let t=e;for(;t=t.parent;)if(isMatchable(t)&&0===comparePathParserScore(e,t))return t}function isMatchable({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function useLink(e){const t=inject(routerKey),i=inject(routeLocationKey),o=computed(()=>{const i=unref(e.to);return t.resolve(i)}),s=computed(()=>{const{matched:e}=o.value,{length:t}=e,s=e[t-1],n=i.matched;if(!s||!n.length)return-1;const r=n.findIndex(isSameRouteRecord.bind(null,s));if(r>-1)return r;const a=getOriginalPath(e[t-2]);return t>1&&getOriginalPath(s)===a&&n[n.length-1].path!==a?n.findIndex(isSameRouteRecord.bind(null,e[t-2])):r}),n=computed(()=>s.value>-1&&includesParams(i.params,o.value.params)),r=computed(()=>s.value>-1&&s.value===i.matched.length-1&&isSameRouteLocationParams(i.params,o.value.params));return{route:o,href:computed(()=>o.value.href),isActive:n,isExactActive:r,navigate:function(i={}){if(guardEvent(i)){const i=t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop$1);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>i),i}return Promise.resolve()}}}function preferSingleVNode(e){return 1===e.length?e[0]:e}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:useLink,setup(e,{slots:t}){const i=reactive(useLink(e)),{options:o}=inject(routerKey),s=computed(()=>({[getLinkClass(e.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[getLinkClass(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const o=t.default&&preferSingleVNode(t.default(i));return e.custom?o:h("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:s.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const i in t){const o=t[i],s=e[i];if("string"==typeof o){if(o!==s)return!1}else if(!isArray$1(s)||s.length!==o.length||o.some((e,t)=>e.valueOf()!==s[t].valueOf()))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,i)=>null!=e?e:null!=t?t:i,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const o=inject(routerViewLocationKey),s=computed(()=>e.route||o.value),n=inject(viewDepthKey,0),r=computed(()=>{let e=unref(n);const{matched:t}=s.value;let i;for(;(i=t[e])&&!i.components;)e++;return e}),a=computed(()=>s.value.matched[r.value]);provide(viewDepthKey,computed(()=>r.value+1)),provide(matchedRouteKey,a),provide(routerViewLocationKey,s);const l=ref();return watch(()=>[l.value,a.value,e.name],([e,t,i],[o,s,n])=>{t&&(t.instances[i]=e,s&&s!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=s.leaveGuards),t.updateGuards.size||(t.updateGuards=s.updateGuards))),!e||!t||s&&isSameRouteRecord(t,s)&&o||(t.enterCallbacks[i]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const o=s.value,n=e.name,r=a.value,c=r&&r.components[n];if(!c)return normalizeSlot(i.default,{Component:c,route:o});const d=r.props[n],u=d?!0===d?o.params:"function"==typeof d?d(o):d:null,p=h(c,assign({},u,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(r.instances[n]=null)},ref:l}));return normalizeSlot(i.default,{Component:p,route:o})||p}}});function normalizeSlot(e,t){if(!e)return null;const i=e(t);return 1===i.length?i[0]:i}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),i=e.parseQuery||parseQuery,o=e.stringifyQuery||stringifyQuery,s=e.history,n=useCallbacks(),r=useCallbacks(),a=useCallbacks(),l=shallowRef(START_LOCATION_NORMALIZED);let c=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=applyToParams.bind(null,e=>""+e),u=applyToParams.bind(null,encodeParam),h=applyToParams.bind(null,decode);function p(e,n){if(n=assign({},n||l.value),"string"==typeof e){const o=parseURL(i,e,n.path),r=t.resolve({path:o.path},n),a=s.createHref(o.fullPath);return assign(o,r,{params:h(r.params),hash:decode(o.hash),redirectedFrom:void 0,href:a})}let r;if(null!=e.path)r=assign({},e,{path:parseURL(i,e.path,n.path).path});else{const t=assign({},e.params);for(const e in t)null==t[e]&&delete t[e];r=assign({},e,{params:u(t)}),n.params=u(n.params)}const a=t.resolve(r,n),c=e.hash||"";a.params=d(h(a.params));const p=stringifyURL(o,assign({},e,{hash:encodeHash(c),path:a.path})),f=s.createHref(p);return assign({fullPath:p,hash:c,query:o===stringifyQuery?normalizeQuery(e.query):e.query||{}},a,{redirectedFrom:void 0,href:f})}function f(e){return"string"==typeof e?parseURL(i,e,l.value.path):assign({},e)}function g(e,t){if(c!==e)return createRouterError(ErrorTypes.NAVIGATION_CANCELLED,{from:t,to:e})}function m(e){return b(e)}function _(e,t){const i=e.matched[e.matched.length-1];if(i&&i.redirect){const{redirect:o}=i;let s="function"==typeof o?o(e,t):o;return"string"==typeof s&&(s=s.includes("?")||s.includes("#")?s=f(s):{path:s},s.params={}),assign({query:e.query,hash:e.hash,params:null!=s.path?{}:e.params},s)}}function b(e,t){const i=c=p(e),s=l.value,n=e.state,r=e.force,a=!0===e.replace,d=_(i,s);if(d)return b(assign(f(d),{state:"object"==typeof d?assign({},n,d.state):n,force:r,replace:a}),t||i);const u=i;let h;return u.redirectedFrom=t,!r&&isSameRouteLocation(o,s,i)&&(h=createRouterError(ErrorTypes.NAVIGATION_DUPLICATED,{to:u,from:s}),E(s,s,!0,!1)),(h?Promise.resolve(h):w(u,s)).catch(e=>isNavigationFailure(e)?isNavigationFailure(e,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?e:V(e):N(e,u,s)).then(e=>{if(e){if(isNavigationFailure(e,ErrorTypes.NAVIGATION_GUARD_REDIRECT))return b(assign({replace:a},f(e.to),{state:"object"==typeof e.to?assign({},n,e.to.state):n,force:r}),t||u)}else e=S(u,s,!0,a,n);return x(u,s,e),e})}function v(e,t){const i=g(e,t);return i?Promise.reject(i):Promise.resolve()}function y(e){const t=T.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function w(e,t){let i;const[o,s,a]=extractChangingRecords(e,t);i=extractComponentsGuards(o.reverse(),"beforeRouteLeave",e,t);for(const n of o)n.leaveGuards.forEach(o=>{i.push(guardToPromiseFn(o,e,t))});const l=v.bind(null,e,t);return i.push(l),P(i).then(()=>{i=[];for(const o of n.list())i.push(guardToPromiseFn(o,e,t));return i.push(l),P(i)}).then(()=>{i=extractComponentsGuards(s,"beforeRouteUpdate",e,t);for(const o of s)o.updateGuards.forEach(o=>{i.push(guardToPromiseFn(o,e,t))});return i.push(l),P(i)}).then(()=>{i=[];for(const o of a)if(o.beforeEnter)if(isArray$1(o.beforeEnter))for(const s of o.beforeEnter)i.push(guardToPromiseFn(s,e,t));else i.push(guardToPromiseFn(o.beforeEnter,e,t));return i.push(l),P(i)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),i=extractComponentsGuards(a,"beforeRouteEnter",e,t,y),i.push(l),P(i))).then(()=>{i=[];for(const o of r.list())i.push(guardToPromiseFn(o,e,t));return i.push(l),P(i)}).catch(e=>isNavigationFailure(e,ErrorTypes.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function x(e,t,i){a.list().forEach(o=>y(()=>o(e,t,i)))}function S(e,t,i,o,n){const r=g(e,t);if(r)return r;const a=t===START_LOCATION_NORMALIZED,c=isBrowser?history.state:{};i&&(o||a?s.replace(e.fullPath,assign({scroll:a&&c&&c.scroll},n)):s.push(e.fullPath,n)),l.value=e,E(e,t,i,a),V()}let $,k,C=useCallbacks(),B=useCallbacks();function N(e,t,i){V(e);const o=B.list();return o.length?o.forEach(o=>o(e,t,i)):console.error(e),Promise.reject(e)}function V(e){return k||(k=!e,$||($=s.listen((e,t,i)=>{if(!D.listening)return;const o=p(e),n=_(o,D.currentRoute.value);if(n)return b(assign(n,{replace:!0,force:!0}),o).catch(noop$1),void 0;c=o;const r=l.value;isBrowser&&saveScrollPosition(getScrollKey(r.fullPath,i.delta),computeScrollPosition()),w(o,r).catch(e=>isNavigationFailure(e,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_CANCELLED)?e:isNavigationFailure(e,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?(b(assign(f(e.to),{force:!0}),o).then(e=>{isNavigationFailure(e,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&!i.delta&&i.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop$1),Promise.reject()):(i.delta&&s.go(-i.delta,!1),N(e,o,r))).then(e=>{(e=e||S(o,r,!1))&&(i.delta&&!isNavigationFailure(e,ErrorTypes.NAVIGATION_CANCELLED)?s.go(-i.delta,!1):i.type===NavigationType.pop&&isNavigationFailure(e,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),x(o,r,e)}).catch(noop$1)})),C.list().forEach(([t,i])=>e?i(e):t()),C.reset()),e}function E(t,i,o,s){const{scrollBehavior:n}=e;if(!isBrowser||!n)return Promise.resolve();const r=!o&&getSavedScrollPosition(getScrollKey(t.fullPath,0))||(s||!o)&&history.state&&history.state.scroll||null;return nextTick().then(()=>n(t,i,r)).then(e=>e&&scrollToPosition(e)).catch(e=>N(e,t,i))}const A=e=>s.go(e);let M;const T=new Set,D={currentRoute:l,listening:!0,addRoute:function(e,i){let o,s;return isRouteName(e)?(o=t.getRecordMatcher(e),s=i):s=e,t.addRoute(s,o)},removeRoute:function(e){const i=t.getRecordMatcher(e);i&&t.removeRoute(i)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:p,options:e,push:m,replace:function(e){return m(assign(f(e),{replace:!0}))},go:A,back:()=>A(-1),forward:()=>A(1),beforeEach:n.add,beforeResolve:r.add,afterEach:a.add,onError:B.add,isReady:function(){return k&&l.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((e,t)=>{C.add([e,t])})},install(e){e.component("RouterLink",RouterLink),e.component("RouterView",RouterView),e.config.globalProperties.$router=D,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(l)}),isBrowser&&!M&&l.value===START_LOCATION_NORMALIZED&&(M=!0,m(s.location).catch(e=>{}));const t={};for(const o in START_LOCATION_NORMALIZED)Object.defineProperty(t,o,{get:()=>l.value[o],enumerable:!0});e.provide(routerKey,D),e.provide(routeLocationKey,shallowReactive(t)),e.provide(routerViewLocationKey,l);const i=e.unmount;T.add(e),e.unmount=function(){T.delete(e),T.size<1&&(c=START_LOCATION_NORMALIZED,$&&$(),$=null,l.value=START_LOCATION_NORMALIZED,M=!1,k=!1),i()}}};function P(e){return e.reduce((e,t)=>e.then(()=>y(t)),Promise.resolve())}return D}const httpHeaderOptions=ref([{label:"JSON data",value:"Content-Type: application/json"},{label:"Form data",value:"Content-Type: x-www-form-urlencoded"},{label:"Authorization",value:"Authorization: Basic {enter token here}"},{label:"No Cache",value:"Pragma: no-cache"},{label:"User agent",value:"User-Agent: gravitymon"}]),httpPostUrlOptions=ref([{label:"Brewfather ispindel",value:"http://log.brewfather.net/ispindel?id=<yourid>"},{label:"Brewfather stream",value:"http://log.brewfather.net/stream?id=<yourid>"},{label:"UBI dots",value:"http://industrial.api.ubidots.com/api/v1.6/devices/<devicename>/?token=<api-token>"},{label:"UBI dots secure",value:"https://industrial.api.ubidots.com/api/v1.6/devices/<devicename>/?token=<api-token>"},{label:"Brewersfriend (P)",value:"http://log.brewersfriend.com/ispindel/[API KEY]"},{label:"Brewersfriend (SG)",value:"http://log.brewersfriend.com/ispindel_sg/[API KEY]"},{label:"Brewspy",value:"http://brew-spy.com/api/ispindel"},{label:"Thingsspeak",value:"http://api.thingspeak.com/update.json"},{label:"Blynk",value:"http://blynk.cloud/external/api/batch/update"},{label:"Bierdot bricks",value:"https://brewbricks.com/api/iot/v1"}]),httpPostFormatOptions=ref([{label:"GravityMon",value:"%7B%20%22name%22%20%3A%20%22%24%7Bmdns%7D%22%2C%20%22ID%22%3A%20%22%24%7Bid%7D%22%2C%20%22token%22%20%3A%20%22%24%7Btoken%7D%22%2C%20%22interval%22%3A%20%24%7Bsleep-interval%7D%2C%20%22temperature%22%3A%20%24%7Btemp%7D%2C%20%22temp_units%22%3A%20%22%24%7Btemp-unit%7D%22%2C%20%22gravity%22%3A%20%24%7Bgravity%7D%2C%20%22angle%22%3A%20%24%7Bangle%7D%2C%20%22battery%22%3A%20%24%7Bbattery%7D%2C%20%22RSSI%22%3A%20%24%7Brssi%7D%2C%20%22corr-gravity%22%3A%20%24%7Bcorr-gravity%7D%2C%20%22gravity-unit%22%3A%20%22%24%7Bgravity-unit%7D%22%2C%20%22run-time%22%3A%20%24%7Brun-time%7D%7D"},{label:"GravityMon v2",value:"%7B%22name%22%3A%20%22%24%7Bmdns%7D%22%2C%20%22ID%22%3A%20%22%24%7Bid%7D%22%2C%20%22token%22%3A%20%22%24%7Btoken%7D%22%2C%20%22interval%22%3A%20%24%7Bsleep%2Dinterval%7D%2C%20%22temperature%22%3A%20%24%7Btemp%7D%2C%20%22temp%5Funits%22%3A%20%22%24%7Btemp%2Dunit%7D%22%2C%20%22gravity%22%3A%20%24%7Bgravity%7D%2C%20%22velocity%22%3A%20%24%7Bvelocity%7D%2C%20%22angle%22%3A%20%24%7Bangle%7D%2C%20%22battery%22%3A%20%24%7Bbattery%7D%2C%20%22RSSI%22%3A%20%24%7Brssi%7D%2C%20%22corr%2Dgravity%22%3A%20%24%7Bcorr%2Dgravity%7D%2C%20%22gravity%2Dunit%22%3A%20%22%24%7Bgravity%2Dunit%7D%22%2C%20%22run%2Dtime%22%3A%20%24%7Brun%2Dtime%7D%20%7D"},{label:"iSpindle",value:"%7B%20%22name%22%20%3A%20%22%24%7Bmdns%7D%22%2C%20%22ID%22%3A%20%22%24%7Bid%7D%22%2C%20%22token%22%20%3A%20%22%24%7Btoken%7D%22%2C%20%22interval%22%3A%20%24%7Bsleep-interval%7D%2C%20%22temperature%22%3A%20%24%7Btemp%7D%2C%20%22temp_units%22%3A%20%22%24%7Btemp-unit%7D%22%2C%20%22gravity%22%3A%20%24%7Bgravity%7D%2C%20%22angle%22%3A%20%24%7Bangle%7D%2C%20%22battery%22%3A%20%24%7Bbattery%7D%2C%20%22RSSI%22%3A%20%24%7Brssi%7D%7D"},{label:"BrewFatherCustom",value:"%7B%20%20%20%22name%22%3A%20%22%24%7Bmdns%7D%22%2C%20%20%20%22temp%22%3A%20%24%7Btemp%7D%2C%20%20%20%22aux_temp%22%3A%200%2C%20%20%20%22ext_temp%22%3A%200%2C%20%20%20%22temp_unit%22%3A%20%22%24%7Btemp-unit%7D%22%2C%20%20%20%22gravity%22%3A%20%24%7Bgravity%7D%2C%20%20%20%22gravity_unit%22%3A%20%22%24%7Bgravity-unit%7D%22%2C%20%20%20%22pressure%22%3A%200%2C%20%20%20%22pressure_unit%22%3A%20%22PSI%22%2C%20%20%20%22ph%22%3A%200%2C%20%20%20%22bpm%22%3A%200%2C%20%20%20%22comment%22%3A%20%22%22%2C%20%20%20%22beer%22%3A%20%22%22%2C%20%20%20%22battery%22%3A%20%24%7Bbattery%7D%7D"},{label:"UBIDots",value:"%7B%20%20%20%22temperature%22%3A%20%24%7Btemp%7D%2C%20%20%20%22gravity%22%3A%20%24%7Bgravity%7D%2C%20%20%20%22angle%22%3A%20%24%7Bangle%7D%2C%20%20%20%22battery%22%3A%20%24%7Bbattery%7D%2C%20%20%20%22rssi%22%3A%20%24%7Brssi%7D%7D"}]),httpGetFormatOptions=ref([{label:"GravityMon",value:"%3Fname%3D%24%7Bmdns%7D%26id%3D%24%7Bid%7D%26token%3D%24%7Btoken2%7D%26interval%3D%24%7Bsleep-interval%7D%26temperature%3D%24%7Btemp%7D%26temp-units%3D%24%7Btemp-unit%7D%26gravity%3D%24%7Bgravity%7D%26angle%3D%24%7Bangle%7D%26battery%3D%24%7Bbattery%7D%26rssi%3D%24%7Brssi%7D%26corr-gravity%3D%24%7Bcorr-gravity%7D%26gravity-unit%3D%24%7Bgravity-unit%7D%26run-time%3D%24%7Brun-time%7D"},{label:"GravityMon v2",value:"%3Fname%3D%24%7Bmdns%7D%26id%3D%24%7Bid%7D%26token%3D%24%7Btoken2%7D%26interval%3D%24%7Bsleep%2Dinterval%7D%26temperature%3D%24%7Btemp%7D%26temp%2Dunits%3D%24%7Btemp%2Dunit%7D%26gravity%3D%24%7Bgravity%7D%26velocity%3D%24%7Bvelocity%7D%26angle%3D%24%7Bangle%7D%26battery%3D%24%7Bbattery%7D%26rssi%3D%24%7Brssi%7D%26corr%2Dgravity%3D%24%7Bcorr%2Dgravity%7D%26gravity%2Dunit%3D%24%7Bgravity%2Dunit%7D%26run%2Dtime%3D%24%7Brun%2Dtime%7D"}]),influxdb2FormatOptions=ref([{label:"GravityMon",value:"measurement%2Chost%3D%24%7Bmdns%7D%2Cdevice%3D%24%7Bid%7D%2Ctemp%2Dformat%3D%24%7Btemp%2Dunit%7D%2Cgravity%2Dformat%3D%24%7Bgravity%2Dunit%7D%20gravity%3D%24%7Bgravity%7D%2Ccorr%2Dgravity%3D%24%7Bcorr%2Dgravity%7D%2Cangle%3D%24%7Bangle%7D%2Ctemp%3D%24%7Btemp%7D%2Cbattery%3D%24%7Bbattery%7D%2Crssi%3D%24%7Brssi%7D%0A"},{label:"GravityMon v2",value:"measurement%2Chost%3D%24%7Bmdns%7D%2Cdevice%3D%24%7Bid%7D%2Ctemp%2Dformat%3D%24%7Btemp%2Dunit%7D%2Cgravity%2Dformat%3D%24%7Bgravity%2Dunit%7D%20gravity%3D%24%7Bgravity%7D%2Cvelocity%3D%24%7Bvelocity%7D%2Ccorr%2Dgravity%3D%24%7Bcorr%2Dgravity%7D%2Cangle%3D%24%7Bangle%7D%2Ctemp%3D%24%7Btemp%7D%2Cbattery%3D%24%7Bbattery%7D%2Crssi%3D%24%7Brssi%7D%0A"}]),mqttFormatOptions=ref([{label:"Gravitymon / iSpindel",value:"ispindel%2F%24%7Bmdns%7D%2Ftilt%3A%24%7Bangle%7D%7Cispindel%2F%24%7Bmdns%7D%2Ftemperature%3A%24%7Btemp%7D%7Cispindel%2F%24%7Bmdns%7D%2Ftemp_units%3A%24%7Btemp-unit%7D%7Cispindel%2F%24%7Bmdns%7D%2Fbattery%3A%24%7Bbattery%7D%7Cispindel%2F%24%7Bmdns%7D%2Fgravity%3A%24%7Bgravity%7D%7Cispindel%2F%24%7Bmdns%7D%2Finterval%3A%24%7Bsleep-interval%7D%7Cispindel%2F%24%7Bmdns%7D%2FRSSI%3A%24%7Brssi%7D%7C"},{label:"Gravitymon v2 / iSpindel",value:"ispindel%2F%24%7Bmdns%7D%2Ftilt%3A%24%7Bangle%7D%7Cispindel%2F%24%7Bmdns%7D%2Ftemperature%3A%24%7Btemp%7D%7Cispindel%2F%24%7Bmdns%7D%2Ftemp%5Funits%3A%24%7Btemp%2Dunit%7D%7Cispindel%2F%24%7Bmdns%7D%2Fbattery%3A%24%7Bbattery%7D%7Cispindel%2F%24%7Bmdns%7D%2Fgravity%3A%24%7Bgravity%7D%7Cispindel%2F%24%7Bmdns%7D%2Fvelocity%3A%24%7Bvelocity%7D%7Cispindel%2F%24%7Bmdns%7D%2Finterval%3A%24%7Bsleep%2Dinterval%7D%7Cispindel%2F%24%7Bmdns%7D%2FRSSI%3A%24%7Brssi%7D%7C"},{label:"HomeAssistant",value:"gravmon%2F%24%7Bmdns%7D%2Ftemperature%3A%24%7Btemp%7D%7Cgravmon%2F%24%7Bmdns%7D%2Fgravity%3A%24%7Bgravity%7D%7Cgravmon%2F%24%7Bmdns%7D%2Frssi%3A%24%7Brssi%7D%7Cgravmon%2F%24%7Bmdns%7D%2Ftilt%3A%24%7Btilt%7D%7Cgravmon%2F%24%7Bmdns%7D%2Fbattery%3A%24%7Bbattery%7D%7C"},{label:"HomeAssistant 2",value:"gravmon%2F%24%7Bmdns%7D%2Ftemperature%3A%24%7Btemp%7D%7Cgravmon%2F%24%7Bmdns%7D%2Fgravity%3A%24%7Bgravity%7D%7Cgravmon%2F%24%7Bmdns%7D%2Frssi%3A%24%7Brssi%7D%7Cgravmon%2F%24%7Bmdns%7D%2Ftilt%3A%24%7Btilt%7D%7Cgravmon%2F%24%7Bmdns%7D%2Fbattery%3A%24%7Bbattery%7D%7Chomeassistant%2Fsensor%2Fgravmon_%24%7Bid%7D%2Ftemperature%2Fconfig%3A%7B%22dev%22%3A%7B%22name%22%3A%22%24%7Bmdns%7D%22%2C%22mdl%22%3A%22gravmon%22%2C%22sw%22%3A%22%24%7Bapp-ver%7D%22%2C%22ids%22%3A%22%24%7Bid%7D%22%7D%2C%22uniq_id%22%3A%22%24%7Bid%7D_temp%22%2C%22name%22%3A%22temperature%22%2C%22dev_cla%22%3A%22temperature%22%2C%22unit_of_meas%22%3A%22%C2%B0%24%7Btemp-unit%7D%22%2C%22stat_t%22%3A%22gravmon%2F%24%7Bmdns%7D%2Ftemperature%22%7D%7Chomeassistant%2Fsensor%2Fgravmon_%24%7Bid%7D%2Fgravity%2Fconfig%3A%7B%22dev%22%3A%7B%22name%22%3A%22%24%7Bmdns%7D%22%2C%22mdl%22%3A%22gravmon%22%2C%22sw%22%3A%22%24%7Bapp-ver%7D%22%2C%22ids%22%3A%22%24%7Bid%7D%22%7D%2C%22uniq_id%22%3A%22%24%7Bid%7D_grav%22%2C%22name%22%3A%22gravity%22%2C%22unit_of_meas%22%3A%22%20%24%7Bgravity-unit%7D%22%2C%22stat_t%22%3A%22gravmon%2F%24%7Bmdns%7D%2Fgravity%22%7D%7Chomeassistant%2Fsensor%2Fgravmon_%24%7Bid%7D%2Frssi%2Fconfig%3A%7B%22dev%22%3A%7B%22name%22%3A%22%24%7Bmdns%7D%22%2C%22mdl%22%3A%22gravmon%22%2C%22sw%22%3A%22%24%7Bapp-ver%7D%22%2C%22ids%22%3A%22%24%7Bid%7D%22%7D%2C%22uniq_id%22%3A%22%24%7Bid%7D_rssi%22%2C%22name%22%3A%22rssi%22%2C%22dev_cla%22%3A%22signal_strength%22%2C%22unit_of_meas%22%3A%22dBm%22%2C%22stat_t%22%3A%22gravmon%2F%24%7Bmdns%7D%2Frssi%22%7D%7Chomeassistant%2Fsensor%2Fgravmon_%24%7Bid%7D%2Ftilt%2Fconfig%3A%7B%22dev%22%3A%7B%22name%22%3A%22%24%7Bmdns%7D%22%2C%22mdl%22%3A%22gravmon%22%2C%22sw%22%3A%22%24%7Bapp-ver%7D%22%2C%22ids%22%3A%22%24%7Bid%7D%22%7D%2C%22uniq_id%22%3A%22%24%7Bid%7D_tilt%22%2C%22name%22%3A%22tilt%22%2C%22stat_t%22%3A%22gravmon%2F%24%7Bmdns%7D%2Ftilt%22%7D%7Chomeassistant%2Fsensor%2Fgravmon_%24%7Bid%7D%2Fbattery%2Fconfig%3A%7B%22dev%22%3A%7B%22name%22%3A%22%24%7Bmdns%7D%22%2C%22mdl%22%3A%22gravmon%22%2C%22sw%22%3A%22%24%7Bapp-ver%7D%22%2C%22ids%22%3A%22%24%7Bid%7D%22%7D%2C%22uniq_id%22%3A%22%24%7Bid%7D_batt%22%2C%22name%22%3A%22battery%22%2C%22dev_cla%22%3A%22voltage%22%2C%22unit_of_meas%22%3A%22V%22%2C%22stat_t%22%3A%22gravmon%2F%24%7Bmdns%7D%2Fbattery%22%7D%7C"},{label:"Brewblox",value:"brewcast%2Fhistory%3A%7B%22key%22%3A%22%24%7Bmdns%7D%22%2C%22data%22%3A%7B%22Temperature%5BdegC%5D%22%3A%20%24%7Btemp-c%7D%2C%22Temperature%5BdegF%5D%22%3A%20%24%7Btemp-f%7D%2C%22Battery%5BV%5D%22%3A%24%7Bbattery%7D%2C%22Tilt%5Bdeg%5D%22%3A%24%7Bangle%7D%2C%22Rssi%5BdBm%5D%22%3A%24%7Brssi%7D%2C%22SG%22%3A%24%7Bgravity-sg%7D%2C%22Plato%22%3A%24%7Bgravity-plato%7D%7D%7D%7C"}]),httpGetUrlOptions=ref([{label:"-blank-",value:""}]);function applyTemplate(t,i,o){let s=o;s=s.replaceAll("${temp}",t.temp);let n=t.temp,r=t.temp;if("C"===i.temp_unit?r=tempToF(t.temp):n=tempToC(t.temp),s=s.replaceAll("${temp-c}",n),s=s.replaceAll("${temp-f}",r),s=s.replaceAll("${angle}",t.angle),s=s.replaceAll("${tilt}",t.angle),s=s.replaceAll("${app-ver}",global$1.app_ver),s=s.replaceAll("${app-build}",global$1.app_build),s=s.replaceAll("${battery-percent}",100),s=s.replaceAll("${rssi}",t.rssi),s=s.replaceAll("${velocity}",-12),s=s.replaceAll("${run-time}",5),s=s.replaceAll("${corr-gravity}",t.gravity),s=s.replaceAll("${battery}",t.battery),"G"===i.gravity_unit){const e=t.gravity;s=s.replaceAll("${gravity}",e),s=s.replaceAll("${gravity-sg}",e),s=s.replaceAll("${corr-gravity-sg}",e);const i=259-(259-e);s=s.replaceAll("${gravity-plato}",i),s=s.replaceAll("${corr-gravity-plato}",i)}else{const e=t.gravity;s=s.replaceAll("${gravity}",e),s=s.replaceAll("${gravity-plato}",e),s=s.replaceAll("${corr-gravity-plato}",e);const i=259/(259-e);s=s.replaceAll("${gravity-sg}",i),s=s.replaceAll("${corr-gravity-sg}",i)}s=s.replaceAll("${mdns}",i.mdns),s=s.replaceAll("${id}",i.id),s=s.replaceAll("${sleep-interval}",i.sleep_interval),s=s.replaceAll("${token}",i.token),s=s.replaceAll("${token2}",i.token2),s=s.replaceAll("${temp-unit}",i.temp_unit),s=s.replaceAll("${gravity-unit}",i.gravity_unit);try{return JSON.stringify(JSON.parse(s),null,2)}catch(e){logError("utils.applyTemplate()","Not a valid json document, returning string")}return s}function isGyroCalibrated(){const e=config.gyro_calibration_data;return e.ax+e.ay+e.az+e.gx+e.gy+e.gz!=0}function deviceBadge(){return deviceSettingBadge()+deviceHardwareBadge()+deviceGyroBadge()+deviceWifiBadge()}function deviceSettingBadge(){return deviceMdnsBadge()}function deviceMdnsBadge(){return""===config.mdns?1:0}function deviceHardwareBadge(){return 0}function deviceGyroBadge(){return deviceGyroCalibratedBadge()+deviceMigrateIspindelBadge()}function deviceMigrateIspindelBadge(){return status.ispindel_config?1:0}function deviceGyroCalibratedBadge(){return status.needsCalibration?isGyroCalibrated()?0:1:0}function deviceWifiBadge(){return deviceWifi1Badge()|deviceWifi2Badge()?1:0}function deviceWifi1Badge(){return""===config.wifi_ssid?1:0}function deviceWifi2Badge(){return""===config.wifi_ssid2&&""===config.wifi_ssid?1:0}function gravityBadge(){return gravitySettingBadge()+gravityFormulaBadge()}function gravitySettingBadge(){return 0}function gravityFormulaBadge(){return""===config.gravity_formula?1:0}function pushBadge(){return pushSettingBadge()+pushHttpPost1Badge()+pushHttpPost2Badge()+pushHttpGetBadge()+pushInfluxdb2Badge()+pushMqttBadge()+pushBluetoothBadge()}function pushTargetCount(){var e=0;return e+=""===config.http_post_target?0:1,e+=""===config.http_post2_target?0:1,e+=""===config.http_get_target?0:1,e+=""===config.influxdb2_target?0:1,e+=""===config.mqtt_target?0:1,(e+=0===config.ble_format?0:1)+(config.use_wifi_direct?1:0)}function pushSettingBadge(){return 0}function pushHttpPost1Badge(){return 0===pushTargetCount()?1:0}function pushHttpPost2Badge(){return 0===pushTargetCount()?1:0}function pushHttpGetBadge(){return 0===pushTargetCount()?1:0}function pushInfluxdb2Badge(){return 0===pushTargetCount()?1:0}function pushMqttBadge(){return 0===pushTargetCount()?1:0}function pushBluetoothBadge(){return 0===pushTargetCount()?1:0}const _hoisted_1$u={class:"container"},_hoisted_2$r={key:1,class:"container overflow-hidden text-center"},_hoisted_3$q={class:"row gy-4"},_hoisted_4$q={key:0,class:"col-md-4"},_hoisted_5$p={class:"text-center"},_hoisted_6$p={key:1,class:"col-md-4"},_hoisted_7$k={class:"text-center"},_hoisted_8$k={key:2,class:"col-md-4"},_hoisted_9$j={class:"text-center"},_hoisted_10$i={key:3,class:"col-md-4"},_hoisted_11$g={class:"text-center"},_hoisted_12$f={key:4,class:"col-md-4"},_hoisted_13$e={class:"text-center"},_hoisted_14$e={key:5,class:"col-md-4"},_hoisted_15$d={class:"text-center"},_hoisted_16$9={key:6,class:"col-md-4"},_hoisted_17$7={key:7,class:"col-md-4"},_hoisted_18$6={class:"text-center"},_hoisted_19$5={key:8,class:"col-md-4"},_hoisted_20$3={class:"col-md-4"},_hoisted_21$3={class:"text-center"},_hoisted_22$3={class:"col-md-4"},_hoisted_23$2={class:"text-center"},_hoisted_24$2={class:"col-md-4"},_hoisted_25$2={class:"text-center"},_hoisted_26$2={key:9,class:"col-md-4"},_hoisted_27$2={class:"text-center"},_hoisted_28$2={class:"col-md-4"},_hoisted_29$1={class:"text-center"},_hoisted_30={class:"col-md-4"},_hoisted_31={class:"text-center"},_hoisted_32={class:"badge bg-secondary"},_hoisted_33={class:"badge bg-secondary"},_hoisted_34={key:10,class:"col-md-4"},_hoisted_35={class:"text-center"},_hoisted_36={class:"badge bg-secondary"},_hoisted_37={class:"badge bg-secondary"},_hoisted_38={class:"col-md-4"},_hoisted_39={class:"text-center"},_hoisted_40={class:"col-md-4"},_hoisted_41={class:"d-flex justify-content-center"},_hoisted_42={class:"form-check form-switch"},_sfc_main$w={__name:"HomeView",setup(e){const{createInterval:t,createTimeout:i}=useTimers(),{managedFetch:o}=useFetch(),s=ref(null),n=ref(!1),r=ref({average:0,sum:0,count:0}),a=ref({new:!1,ver:""});function l(){r.value.sum=0,r.value.count=0,r.value.sum=0}function c(){return __async(this,null,function*(){(yield status.load())&&(status.self_check.gyro_moving||(r.value.sum+=parseFloat(status.angle),r.value.count++,r.value.average=(Math.round(r.value.sum/r.value.count*100)/100).toFixed(2)))})}return watch(n,()=>__async(null,null,function*(){try{yield config.setSleepMode(n.value)}catch(e){logError("HomeView.setSleepMode()",e)}})),onMounted(()=>__async(null,null,function*(){n.value=status.sleep_mode,i(()=>__async(null,null,function*(){try{logInfo("HomeView.onMounted()","Checking for new sw");const e=yield o("https://www.gravitymon.com/firmware/version.json");if(!e)return;const t=yield e.json();logDebug("HomeView.onMounted()",t),function(e){const t=global$1.app_ver,i=e.version.split("."),o=t.split(".");return(3==i.length||3==o.length)&&(i[0]>o[0]||(i[0]==o[0]&&i[1]>o[1]||i[0]==o[0]&&i[1]==o[1]&&i[2]>o[2]))}(t)&&(a.value.new=!0,a.value.ver=t.version,logInfo("HomeView.onMounted()","Newer version found")),logInfo("HomeView.onMounted()","Fetching latest gravtmon version completed")}catch(e){logError("HomeView.onMounted()",e)}}),500)})),onBeforeMount(()=>{c(),s.value=t(c,4e3)}),(e,t)=>{const i=resolveComponent("BsMessage"),o=resolveComponent("BsCard"),s=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$u,[t[16]||(t[16]=createBaseVNode("p",null,null,-1)),unref(status)?(openBlock(),createElementBlock(Fragment,{key:0},[unref(status).self_check.push_targets?createCommentVNode("",!0):(openBlock(),createBlock(i,{key:0,dismissable:"true",message:"",alert:"danger"},{default:withCtx(()=>[...t[1]||(t[1]=[createTextVNode(" No remote services are active. Check your push settings and enable at least one service. ",-1)])]),_:1})),unref(status).self_check.gyro_connected||0!=unref(status).wifi_setup?createCommentVNode("",!0):(openBlock(),createBlock(i,{key:1,dismissable:"true",message:"",alert:"danger"},{default:withCtx(()=>[...t[2]||(t[2]=[createTextVNode(" No gyro is detected. Try to reboot / power-off. If this persists, check for hardware issues. ",-1)])]),_:1}))],64)):createCommentVNode("",!0),unref(status)?(openBlock(),createElementBlock("div",_hoisted_2$r,[createBaseVNode("div",_hoisted_3$q,[unref(status).self_check.gravity_formula&&0==unref(status).wifi_setup&&void 0!==unref(status).gravity?(openBlock(),createElementBlock("div",_hoisted_4$q,[createVNode(o,{header:"Measurement",color:"info",title:"Gravity"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_5$p,toDisplayString(unref(status).gravity)+" "+toDisplayString("G"===unref(status).gravity_unit?" SG":" P"),1)]),_:1})])):createCommentVNode("",!0),unref(status).self_check.gravity_formula||0!=unref(status).wifi_setup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$p,[createVNode(o,{header:"Measurement",title:"Error",iserr:!0,icon:"bi-x-circle"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_7$k,[t[4]||(t[4]=createTextVNode(" Missing ",-1)),createVNode(s,{class:"link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover",to:"/gravity/formula"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode("formula",-1)])]),_:1}),t[5]||(t[5]=createTextVNode(", unable to calculate gravity ",-1))])]),_:1})])),unref(status).self_check.gyro_calibration&&unref(status).self_check.gyro_connected&&0==unref(status).wifi_setup&&void 0!==unref(status).angle?(openBlock(),createElementBlock("div",_hoisted_8$k,[createVNode(o,{header:"Measurement",color:"info",title:"Angle"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_9$j,[unref(status).self_check.gyro_moving?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(" Gyro is moving ")],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(unref(status).angle),1)],64))])]),_:1})])):createCommentVNode("",!0),unref(status).self_check.gyro_calibration&&unref(status).self_check.gyro_connected&&0==unref(status).wifi_setup&&void 0!==unref(status).angle?(openBlock(),createElementBlock("div",_hoisted_10$i,[createVNode(o,{header:"Measurement",color:"info",title:"Average Angle"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_11$g,[createTextVNode(toDisplayString(r.value.average)+" ("+toDisplayString(r.value.count)+") ",1),createBaseVNode("button",{onClick:l,type:"button",class:"btn btn-outline-info btn-sm",style:{"font-size":"0.7rem"}}," Clear ")])]),_:1})])):createCommentVNode("",!0),unref(status).self_check.gyro_calibration||0!=unref(status).wifi_setup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$f,[createVNode(o,{header:"Measurement",title:"Error",iserr:!0,icon:"bi-x-circle"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_13$e,[t[7]||(t[7]=createTextVNode(" Gyro has not been ",-1)),createVNode(s,{class:"link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover",to:"/device/gyro"},{default:withCtx(()=>[...t[6]||(t[6]=[createTextVNode("calibrated",-1)])]),_:1}),t[8]||(t[8]=createTextVNode(" at 90 degrees ",-1))])]),_:1})])),unref(status).self_check.temp_connected&&0==unref(status).wifi_setup&&void 0!==unref(status).temp?(openBlock(),createElementBlock("div",_hoisted_14$e,[createVNode(o,{header:"Measurement",color:"info",title:"Temperature"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_15$d,toDisplayString(unref(status).temp)+" "+toDisplayString(unref(status).temp_unit),1)]),_:1})])):createCommentVNode("",!0),unref(status).self_check.temp_connected||0!=unref(status).wifi_setup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_16$9,[createVNode(o,{header:"Measurement",title:"Error",iserr:!0,icon:"bi-x-circle"},{default:withCtx(()=>[...t[9]||(t[9]=[createBaseVNode("p",{class:"text-center"},"No temperature sensor detected",-1)])]),_:1})])),unref(status).self_check.battery_level&&void 0!==unref(status).battery?(openBlock(),createElementBlock("div",_hoisted_17$7,[createVNode(o,{header:"Measurement",color:"info",title:"Battery"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_18$6,toDisplayString(unref(status).battery)+" V",1)]),_:1})])):createCommentVNode("",!0),unref(status).self_check.battery_level?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_19$5,[createVNode(o,{header:"Measurement",title:"Error",iserr:!0,icon:"bi-x-circle"},{default:withCtx(()=>[...t[10]||(t[10]=[createBaseVNode("p",{class:"text-center"},"Battery level not valid",-1)])]),_:1})])),createBaseVNode("div",_hoisted_20$3,[createVNode(o,{header:"Device",title:"WIFI"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_21$3,toDisplayString(unref(status).rssi)+" dBm - "+toDisplayString(unref(status).wifi_ssid),1)]),_:1})]),createBaseVNode("div",_hoisted_22$3,[createVNode(o,{header:"Device",title:"IP Address"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_23$2,toDisplayString(unref(status).ip),1)]),_:1})]),createBaseVNode("div",_hoisted_24$2,[createVNode(o,{header:"Device",title:"Memory"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_25$2," Free: "+toDisplayString(unref(status).free_heap)+" kb, Total: "+toDisplayString(unref(status).total_heap)+" kb ",1)]),_:1})]),a.value.new?(openBlock(),createElementBlock("div",_hoisted_26$2,[createVNode(o,{header:"Device",title:"Upgrade available"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_27$2,[createTextVNode(toDisplayString(a.value.ver)+" available on ",1),t[11]||(t[11]=createBaseVNode("a",{class:"link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover",href:"https://github.com/mp-se/gravitymon/releases",target:"_blank"},"github.com",-1))])]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_28$2,[createVNode(o,{header:"Device",title:"Software version"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_29$1," Firmware: "+toDisplayString(unref(global$1).app_ver)+" ("+toDisplayString(unref(global$1).app_build)+") UI: "+toDisplayString(unref(global$1).uiVersion)+" ("+toDisplayString(unref(global$1).uiBuild)+") ",1)]),_:1})]),createBaseVNode("div",_hoisted_30,[createVNode(o,{header:"Device",title:"Platform"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_31,[t[12]||(t[12]=createTextVNode(" Platform: ",-1)),createBaseVNode("span",_hoisted_32,toDisplayString(unref(global$1).platform),1),t[13]||(t[13]=createTextVNode(" Variant: ",-1)),createBaseVNode("span",_hoisted_33,toDisplayString(unref(global$1).hardware),1)])]),_:1})]),0==unref(status).wifi_setup?(openBlock(),createElementBlock("div",_hoisted_34,[createVNode(o,{header:"Device",title:"Hardware"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_35,[t[14]||(t[14]=createTextVNode(" Board: ",-1)),createBaseVNode("span",_hoisted_36,toDisplayString(unref(global$1).board),1),t[15]||(t[15]=createTextVNode(" Gyro: ",-1)),createBaseVNode("span",_hoisted_37,toDisplayString(unref(status).gyro_family),1)])]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_38,[createVNode(o,{header:"Device",title:"ID"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_39,toDisplayString(unref(status).id),1)]),_:1})]),createBaseVNode("div",_hoisted_40,[createVNode(o,{header:"Device",title:"Force config mode"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_41,[createBaseVNode("div",_hoisted_42,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:"form-check-input p-2",type:"checkbox",role:"switch",style:{transform:"scale(1.5)","transform-origin":"left center",display:"inline-block"}},null,512),[[vModelCheckbox,n.value]])])])]),_:1})])])])):createCommentVNode("",!0)])}}},_export_sfc=(e,t)=>{const i=e.__vccOpts||e;for(const[o,s]of t)i[o]=s;return i},_sfc_main$v={},_hoisted_1$t={class:"fw-bold"};function _sfc_render$1(e,t){const i=resolveComponent("BsMessage");return openBlock(),createBlock(i,{dismissable:!1,alert:"danger"},{default:withCtx(()=>[t[0]||(t[0]=createTextVNode(" Page not found! ",-1)),createBaseVNode("span",_hoisted_1$t,toDisplayString(this.$route.path),1),t[1]||(t[1]=createTextVNode(" is not a valid URL for this application! ",-1))]),_:1})}const NotFoundView=_export_sfc(_sfc_main$v,[["render",_sfc_render$1]]),_hoisted_1$s={class:"container"},_hoisted_2$q={class:"row"},_hoisted_3$p={class:"col-md-12"},_hoisted_4$p={class:"col-md-4"},_hoisted_5$o={class:"col-md-4"},_hoisted_6$o={class:"col-md-4"},_hoisted_7$j={class:"col-md-9"},_hoisted_8$j={class:"col-md-3"},_hoisted_9$i={class:"col-md-12"},_hoisted_10$h={class:"col-md-12"},_hoisted_11$f=["disabled"],_hoisted_12$e={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_13$d={class:"row gy-2"},_hoisted_14$d={class:"col-md-12"},_hoisted_15$c=["disabled"],_hoisted_16$8={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_17$6=["disabled"],_hoisted_18$5={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_19$4=["disabled"],_hoisted_20$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_21$2=["disabled"],_hoisted_22$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$u={__name:"DeviceSettingsView",setup(e){const t=ref([{label:"-blank-",value:""},{label:"Gravitymon.com",value:"https://www.gravitymon.com/firmware/"}]),i=ref([{label:"Celsius C",value:"C"},{label:"Fahrenheit F",value:"F"}]),o=ref([{label:"Specific Gravity",value:"G"},{label:"Plato",value:"P"}]),s=ref([{label:"Day mode",value:!1},{label:"Dark mode",value:!0}]),n=ref("Unknown"),r=ref(!1),a=e=>{config.ota_url=e},l=()=>__async(null,null,function*(){global$1.clearMessages(),logInfo("DeviceSettingsView.checkReported()","Checking device registration status"),global$1.disabled=!0;try{const e=yield global$1.anonymizeChipId(),t=`${global$1.registerBaseUrl}api/v1/device/check/${e}`,i=yield sharedHttpClient.getJson(t,{headers:{"X-API-Key":`${global$1.registerApiKey}`}});i&&i.exists?n.value=`This device has been reported using ${i.software}.`:n.value="This device has not been reported"}catch(e){logError("DeviceSettingsView.checkReported()","Failed to check registration status:",e),n.value="Error checking registration status"}finally{global$1.disabled=!1}}),c=()=>__async(null,null,function*(){r.value=!0}),d=()=>__async(null,null,function*(){global$1.clearMessages(),logInfo("DeviceSettingsView.factory()","Sending /api/factory"),global$1.disabled=!0;try{const e=yield sharedHttpClient.getJson("api/factory");if(1==e.success){global$1.messageSuccess=e.message;const t=setTimeout(()=>{try{location.reload(!0)}catch(e){logError("DeviceSettingsView.factory.reload()",e),window.location.reload()}},2e3);window.addEventListener("beforeunload",()=>{clearTimeout(t)},{once:!0})}else global$1.messageError=e.message}catch(e){logError("DeviceSettingsView.factory()",e),global$1.messageError="Failed to do factory restore"}finally{global$1.disabled=!1}}),u=()=>__async(null,null,function*(){yield config.restart()}),h=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())}),p=()=>{l(),r.value=!1};return(e,f)=>{const g=resolveComponent("BsMessage"),m=resolveComponent("BsInputText"),_=resolveComponent("BsInputRadio"),b=resolveComponent("BsDropdown"),v=resolveComponent("RegisterDeviceFragment");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$s,[f[19]||(f[19]=createBaseVNode("p",null,null,-1)),f[20]||(f[20]=createBaseVNode("p",{class:"h2"},"Device - Settings",-1)),f[21]||(f[21]=createBaseVNode("hr",null,null,-1)),""===unref(config).mdns?(openBlock(),createBlock(g,{key:0,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...f[6]||(f[6]=[createTextVNode(" You need to define a mdns name for the device ",-1)])]),_:1})):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:withModifiers(h,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$q,[createBaseVNode("div",_hoisted_3$p,[createVNode(m,{modelValue:unref(config).mdns,"onUpdate:modelValue":f[0]||(f[0]=e=>unref(config).mdns=e),maxlength:"63",minlength:"1",label:"MDNS",help:"Enter device name used on the network, the suffix .local will be added to this name",badge:deviceMdnsBadge(),disabled:unref(global$1).disabled},null,8,["modelValue","badge","disabled"])]),f[9]||(f[9]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_4$p,[createVNode(_,{modelValue:unref(config).temp_unit,"onUpdate:modelValue":f[1]||(f[1]=e=>unref(config).temp_unit=e),options:i.value,label:"Temperature Format",width:"",disabled:unref(global$1).disabled},null,8,["modelValue","options","disabled"])]),createBaseVNode("div",_hoisted_5$o,[createVNode(_,{modelValue:unref(config).gravity_unit,"onUpdate:modelValue":f[2]||(f[2]=e=>unref(config).gravity_unit=e),options:o.value,label:"Gravity Format",width:"",disabled:unref(global$1).disabled},null,8,["modelValue","options","disabled"])]),createBaseVNode("div",_hoisted_6$o,[createVNode(_,{modelValue:unref(config).dark_mode,"onUpdate:modelValue":f[3]||(f[3]=e=>unref(config).dark_mode=e),options:s.value,label:"User Interface",width:"",disabled:unref(global$1).disabled},null,8,["modelValue","options","disabled"])]),f[10]||(f[10]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_7$j,[createVNode(m,{modelValue:unref(config).ota_url,"onUpdate:modelValue":f[4]||(f[4]=e=>unref(config).ota_url=e),type:"url",maxlength:"80",label:"OTA URL",help:"Base URL to where firmware and version.json file can be found. Needs to end with '/'', example: http://www.mysite.com/firmware/",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_8$j,[createVNode(b,{label:"Predefined ota",button:"URL",options:t.value,callback:a,disabled:unref(global$1).disabled},null,8,["options","disabled"])]),unref(global$1).ui.enableDeviceRegistration?(openBlock(),createElementBlock(Fragment,{key:0},[f[8]||(f[8]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_9$i,[createVNode(unref(script$o),{modelValue:n.value,"onUpdate:modelValue":f[5]||(f[5]=e=>n.value=e),label:"Device usage reporting"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_10$h,[createBaseVNode("button",{onClick:withModifiers(l,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled||1==unref(status).wifi_setup},[withDirectives(createBaseVNode("span",_hoisted_12$e,null,512),[[vShow,unref(global$1).disabled]]),f[7]||(f[7]=createTextVNode(" Check status ",-1))],8,_hoisted_11$f)])],64)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$d,[f[18]||(f[18]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_14$d,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_16$8,null,512),[[vShow,unref(global$1).disabled]]),f[11]||(f[11]=createTextVNode(" Save",-1))],8,_hoisted_15$c),f[16]||(f[16]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:withModifiers(u,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_18$5,null,512),[[vShow,unref(global$1).disabled]]),f[12]||(f[12]=createTextVNode(" Restart device",-1))],8,_hoisted_17$6),f[17]||(f[17]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:d,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_20$2,null,512),[[vShow,unref(global$1).disabled]]),f[13]||(f[13]=createTextVNode(" Restore factory defaults ",-1))],8,_hoisted_19$4),unref(global$1).ui.enableDeviceRegistration?(openBlock(),createElementBlock(Fragment,{key:0},[f[15]||(f[15]=createTextVNode("  ",-1)),createBaseVNode("button",{onClick:withModifiers(c,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled||1==unref(status).wifi_setup},[withDirectives(createBaseVNode("span",_hoisted_22$2,null,512),[[vShow,unref(global$1).disabled]]),f[14]||(f[14]=createTextVNode(" Report Usage ",-1))],8,_hoisted_21$2)],64)):createCommentVNode("",!0)])])],32)]),r.value?(openBlock(),createBlock(v,{key:0,software:"Gravitymon",onClose:p})):createCommentVNode("",!0)],64)}}},_hoisted_1$r={class:"container"},_hoisted_2$p={class:"row"},_hoisted_3$o={class:"col-md-6"},_hoisted_4$o={class:"col-md-6"},_hoisted_5$n={class:"col-md-6"},_hoisted_6$n={key:0,class:"col-md-6"},_hoisted_7$i={class:"col-md-6"},_hoisted_8$i={class:"col-md-12"},_hoisted_9$h={class:"col-md-6"},_hoisted_10$g={class:"row gy-2"},_hoisted_11$e={class:"col-md-12"},_hoisted_12$d=["disabled"],_hoisted_13$c={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_14$c=["disabled"],_hoisted_15$b={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$t={__name:"DeviceHardwareView",setup(e){const t=ref([{label:"0.5C (93 ms)",value:9},{label:"0.25C (187 ms)",value:10},{label:"0.125C (375 ms)",value:11},{label:"0.0625C (850 ms)",value:12}]),i=computed(()=>config.gyro_temp||global$1.disabled),o=computed(()=>status.battery+" V"),s=()=>__async(null,null,function*(){validateCurrentForm()&&(global$1.clearMessages(),yield config.saveAll())}),n=()=>__async(null,null,function*(){yield config.restart()});return(e,r)=>{const a=resolveComponent("router-link"),l=resolveComponent("BsMessage"),c=resolveComponent("BsInputNumber"),d=resolveComponent("BsInputSwitch"),u=resolveComponent("BsInputRadio");return openBlock(),createElementBlock("div",_hoisted_1$r,[r[15]||(r[15]=createBaseVNode("p",null,null,-1)),r[16]||(r[16]=createBaseVNode("p",{class:"h3"},"Device - Hardware",-1)),r[17]||(r[17]=createBaseVNode("hr",null,null,-1)),createVNode(l,{dismissable:"true",message:"",alert:"info"},{default:withCtx(()=>[r[8]||(r[8]=createTextVNode(" You can also use the voltage factor calculator under tools ",-1)),createVNode(a,{class:"link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover",to:"/other/tools"},{default:withCtx(()=>[...r[7]||(r[7]=[createTextVNode("here",-1)])]),_:1})]),_:1}),createBaseVNode("form",{onSubmit:withModifiers(s,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$p,[createBaseVNode("div",_hoisted_3$o,[createVNode(c,{modelValue:unref(config).voltage_factor,"onUpdate:modelValue":r[0]||(r[0]=e=>unref(config).voltage_factor=e),label:"Voltage factor",min:"0",max:"6",step:".01",width:"4",unit:o.value,help:"Factor used to calculate the battery voltage. Can vary depending on the R2 value (0 to 6)",disabled:unref(global$1).disabled},null,8,["modelValue","unit","disabled"])]),createBaseVNode("div",_hoisted_4$o,[createVNode(c,{modelValue:unref(config).voltage_config,"onUpdate:modelValue":r[1]||(r[1]=e=>unref(config).voltage_config=e),unit:"V",label:"Voltage config",min:"3",max:"6",step:".01",width:"4",help:"Over this level the device will always go into configuration mode, some batteries might have a higher voltage when fully charged (3 to 6)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$n,[createVNode(d,{modelValue:unref(config).storage_sleep,"onUpdate:modelValue":r[2]||(r[2]=e=>unref(config).storage_sleep=e),label:"Storage sleep",help:"If enabled and the device is placed on its cap (less than 5 degress) it will go into sleep for 2000 minutes",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),unref(global$1).isEsp8266?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$n,[createVNode(d,{modelValue:unref(config).charging_pin_enabled,"onUpdate:modelValue":r[3]||(r[3]=e=>unref(config).charging_pin_enabled=e),label:"Charging Pin Mode",help:"If enabled and the device will go into sleep when charging power exceeds 2V on the defined pin and wakeup when power is lost.",disabled:unref(global$1).disabled||!unref(global$1).feature.charging},null,8,["modelValue","disabled"])])),createBaseVNode("div",_hoisted_7$i,[createVNode(d,{modelValue:unref(config).battery_saving,"onUpdate:modelValue":r[4]||(r[4]=e=>unref(config).battery_saving=e),label:"Battery saving",help:"When active, the sleep interval will be changed to 1 hour when battery drops below 20% (3.73V)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),r[9]||(r[9]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_8$i,[createVNode(u,{modelValue:unref(config).tempsensor_resolution,"onUpdate:modelValue":r[5]||(r[5]=e=>unref(config).tempsensor_resolution=e),options:t.value,label:"DS18B20 resolution",help:"Resolution when reading the DS18B20 temperature sensor, higher resolution give better accuracy but takes longer to process and reduces battery life",disabled:i.value},null,8,["modelValue","options","disabled"])]),createBaseVNode("div",_hoisted_9$h,[createVNode(d,{modelValue:unref(config).gyro_temp,"onUpdate:modelValue":r[6]||(r[6]=e=>unref(config).gyro_temp=e),label:"Gyro temperature",help:"Use the temperature sensor in the gyro instead of DS18B20, require a minimum 300s update interval to be accurate or the heat from the chip will affect reading",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_10$g,[r[14]||(r[14]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_11$e,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_13$c,null,512),[[vShow,unref(global$1).disabled]]),r[10]||(r[10]=createTextVNode(" Save",-1))],8,_hoisted_12$d),r[12]||(r[12]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:withModifiers(n,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_15$b,null,512),[[vShow,unref(global$1).disabled]]),r[11]||(r[11]=createTextVNode(" Restart device",-1))],8,_hoisted_14$c),r[13]||(r[13]=createTextVNode(" ",-1))])])],32)])}}},_hoisted_1$q={class:"container"},_hoisted_2$o={class:"row"},_hoisted_3$n={class:"col-md-12"},_hoisted_4$n={class:"col-md-6"},_hoisted_5$m={class:"col-md-6"},_hoisted_6$m={class:"col-md-6"},_hoisted_7$h={class:"row gy-2"},_hoisted_8$h={class:"col-md-12"},_hoisted_9$g=["disabled"],_hoisted_10$f={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_11$d=["disabled"],_hoisted_12$c={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_13$b=["disabled"],_hoisted_14$b={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_15$a={key:0,class:"badge text-bg-danger rounded-circle"},_hoisted_16$7=["disabled"],_hoisted_17$5={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_18$4={key:0,class:"badge text-bg-danger rounded-circle"},_sfc_main$s={__name:"DeviceGyroView",setup(e){const t=ref([{label:"MPU 6050/6500",value:1},{label:"ICM42670-p",value:2}]),i=computed(()=>1==config.gyro_type?JSON.stringify(config.gyro_calibration_data):"Calibration not needed for this gyro"),{gyro_type:o}=storeToRefs(config);watch(o,()=>{1==config.gyro_type&&(config.gyro_swap_xy=!1)});const s=()=>{const e={command:"get",file:"/config.json"};__async(null,null,function*(){global$1.disabled=!0;const t=yield sharedHttpClient.filesystemRequest(e);if(t&&t.success){const e=JSON.parse(t.text);logDebug("DeviceHardwareView.ispindel()",e),config.gyro_calibration_data.ax=e.Offset[0],config.gyro_calibration_data.ay=e.Offset[1],config.gyro_calibration_data.az=e.Offset[2],config.gyro_calibration_data.gx=e.Offset[3],config.gyro_calibration_data.gy=e.Offset[4],config.gyro_calibration_data.gz=e.Offset[5],config.gravity_formula=e.POLY,global$1.messageSuccess="Imported gyro calibration data and formula from old configuration. Please save!"}global$1.disabled=!1})},n=()=>__async(null,null,function*(){global$1.clearMessages(),global$1.disabled=!0;try{logInfo("DeviceHardwareView.calibrate()","Sending /api/calibrate");const e=yield sharedHttpClient.request("api/calibrate");if(!e||!1===e.ok)return global$1.messageError="Failed to start calibration",!1;const t=yield __async(null,null,function*(){for(;;){const e=yield sharedHttpClient.getJson("api/calibrate/status");if(!e)return global$1.messageError="Failed to get calibrate status",!1;if(logInfo("DeviceHardwareView.calibrate()",e),!e.status)return!!e.success||(global$1.messageError="Calibration failed with code ("+(e.message||"unknown")+")",!1);yield new Promise(e=>setTimeout(e,2e3))}});return t&&((yield config.load())?global$1.messageSuccess="Gyro calibrated":global$1.messageError="Failed to load configuration"),t}catch(e){return logError("DeviceHardwareView.calibrate()",e),global$1.messageError="Calibration failed unexpectedly",!1}finally{global$1.disabled=!1}}),r=()=>__async(null,null,function*(){validateCurrentForm()&&(global$1.clearMessages(),yield config.saveAll())}),a=()=>__async(null,null,function*(){yield config.restart()});return(e,o)=>{const l=resolveComponent("BsMessage"),c=resolveComponent("BsInputRadio"),d=resolveComponent("BsInputSwitch"),u=resolveComponent("BsInputReadonly");return openBlock(),createElementBlock("div",_hoisted_1$q,[o[14]||(o[14]=createBaseVNode("p",null,null,-1)),o[15]||(o[15]=createBaseVNode("p",{class:"h3"},"Device - Gyro",-1)),o[16]||(o[16]=createBaseVNode("hr",null,null,-1)),unref(isGyroCalibrated)()||1!=unref(config).gyro_type?createCommentVNode("",!0):(openBlock(),createBlock(l,{key:0,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...o[4]||(o[4]=[createTextVNode(" You need to calibrate the gyro at 90 degrees ",-1)])]),_:1})),createBaseVNode("form",{onSubmit:withModifiers(r,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$o,[createBaseVNode("div",_hoisted_3$n,[createVNode(c,{modelValue:unref(config).gyro_type,"onUpdate:modelValue":o[0]||(o[0]=e=>unref(config).gyro_type=e),options:t.value,label:"Gyro options",help:"Select the gyro type used for this board.",disabled:unref(global$1).disabled},null,8,["modelValue","options","disabled"])]),o[5]||(o[5]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_4$n,[createVNode(d,{modelValue:unref(config).gyro_filter,"onUpdate:modelValue":o[1]||(o[1]=e=>unref(config).gyro_filter=e),label:"Filter gyro data",help:"When active the gyro data will be filtered through a lowpass filter to remove noise ans spikes, applies to ESP32",disabled:unref(global$1).disabled||!unref(global$1).feature.filter},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$m,[createVNode(d,{modelValue:unref(config).gyro_swap_xy,"onUpdate:modelValue":o[2]||(o[2]=e=>unref(config).gyro_swap_xy=e),label:"Swap X and Y axis",disabled:unref(global$1).disabled||2!=unref(config).gyro_type,help:"Normally the X asis is used for tilt but some boards have a different orientation and use Y axis instead, applies to ICM42670-p"},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_6$m,[createVNode(u,{modelValue:i.value,"onUpdate:modelValue":o[3]||(o[3]=e=>i.value=e),label:"Gyro calibration",help:"Shows the current gyro calibraton values, applies to MPU-6050/6500"},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_7$h,[o[13]||(o[13]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_8$h,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_10$f,null,512),[[vShow,unref(global$1).disabled]]),o[6]||(o[6]=createTextVNode(" Save",-1))],8,_hoisted_9$g),o[10]||(o[10]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:withModifiers(a,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_12$c,null,512),[[vShow,unref(global$1).disabled]]),o[7]||(o[7]=createTextVNode(" Restart device",-1))],8,_hoisted_11$d),o[11]||(o[11]=createTextVNode(" ",-1)),withDirectives(createBaseVNode("button",{onClick:n,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled||!unref(status).self_check.gyro_connected||unref(status).wifi_setup||2==unref(config).gyro_type},[withDirectives(createBaseVNode("span",_hoisted_14$b,null,512),[[vShow,unref(global$1).disabled]]),o[8]||(o[8]=createTextVNode(" Calibrate gyro",-1)),deviceGyroCalibratedBadge()?(openBlock(),createElementBlock("span",_hoisted_15$a,"1")):createCommentVNode("",!0)],8,_hoisted_13$b),[[vShow,1==unref(config).gyro_type]]),o[12]||(o[12]=createTextVNode(" ",-1)),unref(status).ispindel_config?(openBlock(),createElementBlock("button",{key:0,onClick:s,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_17$5,null,512),[[vShow,unref(global$1).disabled]]),o[9]||(o[9]=createTextVNode(" Import iSpindel config",-1)),deviceMigrateIspindelBadge()?(openBlock(),createElementBlock("span",_hoisted_18$4,"1")):createCommentVNode("",!0)],8,_hoisted_16$7)):createCommentVNode("",!0)])])],32)])}}},_hoisted_1$p={class:"container"},_hoisted_2$n={class:"row"},_hoisted_3$m={class:"col-md-6"},_hoisted_4$m={class:"col-md-6"},_hoisted_5$l={class:"col-md-6"},_hoisted_6$l={class:"col-md-6"},_hoisted_7$g={class:"col-md-6"},_hoisted_8$g={class:"col-md-6"},_hoisted_9$f={key:0,class:"col-md-6"},_hoisted_10$e={class:"row gy-2"},_hoisted_11$c={class:"col-md-12"},_hoisted_12$b=["disabled"],_hoisted_13$a={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_14$a=["disabled"],_hoisted_15$9={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$r={__name:"DeviceWifiView",setup(e){const t=ref(!1),i=ref([]);function o(e,t,i){var o=e;return i&&(o+=" "),o+(t>-50?" (Excellent)":t>-60?" (Good)":t>-67?" (Minimum)":" (Poor)")}onMounted(()=>__async(null,null,function*(){t.value=!0;const e=yield config.runWifiScan();if(e&&e.success){const t=e.data;for(var s in i.value=[{label:"-blank-",value:"",rssi:0,encryption:0,channel:0}],t.networks){var n=t.networks[s],r={label:o(n.wifi_ssid,n.rssi,n.encryption),value:n.wifi_ssid,rssi:n.rssi,encryption:t.networks[s].encryption,channel:n.channel},a=i.value.filter(e=>e.value===n.wifi_ssid);logDebug("DeviceWifiView.onMounted()","result:",a,n.wifi_ssid),0===a.length&&i.value.push(r)}}t.value=!1}));const s=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll(),global$1.messageInfo="If WIFI settings are changed, restart the device and enter the new URL of the device!")}),n=()=>__async(null,null,function*(){yield config.restart()});return(e,o)=>{const r=resolveComponent("BsMessage"),a=resolveComponent("router-link"),l=resolveComponent("BsSelect"),c=resolveComponent("BsInputText"),d=resolveComponent("BsInputNumber"),u=resolveComponent("BsInputSwitch");return openBlock(),createElementBlock("div",_hoisted_1$p,[o[15]||(o[15]=createBaseVNode("p",null,null,-1)),o[16]||(o[16]=createBaseVNode("p",{class:"h3"},"Device - WIFI",-1)),o[17]||(o[17]=createBaseVNode("hr",null,null,-1)),t.value?(openBlock(),createBlock(r,{key:0,dismissable:!1,message:"Scanning for wifi networks in range",alert:"info"})):createCommentVNode("",!0),unref(global$1).ui.enableManualWifiEntry&&!t.value?(openBlock(),createBlock(r,{key:1,dismissable:"true",message:"",alert:"info"},{default:withCtx(()=>[o[8]||(o[8]=createTextVNode(" If you have an hidden SSID then you can set it manually ",-1)),createVNode(a,{class:"link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover",to:"/device/wifi2"},{default:withCtx(()=>[...o[7]||(o[7]=[createTextVNode("here",-1)])]),_:1})]),_:1})):createCommentVNode("",!0),""===unref(config).wifi_ssid&&""===unref(config).wifi_ssid2?(openBlock(),createBlock(r,{key:2,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...o[9]||(o[9]=[createTextVNode(" You need to define at least one wifi network ",-1)])]),_:1})):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:withModifiers(s,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$n,[createBaseVNode("div",_hoisted_3$m,[createVNode(l,{modelValue:unref(config).wifi_ssid,"onUpdate:modelValue":o[0]||(o[0]=e=>unref(config).wifi_ssid=e),label:"SSID #1",options:i.value,badge:deviceWifi1Badge(),disabled:unref(global$1).disabled},null,8,["modelValue","options","badge","disabled"])]),createBaseVNode("div",_hoisted_4$m,[createVNode(c,{modelValue:unref(config).wifi_pass,"onUpdate:modelValue":o[1]||(o[1]=e=>unref(config).wifi_pass=e),type:"password",maxlength:"50",label:"Password #1",help:"Enter password for the first wifi network",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$l,[createVNode(l,{modelValue:unref(config).wifi_ssid2,"onUpdate:modelValue":o[2]||(o[2]=e=>unref(config).wifi_ssid2=e),label:"SSID #2",options:i.value,badge:deviceWifi2Badge(),disabled:unref(global$1).disabled},null,8,["modelValue","options","badge","disabled"])]),createBaseVNode("div",_hoisted_6$l,[createVNode(c,{modelValue:unref(config).wifi_pass2,"onUpdate:modelValue":o[3]||(o[3]=e=>unref(config).wifi_pass2=e),type:"password",maxlength:"50",label:"Password #2",help:"Enter password for the first wifi network",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),o[10]||(o[10]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_7$g,[createVNode(d,{modelValue:unref(config).wifi_portal_timeout,"onUpdate:modelValue":o[4]||(o[4]=e=>unref(config).wifi_portal_timeout=e),unit:"seconds",label:"Portal timeout",min:"10",max:"240",step:"1",width:"5",help:"Max time the wifi portal is idle (10 to 240)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_8$g,[createVNode(d,{modelValue:unref(config).wifi_connect_timeout,"onUpdate:modelValue":o[5]||(o[5]=e=>unref(config).wifi_connect_timeout=e),unit:"seconds",label:"Connection timeout",min:"1",max:"60",step:"1",width:"5",help:"Max time waiting for a wifi connection (1 to 60)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),unref(global$1).ui.enableScanForStrongestAp?(openBlock(),createElementBlock("div",_hoisted_9$f,[createVNode(u,{modelValue:unref(config).wifi_scan_ap,"onUpdate:modelValue":o[6]||(o[6]=e=>unref(config).wifi_scan_ap=e),label:"Scan for strongest AP",help:"Will do a scan and connect to the strongest AP found (longer connection time)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$e,[o[14]||(o[14]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_11$c,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_13$a,null,512),[[vShow,unref(global$1).disabled]]),o[11]||(o[11]=createTextVNode(" Save",-1))],8,_hoisted_12$b),o[13]||(o[13]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:withModifiers(n,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_15$9,null,512),[[vShow,unref(global$1).disabled]]),o[12]||(o[12]=createTextVNode(" Restart device ",-1))],8,_hoisted_14$a)])])],32)])}}},_hoisted_1$o={class:"container"},_hoisted_2$m={class:"row"},_hoisted_3$l={class:"col-md-6"},_hoisted_4$l={class:"col-md-6"},_hoisted_5$k={class:"col-md-6"},_hoisted_6$k={class:"col-md-6"},_hoisted_7$f={class:"col-md-6"},_hoisted_8$f={class:"col-md-6"},_hoisted_9$e={key:0,class:"col-md-6"},_hoisted_10$d={class:"row gy-2"},_hoisted_11$b={class:"col-md-12"},_hoisted_12$a=["disabled"],_hoisted_13$9={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_14$9=["disabled"],_hoisted_15$8={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$q={__name:"DeviceWifi2View",setup(e){const t=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll(),global$1.messageInfo="If WIFI settings are changed, restart the device and enter the new URL of the device!")}),i=()=>__async(null,null,function*(){yield config.restart()});return(e,o)=>{const s=resolveComponent("BsMessage"),n=resolveComponent("BsInputText"),r=resolveComponent("BsInputNumber"),a=resolveComponent("BsInputSwitch");return openBlock(),createElementBlock("div",_hoisted_1$o,[o[13]||(o[13]=createBaseVNode("p",null,null,-1)),o[14]||(o[14]=createBaseVNode("p",{class:"h3"},"Device - WIFI (Manual)",-1)),o[15]||(o[15]=createBaseVNode("hr",null,null,-1)),""===unref(config).wifi_ssid&&""===unref(config).wifi_ssid2?(openBlock(),createBlock(s,{key:0,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...o[7]||(o[7]=[createTextVNode(" You need to define at least one wifi network ",-1)])]),_:1})):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:withModifiers(t,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$m,[createBaseVNode("div",_hoisted_3$l,[createVNode(n,{modelValue:unref(config).wifi_ssid,"onUpdate:modelValue":o[0]||(o[0]=e=>unref(config).wifi_ssid=e),label:"SSID #1",maxlength:"30",badge:deviceWifi1Badge(),disabled:unref(global$1).disabled},null,8,["modelValue","badge","disabled"])]),createBaseVNode("div",_hoisted_4$l,[createVNode(n,{modelValue:unref(config).wifi_pass,"onUpdate:modelValue":o[1]||(o[1]=e=>unref(config).wifi_pass=e),type:"password",maxlength:"50",label:"Password #1",help:"Enter password for the first wifi network",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$k,[createVNode(n,{modelValue:unref(config).wifi_ssid2,"onUpdate:modelValue":o[2]||(o[2]=e=>unref(config).wifi_ssid2=e),label:"SSID #2",maxlength:"30",badge:deviceWifi2Badge(),disabled:unref(global$1).disabled},null,8,["modelValue","badge","disabled"])]),createBaseVNode("div",_hoisted_6$k,[createVNode(n,{modelValue:unref(config).wifi_pass2,"onUpdate:modelValue":o[3]||(o[3]=e=>unref(config).wifi_pass2=e),type:"password",maxlength:"50",label:"Password #2",help:"Enter password for the first wifi network",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),o[8]||(o[8]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_7$f,[createVNode(r,{modelValue:unref(config).wifi_portal_timeout,"onUpdate:modelValue":o[4]||(o[4]=e=>unref(config).wifi_portal_timeout=e),unit:"seconds",label:"Portal timeout",min:"10",max:"240",step:"1",width:"5",help:"Max time the wifi portal is idle (10 to 240)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_8$f,[createVNode(r,{modelValue:unref(config).wifi_connect_timeout,"onUpdate:modelValue":o[5]||(o[5]=e=>unref(config).wifi_connect_timeout=e),unit:"seconds",label:"Connection timeout",min:"1",max:"60",step:"1",width:"5",help:"Max time waiting for a wifi connection (1 to 60)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),unref(global$1).ui.enableScanForStrongestAp?(openBlock(),createElementBlock("div",_hoisted_9$e,[createVNode(a,{modelValue:unref(config).wifi_scan_ap,"onUpdate:modelValue":o[6]||(o[6]=e=>unref(config).wifi_scan_ap=e),label:"Scan for strongest AP",help:"Will do a scan and connect to the strongest AP found (longer connection time)",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$d,[o[12]||(o[12]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_11$b,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_13$9,null,512),[[vShow,unref(global$1).disabled]]),o[9]||(o[9]=createTextVNode(" Save",-1))],8,_hoisted_12$a),o[11]||(o[11]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:withModifiers(i,["prevent"]),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_15$8,null,512),[[vShow,unref(global$1).disabled]]),o[10]||(o[10]=createTextVNode(" Restart device ",-1))],8,_hoisted_14$9)])])],32)])}}},_hoisted_1$n={class:"container"},_hoisted_2$l={class:"row"},_hoisted_3$k={class:"col-md-6"},_hoisted_4$k={class:"col-md-6"},_hoisted_5$j={class:"col-md-6"},_hoisted_6$j={class:"col-md-6"},_hoisted_7$e={class:"col-md-6"},_hoisted_8$e={class:"row gy-2"},_hoisted_9$d={class:"col-md-3"},_hoisted_10$c=["disabled"],_hoisted_11$a={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$p={__name:"GravitySettingsView",setup(e){const t=computed(()=>!config.gravity_temp_adjustment||global$1.disabled),i=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())});return(e,o)=>{const s=resolveComponent("BsInputSwitch"),n=resolveComponent("BsInputNumber");return openBlock(),createElementBlock("div",_hoisted_1$n,[o[7]||(o[7]=createBaseVNode("p",null,null,-1)),o[8]||(o[8]=createBaseVNode("p",{class:"h2"},"Gravity - Settings",-1)),o[9]||(o[9]=createBaseVNode("hr",null,null,-1)),createBaseVNode("form",{onSubmit:withModifiers(i,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$k,[createVNode(s,{modelValue:unref(config).gravity_temp_adjustment,"onUpdate:modelValue":o[0]||(o[0]=e=>unref(config).gravity_temp_adjustment=e),label:"Temperature adjust gravity",help:"Adjust the calculated gravity based on the current temperature. Assumes that calibration is done using 20C / 68F",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_4$k,[createVNode(n,{modelValue:unref(config).formula_calibration_temp,"onUpdate:modelValue":o[1]||(o[1]=e=>unref(config).formula_calibration_temp=e),unit:""+unref(config).temp_unit,label:"Gravity calibration temp",min:"0",max:"100",step:".01",width:"4",help:"Calibration temperature, used in temperatur correction formula, default 20C/68F",disabled:t.value},null,8,["modelValue","unit","disabled"])]),createBaseVNode("div",_hoisted_5$j,[createVNode(s,{modelValue:unref(config).ignore_low_angles,"onUpdate:modelValue":o[2]||(o[2]=e=>unref(config).ignore_low_angles=e),label:"Ignore low angles",help:"When active, angles below water will be ignored. Note! Angle must be defined under calibration, first field.",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_6$j,[createVNode(n,{modelValue:unref(config).gyro_read_count,"onUpdate:modelValue":o[3]||(o[3]=e=>unref(config).gyro_read_count=e),label:"Gyro reads",min:"10",max:"100",width:"4",help:"How many times should we read the gyro to get an accurate angle. More reads = better accuracy but higher battery drain",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_7$e,[createVNode(n,{modelValue:unref(config).gyro_moving_threashold,"onUpdate:modelValue":o[4]||(o[4]=e=>unref(config).gyro_moving_threashold=e),label:"Gyro moving threashold",min:"50",max:"1000",width:"4",help:"How much deviation between gyro reads are acceptable in order to regard this as a valid angle",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_8$e,[o[6]||(o[6]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_9$d,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_11$a,null,512),[[vShow,unref(global$1).disabled]]),o[5]||(o[5]=createTextVNode(" Save ",-1))],8,_hoisted_10$c)])])],32)])}}};function applyValuesToFormula(e,t){let i=t.toFixed(3),o=e;return o=o.replaceAll("tilt^3",i+"*"+i+"*"+i),o=o.replaceAll("tilt^2",i+"*"+i),o=o.replaceAll("tilt",i),o}function calculate(formula,tilt){if(""!=formula){let f=applyValuesToFormula(formula,tilt);try{let g=eval(f);return"P"===config.gravity_unit?gravityToPlato(g):g}catch(err){logError("formula.evaluateFormula()",err)}}return NaN}function evaluateFormula(e){var t=[];for(let o=25;o<80;o+=5){var i=calculate(e,o);t.push({x:parseFloat(o),y:parseFloat(i)})}return t}function validateFormula(formula){var result=!0;return config.formula_calculation_data.forEach(d=>{let f=applyValuesToFormula(formula,d.a);try{let g=eval(f);"P"===config.gravity_unit&&(g=gravityToPlato(g)),Math.abs(g-d.g)>config.formula_max_deviation&&(logDebug("formula.validateFormula()","Formula rejected due to high deviation",d.g,g),result=!1)}catch(e){logDebug("formula.validateFormula()","Failed to evalutate formula",formula)}}),result}function round(e){return e+.5|0}const lim=(e,t,i)=>Math.max(Math.min(e,i),t);function p2b(e){return lim(round(2.55*e),0,255)}function n2b(e){return lim(round(255*e),0,255)}function b2n(e){return lim(round(e/2.55)/100,0,1)}function n2p(e){return lim(round(100*e),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=e=>hex[15&e],h2=e=>hex[(240&e)>>4]+hex[15&e],eq=e=>(240&e)>>4==(15&e),isShort=e=>eq(e.r)&&eq(e.g)&&eq(e.b)&&eq(e.a);function hexParse(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*map$1[e[1]],g:255&17*map$1[e[2]],b:255&17*map$1[e[3]],a:5===i?17*map$1[e[4]]:255}:7!==i&&9!==i||(t={r:map$1[e[1]]<<4|map$1[e[2]],g:map$1[e[3]]<<4|map$1[e[4]],b:map$1[e[5]]<<4|map$1[e[6]],a:9===i?map$1[e[7]]<<4|map$1[e[8]]:255})),t}const alpha=(e,t)=>e<255?t(e):"";function hexString(e){var t=isShort(e)?h1:h2;return e?"#"+t(e.r)+t(e.g)+t(e.b)+alpha(e.a,t):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(e,t,i){const o=t*Math.min(i,1-i),s=(t,s=(t+e/30)%12)=>i-o*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function hsv2rgbn(e,t,i){const o=(o,s=(o+e/60)%6)=>i-i*t*Math.max(Math.min(s,4-s,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(e,t,i){const o=hsl2rgbn(e,1,.5);let s;for(t+i>1&&(s=1/(t+i),t*=s,i*=s),s=0;s<3;s++)o[s]*=1-t-i,o[s]+=t;return o}function hueValue(e,t,i,o,s){return e===s?(t-i)/o+(t<i?6:0):t===s?(i-e)/o+2:(e-t)/o+4}function rgb2hsl(e){const t=e.r/255,i=e.g/255,o=e.b/255,s=Math.max(t,i,o),n=Math.min(t,i,o),r=(s+n)/2;let a,l,c;return s!==n&&(c=s-n,l=r>.5?c/(2-s-n):c/(s+n),a=hueValue(t,i,o,c,s),a=60*a+.5),[0|a,l||0,r]}function calln(e,t,i,o){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,o)).map(n2b)}function hsl2rgb(e,t,i){return calln(hsl2rgbn,e,t,i)}function hwb2rgb(e,t,i){return calln(hwb2rgbn,e,t,i)}function hsv2rgb(e,t,i){return calln(hsv2rgbn,e,t,i)}function hue(e){return(e%360+360)%360}function hueParse(e){const t=HUE_RE.exec(e);let i,o=255;if(!t)return;t[5]!==i&&(o=t[6]?p2b(+t[5]):n2b(+t[5]));const s=hue(+t[2]),n=+t[3]/100,r=+t[4]/100;return i="hwb"===t[1]?hwb2rgb(s,n,r):"hsv"===t[1]?hsv2rgb(s,n,r):hsl2rgb(s,n,r),{r:i[0],g:i[1],b:i[2],a:o}}function rotate(e,t){var i=rgb2hsl(e);i[0]=hue(i[0]+t),i=hsl2rgb(i),e.r=i[0],e.g=i[1],e.b=i[2]}function hslString(e){if(!e)return;const t=rgb2hsl(e),i=t[0],o=n2p(t[1]),s=n2p(t[2]);return e.a<255?`hsla(${i}, ${o}%, ${s}%, ${b2n(e.a)})`:`hsl(${i}, ${o}%, ${s}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const e={},t=Object.keys(names$1),i=Object.keys(map$2);let o,s,n,r,a;for(o=0;o<t.length;o++){for(r=a=t[o],s=0;s<i.length;s++)n=i[s],a=a.replace(n,map$2[n]);n=parseInt(names$1[r],16),e[a]=[n>>16&255,n>>8&255,255&n]}return e}let names;function nameParse(e){names||(names=unpack(),names.transparent=[0,0,0,0]);const t=names[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(e){const t=RGB_RE.exec(e);let i,o,s,n=255;if(t){if(t[7]!==i){const e=+t[7];n=t[8]?p2b(e):lim(255*e,0,255)}return i=+t[1],o=+t[3],s=+t[5],i=255&(t[2]?p2b(i):lim(i,0,255)),o=255&(t[4]?p2b(o):lim(o,0,255)),s=255&(t[6]?p2b(s):lim(s,0,255)),{r:i,g:o,b:s,a:n}}}function rgbString(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${b2n(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const to=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,from=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function interpolate$1(e,t,i){const o=from(b2n(e.r)),s=from(b2n(e.g)),n=from(b2n(e.b));return{r:n2b(to(o+i*(from(b2n(t.r))-o))),g:n2b(to(s+i*(from(b2n(t.g))-s))),b:n2b(to(n+i*(from(b2n(t.b))-n))),a:e.a+i*(t.a-e.a)}}function modHSL(e,t,i){if(e){let o=rgb2hsl(e);o[t]=Math.max(0,Math.min(o[t]+o[t]*i,0===t?360:1)),o=hsl2rgb(o),e.r=o[0],e.g=o[1],e.b=o[2]}}function clone$1(e,t){return e?Object.assign(t||{},e):e}function fromObject(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=n2b(e[3]))):(t=clone$1(e,{r:0,g:0,b:0,a:1})).a=n2b(t.a),t}function functionParse(e){return"r"===e.charAt(0)?rgbParse(e):hueParse(e)}class Color{constructor(e){if(e instanceof Color)return e;const t=typeof e;let i;"object"===t?i=fromObject(e):"string"===t&&(i=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,o=e.rgb;let s;const n=t===s?.5:t,r=2*n-1,a=i.a-o.a,l=((r*a===-1?r:(r+a)/(1+r*a))+1)/2;s=1-l,i.r=255&l*i.r+s*o.r+.5,i.g=255&l*i.g+s*o.g+.5,i.b=255&l*i.b+s*o.b+.5,i.a=n*i.a+(1-n)*o.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,t)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=round(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}function noop(){}const uid=(()=>{let e=0;return()=>e++})();function isNullOrUndef(e){return null==e}function isArray(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function isObject(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function isNumberFinite(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function finiteOrDefault(e,t){return isNumberFinite(e)?e:t}function valueOrDefault(e,t){return void 0===e?t:e}const toPercentage=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,toDimension=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function callback(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function each(e,t,i,o){let s,n,r;if(isArray(e))for(n=e.length,s=0;s<n;s++)t.call(i,e[s],s);else if(isObject(e))for(r=Object.keys(e),n=r.length,s=0;s<n;s++)t.call(i,e[r[s]],r[s])}function _elementsEqual(e,t){let i,o,s,n;if(!e||!t||e.length!==t.length)return!1;for(i=0,o=e.length;i<o;++i)if(s=e[i],n=t[i],s.datasetIndex!==n.datasetIndex||s.index!==n.index)return!1;return!0}function clone(e){if(isArray(e))return e.map(clone);if(isObject(e)){const t=Object.create(null),i=Object.keys(e),o=i.length;let s=0;for(;s<o;++s)t[i[s]]=clone(e[i[s]]);return t}return e}function isValidKey(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function _merger(e,t,i,o){if(!isValidKey(e))return;const s=t[e],n=i[e];isObject(s)&&isObject(n)?merge(s,n,o):t[e]=clone(n)}function merge(e,t,i){const o=isArray(t)?t:[t],s=o.length;if(!isObject(e))return e;const n=(i=i||{}).merger||_merger;let r;for(let a=0;a<s;++a){if(r=o[a],!isObject(r))continue;const t=Object.keys(r);for(let o=0,s=t.length;o<s;++o)n(t[o],e,r,i)}return e}function mergeIf(e,t){return merge(e,t,{merger:_mergerIf})}function _mergerIf(e,t,i){if(!isValidKey(e))return;const o=t[e],s=i[e];isObject(o)&&isObject(s)?mergeIf(o,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=clone(s))}const keyResolvers={"":e=>e,x:e=>e.x,y:e=>e.y};function _splitKey(e){const t=e.split("."),i=[];let o="";for(const s of t)o+=s,o.endsWith("\\")?o=o.slice(0,-1)+".":(i.push(o),o="");return i}function _getKeyResolver(e){const t=_splitKey(e);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}function resolveObjectKey(e,t){return(keyResolvers[t]||(keyResolvers[t]=_getKeyResolver(t)))(e)}function _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}const defined=e=>void 0!==e,isFunction=e=>"function"==typeof e,setsEqual=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function _isClickEvent(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=2*PI/3,log10=Math.log10,sign=Math.sign;function almostEquals(e,t,i){return Math.abs(e-t)<i}function niceNum(e){const t=Math.round(e);e=almostEquals(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(log10(e))),o=e/i;return(o<=1?1:o<=2?2:o<=5?5:10)*i}function _factorize(e){const t=[],i=Math.sqrt(e);let o;for(o=1;o<i;o++)e%o===0&&(t.push(o),t.push(e/o));return i===(0|i)&&t.push(i),t.sort((e,t)=>e-t).pop(),t}function isNonPrimitive(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function isNumber(e){return!isNonPrimitive(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function almostWhole(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function _setMinAndMaxByKey(e,t,i){let o,s,n;for(o=0,s=e.length;o<s;o++)n=e[o][i],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function toRadians(e){return e*(PI/180)}function toDegrees(e){return e*(180/PI)}function _decimalPlaces(e){if(!isNumberFinite(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function getAngleFromPoint(e,t){const i=t.x-e.x,o=t.y-e.y,s=Math.sqrt(i*i+o*o);let n=Math.atan2(o,i);return n<-.5*PI&&(n+=TAU),{angle:n,distance:s}}function distanceBetweenPoints(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _angleDiff(e,t){return(e-t+PITAU)%TAU-PI}function _normalizeAngle(e){return(e%TAU+TAU)%TAU}function _angleBetween(e,t,i,o){const s=_normalizeAngle(e),n=_normalizeAngle(t),r=_normalizeAngle(i),a=_normalizeAngle(n-s),l=_normalizeAngle(r-s),c=_normalizeAngle(s-n),d=_normalizeAngle(s-r);return s===n||s===r||o&&n===r||a>l&&c<d}function _limitValue(e,t,i){return Math.max(t,Math.min(i,e))}function _int16Range(e){return _limitValue(e,-32768,32767)}function _isBetween(e,t,i,o=1e-6){return e>=Math.min(t,i)-o&&e<=Math.max(t,i)+o}function _lookup(e,t,i){i=i||(i=>e[i]<t);let o,s=e.length-1,n=0;for(;s-n>1;)o=n+s>>1,i(o)?n=o:s=o;return{lo:n,hi:s}}const _lookupByKey=(e,t,i,o)=>_lookup(e,i,o?o=>{const s=e[o][t];return s<i||s===i&&e[o+1][t]===i}:o=>e[o][t]<i),_rlookupByKey=(e,t,i)=>_lookup(e,i,o=>e[o][t]>=i);function _filterBetween(e,t,i){let o=0,s=e.length;for(;o<s&&e[o]<t;)o++;for(;s>o&&e[s-1]>i;)s--;return o>0||s<e.length?e.slice(o,s):e}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(e,t){if(e._chartjs)return e._chartjs.listeners.push(t),void 0;Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),arrayEvents.forEach(t=>{const i="_onData"+_capitalize(t),o=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const s=o.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[i]&&e[i](...t)}),s}})})}function unlistenArrayEvents(e,t){const i=e._chartjs;if(!i)return;const o=i.listeners,s=o.indexOf(t);-1!==s&&o.splice(s,1),o.length>0||(arrayEvents.forEach(t=>{delete e[t]}),delete e._chartjs)}function _arrayUnique(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const requestAnimFrame="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function throttled(e,t){let i=[],o=!1;return function(...s){i=s,o||(o=!0,requestAnimFrame.call(window,()=>{o=!1,e.apply(t,i)}))}}function debounce(e,t){let i;return function(...o){return t?(clearTimeout(i),i=setTimeout(e,t,o)):e.apply(this,o),t}}const _toLeftRightCenter=e=>"start"===e?"left":"end"===e?"right":"center",_alignStartEnd=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2,_textX=(e,t,i,o)=>e===(o?"left":"right")?i:"center"===e?(t+i)/2:t;function _getStartAndCountOfVisiblePoints(e,t,i){const o=t.length;let s=0,n=o;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:u,max:h,minDefined:p,maxDefined:f}=r.getUserBounds();if(p){if(s=Math.min(_lookupByKey(l,d,u).lo,i?o:_lookupByKey(t,d,r.getPixelForValue(u)).lo),c){const e=l.slice(0,s+1).reverse().findIndex(e=>!isNullOrUndef(e[a.axis]));s-=Math.max(0,e)}s=_limitValue(s,0,o-1)}if(f){let e=Math.max(_lookupByKey(l,r.axis,h,!0).hi+1,i?0:_lookupByKey(t,d,r.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!isNullOrUndef(e[a.axis]));e+=Math.max(0,t)}n=_limitValue(e,s,o)-s}else n=o-s}return{start:s,count:n}}function _scaleRangesChanged(e){const{xScale:t,yScale:i,_scaleRanges:o}=e,s={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!o)return e._scaleRanges=s,!0;const n=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==i.min||o.ymax!==i.max;return Object.assign(o,s),n}const atEdge=e=>0===e||1===e,elasticIn=(e,t,i)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*TAU/i),elasticOut=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*TAU/i)+1,effects={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*HALF_PI),easeOutSine:e=>Math.sin(e*HALF_PI),easeInOutSine:e=>-.5*(Math.cos(PI*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>atEdge(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>atEdge(e)?e:elasticIn(e,.075,.3),easeOutElastic:e=>atEdge(e)?e:elasticOut(e,.075,.3),easeInOutElastic(e){const t=.1125;return atEdge(e)?e:e<.5?.5*elasticIn(2*e,t,.45):.5+.5*elasticOut(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-effects.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},easeInOutBounce:e=>e<.5?.5*effects.easeInBounce(2*e):.5*effects.easeOutBounce(2*e-1)+.5};function isPatternOrGradient(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function color(e){return isPatternOrGradient(e)?e:new Color(e)}function getHoverColor(e){return isPatternOrGradient(e)?e:new Color(e).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})}function applyLayoutsDefaults(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(e,t){t=t||{};const i=e+JSON.stringify(t);let o=intlCache.get(i);return o||(o=new Intl.NumberFormat(e,t),intlCache.set(i,o)),o}function formatNumber(e,t,i){return getNumberFormat(t,i).format(e)}const formatters={values:e=>isArray(e)?e:""+e,numeric(e,t,i){if(0===e)return"0";const o=this.chart.options.locale;let s,n=e;if(i.length>1){const t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),n=calculateDelta(e,i)}const r=log10(Math.abs(n)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),formatNumber(e,o,l)},logarithmic(e,t,i){if(0===e)return"0";const o=i[t].significand||e/Math.pow(10,Math.floor(log10(e)));return[1,2,3,5,10,15].includes(o)||t>.8*i.length?formatters.numeric.call(this,e,t,i):""}};function calculateDelta(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var Ticks={formatters:formatters};function applyScaleDefaults(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(e,t){if(!t)return e;const i=t.split(".");for(let o=0,s=i.length;o<s;++o){const t=i[o];e=e[t]||(e[t]=Object.create(null))}return e}function set(e,t,i){return"string"==typeof t?merge(getScope$1(e,t),i):merge(getScope$1(e,""),t)}class Defaults{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>getHoverColor(t.backgroundColor),this.hoverBorderColor=(e,t)=>getHoverColor(t.borderColor),this.hoverColor=(e,t)=>getHoverColor(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return set(this,e,t)}get(e){return getScope$1(this,e)}describe(e,t){return set(descriptors,e,t)}override(e,t){return set(overrides,e,t)}route(e,t,i,o){const s=getScope$1(this,e),n=getScope$1(this,i),r="_"+t;Object.defineProperties(s,{[r]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=n[o];return isObject(e)?Object.assign({},t,e):valueOrDefault(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach(e=>e(this))}}var defaults=new Defaults({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(e){return!e||isNullOrUndef(e.size)||isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function _measureText(e,t,i,o,s){let n=t[s];return n||(n=t[s]=e.measureText(s).width,i.push(s)),n>o&&(o=n),o}function _longestText(e,t,i,o){let s=(o=o||{}).data=o.data||{},n=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(s=o.data={},n=o.garbageCollect=[],o.font=t),e.save(),e.font=t;let r=0;const a=i.length;let l,c,d,u,h;for(l=0;l<a;l++)if(u=i[l],null==u||isArray(u)){if(isArray(u))for(c=0,d=u.length;c<d;c++)h=u[c],null==h||isArray(h)||(r=_measureText(e,s,n,r,h))}else r=_measureText(e,s,n,r,u);e.restore();const p=n.length/2;if(p>i.length){for(l=0;l<p;l++)delete s[n[l]];n.splice(0,p)}return r}function _alignPixel(e,t,i){const o=e.currentDevicePixelRatio,s=0!==i?Math.max(i/2,.5):0;return Math.round((t-s)*o)/o+s}function clearCanvas(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function drawPoint(e,t,i,o){drawPointLegend(e,t,i,o,null)}function drawPointLegend(e,t,i,o,s){let n,r,a,l,c,d,u,h;const p=t.pointStyle,f=t.rotation,g=t.radius;let m=(f||0)*RAD_PER_DEG;if(p&&"object"==typeof p&&(n=p.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return e.save(),e.translate(i,o),e.rotate(m),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore(),void 0;if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(i,o,s/2,g,0,0,TAU):e.arc(i,o,g,0,TAU),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(i+Math.sin(m)*d,o-Math.cos(m)*g),m+=TWO_THIRDS_PI,e.lineTo(i+Math.sin(m)*d,o-Math.cos(m)*g),m+=TWO_THIRDS_PI,e.lineTo(i+Math.sin(m)*d,o-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,r=Math.cos(m+QUARTER_PI)*l,u=Math.cos(m+QUARTER_PI)*(s?s/2-c:l),a=Math.sin(m+QUARTER_PI)*l,h=Math.sin(m+QUARTER_PI)*(s?s/2-c:l),e.arc(i-u,o-a,c,m-PI,m-HALF_PI),e.arc(i+h,o-r,c,m-HALF_PI,m),e.arc(i+u,o+a,c,m,m+HALF_PI),e.arc(i-h,o+r,c,m+HALF_PI,m+PI),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,d=s?s/2:l,e.rect(i-d,o-l,2*d,2*l);break}m+=QUARTER_PI;case"rectRot":u=Math.cos(m)*(s?s/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(s?s/2:g),e.moveTo(i-u,o-a),e.lineTo(i+h,o-r),e.lineTo(i+u,o+a),e.lineTo(i-h,o+r),e.closePath();break;case"crossRot":m+=QUARTER_PI;case"cross":u=Math.cos(m)*(s?s/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(s?s/2:g),e.moveTo(i-u,o-a),e.lineTo(i+u,o+a),e.moveTo(i+h,o-r),e.lineTo(i-h,o+r);break;case"star":u=Math.cos(m)*(s?s/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(s?s/2:g),e.moveTo(i-u,o-a),e.lineTo(i+u,o+a),e.moveTo(i+h,o-r),e.lineTo(i-h,o+r),m+=QUARTER_PI,u=Math.cos(m)*(s?s/2:g),r=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(s?s/2:g),e.moveTo(i-u,o-a),e.lineTo(i+u,o+a),e.moveTo(i+h,o-r),e.lineTo(i-h,o+r);break;case"line":r=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(i-r,o-a),e.lineTo(i+r,o+a);break;case"dash":e.moveTo(i,o),e.lineTo(i+Math.cos(m)*(s?s/2:g),o+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function _isPointInArea(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function clipArea(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function unclipArea(e){e.restore()}function _steppedLineTo(e,t,i,o,s){if(!t)return e.lineTo(i.x,i.y);if("middle"===s){const o=(t.x+i.x)/2;e.lineTo(o,t.y),e.lineTo(o,i.y)}else"after"===s!=!!o?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function _bezierCurveTo(e,t,i,o){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?i.cp2x:i.cp1x,o?i.cp2y:i.cp1y,i.x,i.y)}function setRenderOpts(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),isNullOrUndef(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function decorateText(e,t,i,o,s){if(s.strikethrough||s.underline){const n=e.measureText(o),r=t-n.actualBoundingBoxLeft,a=t+n.actualBoundingBoxRight,l=i-n.actualBoundingBoxAscent,c=i+n.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,d),e.lineTo(a,d),e.stroke()}}function drawBackdrop(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function renderText(e,t,i,o,s,n={}){const r=isArray(t)?t:[t],a=n.strokeWidth>0&&""!==n.strokeColor;let l,c;for(e.save(),e.font=s.string,setRenderOpts(e,n),l=0;l<r.length;++l)c=r[l],n.backdrop&&drawBackdrop(e,n.backdrop),a&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),isNullOrUndef(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(c,i,o,n.maxWidth)),e.fillText(c,i,o,n.maxWidth),decorateText(e,i,o,c,n),o+=Number(s.lineHeight);e.restore()}function addRoundedRectPath(e,t){const{x:i,y:o,w:s,h:n,radius:r}=t;e.arc(i+r.topLeft,o+r.topLeft,r.topLeft,1.5*PI,PI,!0),e.lineTo(i,o+n-r.bottomLeft),e.arc(i+r.bottomLeft,o+n-r.bottomLeft,r.bottomLeft,PI,HALF_PI,!0),e.lineTo(i+s-r.bottomRight,o+n),e.arc(i+s-r.bottomRight,o+n-r.bottomRight,r.bottomRight,HALF_PI,0,!0),e.lineTo(i+s,o+r.topRight),e.arc(i+s-r.topRight,o+r.topRight,r.topRight,0,-HALF_PI,!0),e.lineTo(i+r.topLeft,o)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(e,t){const i=(""+e).match(LINE_HEIGHT);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}const numberOrZero=e=>+e||0;function _readValueToProps(e,t){const i={},o=isObject(t),s=o?Object.keys(t):t,n=isObject(e)?o?i=>valueOrDefault(e[i],e[t[i]]):t=>e[t]:()=>e;for(const r of s)i[r]=numberOrZero(n(r));return i}function toTRBL(e){return _readValueToProps(e,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(e){return _readValueToProps(e,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(e){const t=toTRBL(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function toFont(e,t){e=e||{},t=t||defaults.font;let i=valueOrDefault(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let o=valueOrDefault(e.style,t.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const s={family:valueOrDefault(e.family,t.family),lineHeight:toLineHeight(valueOrDefault(e.lineHeight,t.lineHeight),i),size:i,style:o,weight:valueOrDefault(e.weight,t.weight),string:""};return s.string=toFontString(s),s}function resolve(e,t,i,o){let s,n,r;for(s=0,n=e.length;s<n;++s)if(r=e[s],void 0!==r&&void 0!==r)return r}function _addGrace(e,t,i){const{min:o,max:s}=e,n=toDimension(t,(s-o)/2),r=(e,t)=>i&&0===e?0:e+t;return{min:r(o,-Math.abs(n)),max:r(s,n)}}function createContext(e,t){return Object.assign(Object.create(e),t)}function _createResolver(e,t=[""],i,o,s=()=>e[0]){const n=i||e;void 0===o&&(o=_resolve("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:o,_getTarget:s,override:i=>_createResolver([i,...e],t,n,o)};return new Proxy(r,{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,o)=>_cached(i,o,()=>_resolveWithPrefixes(o,t,e,i)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>getKeysFromAllScopes(e).includes(t),ownKeys:e=>getKeysFromAllScopes(e),set(e,t,i){const o=e._storage||(e._storage=s());return e[t]=o[t]=i,delete e._keys,!0}})}function _attachContext(e,t,i,o){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:_descriptors(e,o),setContext:t=>_attachContext(e,t,i,o),override:s=>_attachContext(e.override(s),t,i,o)};return new Proxy(s,{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>_cached(e,t,()=>_resolveWithContext(e,t,i)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,o)=>(e[i]=o,delete t[i],!0)})}function _descriptors(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:o=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:o,isScriptable:isFunction(i)?i:()=>i,isIndexable:isFunction(o)?o:()=>o}}const readKey=(e,t)=>e?e+_capitalize(t):t,needsSubResolver=(e,t)=>isObject(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function _cached(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const o=i();return e[t]=o,o}function _resolveWithContext(e,t,i){const{_proxy:o,_context:s,_subProxy:n,_descriptors:r}=e;let a=o[t];return isFunction(a)&&r.isScriptable(t)&&(a=_resolveScriptable(t,a,e,i)),isArray(a)&&a.length&&(a=_resolveArray(t,a,e,r.isIndexable)),needsSubResolver(t,a)&&(a=_attachContext(a,s,n&&n[t],r)),a}function _resolveScriptable(e,t,i,o){const{_proxy:s,_context:n,_subProxy:r,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(n,r||o);return a.delete(e),needsSubResolver(e,l)&&(l=createSubResolver(s._scopes,s,e,l)),l}function _resolveArray(e,t,i,o){const{_proxy:s,_context:n,_subProxy:r,_descriptors:a}=i;if(void 0!==n.index&&o(e))return t[n.index%t.length];if(isObject(t[0])){const i=t,o=s._scopes.filter(e=>e!==i);t=[];for(const l of i){const i=createSubResolver(o,s,e,l);t.push(_attachContext(i,n,r&&r[e],a))}}return t}function resolveFallback(e,t,i){return isFunction(e)?e(t,i):e}const getScope=(e,t)=>!0===e?t:"string"==typeof e?resolveObjectKey(t,e):void 0;function addScopes(e,t,i,o,s){for(const n of t){const t=getScope(i,n);if(t){e.add(t);const n=resolveFallback(t._fallback,i,s);if(void 0!==n&&n!==i&&n!==o)return n}else if(!1===t&&void 0!==o&&i!==o)return null}return!1}function createSubResolver(e,t,i,o){const s=t._rootScopes,n=resolveFallback(t._fallback,i,o),r=[...e,...s],a=new Set;a.add(o);let l=addScopesFromKey(a,r,i,n||i,o);return null!==l&&(void 0===n||n===i||(l=addScopesFromKey(a,r,n,l,o),null!==l))&&_createResolver(Array.from(a),[""],s,n,()=>subGetTarget(t,i,o))}function addScopesFromKey(e,t,i,o,s){for(;i;)i=addScopes(e,t,i,o,s);return i}function subGetTarget(e,t,i){const o=e._getTarget();t in o||(o[t]={});const s=o[t];return isArray(s)&&isObject(i)?i:s||{}}function _resolveWithPrefixes(e,t,i,o){let s;for(const n of t)if(s=_resolve(readKey(n,e),i),void 0!==s)return needsSubResolver(e,s)?createSubResolver(i,o,e,s):s}function _resolve(e,t){for(const i of t){if(!i)continue;const t=i[e];if(void 0!==t)return t}}function getKeysFromAllScopes(e){let t=e._keys;return t||(t=e._keys=resolveKeysFromAllScopes(e._scopes)),t}function resolveKeysFromAllScopes(e){const t=new Set;for(const i of e)for(const e of Object.keys(i).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}function _parseObjectDataRadialScale(e,t,i,o){const{iScale:s}=e,{key:n="r"}=this._parsing,r=new Array(o);let a,l,c,d;for(a=0,l=o;a<l;++a)c=a+i,d=t[c],r[a]={r:s.parse(resolveObjectKey(d,n),c)};return r}const EPSILON=Number.EPSILON||1e-14,getPoint=(e,t)=>t<e.length&&!e[t].skip&&e[t],getValueAxis=e=>"x"===e?"y":"x";function splineCurve(e,t,i,o){const s=e.skip?t:e,n=t,r=i.skip?t:i,a=distanceBetweenPoints(n,s),l=distanceBetweenPoints(r,n);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=o*c,h=o*d;return{previous:{x:n.x-u*(r.x-s.x),y:n.y-u*(r.y-s.y)},next:{x:n.x+h*(r.x-s.x),y:n.y+h*(r.y-s.y)}}}function monotoneAdjust(e,t,i){const o=e.length;let s,n,r,a,l,c=getPoint(e,0);for(let d=0;d<o-1;++d)l=c,c=getPoint(e,d+1),l&&c&&(almostEquals(t[d],0,EPSILON)?i[d]=i[d+1]=0:(s=i[d]/t[d],n=i[d+1]/t[d],a=Math.pow(s,2)+Math.pow(n,2),a<=9||(r=3/Math.sqrt(a),i[d]=s*r*t[d],i[d+1]=n*r*t[d])))}function monotoneCompute(e,t,i="x"){const o=getValueAxis(i),s=e.length;let n,r,a,l=getPoint(e,0);for(let c=0;c<s;++c){if(r=a,a=l,l=getPoint(e,c+1),!a)continue;const s=a[i],d=a[o];r&&(n=(s-r[i])/3,a[`cp1${i}`]=s-n,a[`cp1${o}`]=d-n*t[c]),l&&(n=(l[i]-s)/3,a[`cp2${i}`]=s+n,a[`cp2${o}`]=d+n*t[c])}}function splineCurveMonotone(e,t="x"){const i=getValueAxis(t),o=e.length,s=Array(o).fill(0),n=Array(o);let r,a,l,c=getPoint(e,0);for(r=0;r<o;++r)if(a=l,l=c,c=getPoint(e,r+1),l){if(c){const e=c[t]-l[t];s[r]=0!==e?(c[i]-l[i])/e:0}n[r]=a?c?sign(s[r-1])!==sign(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}monotoneAdjust(e,s,n),monotoneCompute(e,n,t)}function capControlPoint(e,t,i){return Math.max(Math.min(e,i),t)}function capBezierPoints(e,t){let i,o,s,n,r,a=_isPointInArea(e[0],t);for(i=0,o=e.length;i<o;++i)r=n,n=a,a=i<o-1&&_isPointInArea(e[i+1],t),n&&(s=e[i],r&&(s.cp1x=capControlPoint(s.cp1x,t.left,t.right),s.cp1y=capControlPoint(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=capControlPoint(s.cp2x,t.left,t.right),s.cp2y=capControlPoint(s.cp2y,t.top,t.bottom)))}function _updateBezierControlPoints(e,t,i,o,s){let n,r,a,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)splineCurveMonotone(e,s);else{let i=o?e[e.length-1]:e[0];for(n=0,r=e.length;n<r;++n)a=e[n],l=splineCurve(i,a,e[Math.min(n+1,r-(o?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,i=a}t.capBezierPoints&&capBezierPoints(e,i)}function _isDomSupported(){return"undefined"!=typeof window&&"undefined"!=typeof document}function _getParentNode(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function parseMaxStyle(e,t,i){let o;return"string"==typeof e?(o=parseInt(e,10),-1!==e.indexOf("%")&&(o=o/100*t.parentNode[i])):o=e,o}const getComputedStyle$1=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function getStyle(e,t){return getComputedStyle$1(e).getPropertyValue(t)}const positions=["top","right","bottom","left"];function getPositionedStyle(e,t,i){const o={};i=i?"-"+i:"";for(let s=0;s<4;s++){const n=positions[s];o[n]=parseFloat(e[t+"-"+n+i])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function getCanvasPosition(e,t){const i=e.touches,o=i&&i.length?i[0]:e,{offsetX:s,offsetY:n}=o;let r,a,l=!1;if(useOffsetPos(s,n,e.target))r=s,a=n;else{const e=t.getBoundingClientRect();r=o.clientX-e.left,a=o.clientY-e.top,l=!0}return{x:r,y:a,box:l}}function getRelativePosition(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:o}=t,s=getComputedStyle$1(i),n="border-box"===s.boxSizing,r=getPositionedStyle(s,"padding"),a=getPositionedStyle(s,"border","width"),{x:l,y:c,box:d}=getCanvasPosition(e,i),u=r.left+(d&&a.left),h=r.top+(d&&a.top);let{width:p,height:f}=t;return n&&(p-=r.width+a.width,f-=r.height+a.height),{x:Math.round((l-u)/p*i.width/o),y:Math.round((c-h)/f*i.height/o)}}function getContainerSize(e,t,i){let o,s;if(void 0===t||void 0===i){const n=e&&_getParentNode(e);if(n){const e=n.getBoundingClientRect(),r=getComputedStyle$1(n),a=getPositionedStyle(r,"border","width"),l=getPositionedStyle(r,"padding");t=e.width-l.width-a.width,i=e.height-l.height-a.height,o=parseMaxStyle(r.maxWidth,n,"clientWidth"),s=parseMaxStyle(r.maxHeight,n,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:o||INFINITY,maxHeight:s||INFINITY}}const round1=e=>Math.round(10*e)/10;function getMaximumSize(e,t,i,o){const s=getComputedStyle$1(e),n=getPositionedStyle(s,"margin"),r=parseMaxStyle(s.maxWidth,e,"clientWidth")||INFINITY,a=parseMaxStyle(s.maxHeight,e,"clientHeight")||INFINITY,l=getContainerSize(e,t,i);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=getPositionedStyle(s,"border","width"),t=getPositionedStyle(s,"padding");c-=t.width+e.width,d-=t.height+e.height}return c=Math.max(0,c-n.width),d=Math.max(0,o?c/o:d-n.height),c=round1(Math.min(c,r,l.maxWidth)),d=round1(Math.min(d,a,l.maxHeight)),c&&!d&&(d=round1(c/2)),(void 0!==t||void 0!==i)&&o&&l.height&&d>l.height&&(d=l.height,c=round1(Math.floor(d*o))),{width:c,height:d}}function retinaScale(e,t,i){const o=t||1,s=round1(e.height*o),n=round1(e.width*o);e.height=round1(e.height),e.width=round1(e.width);const r=e.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==o||r.height!==s||r.width!==n)&&(e.currentDevicePixelRatio=o,r.height=s,r.width=n,e.ctx.setTransform(o,0,0,o,0,0),!0)}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function readUsedSize(e,t){const i=getStyle(e,t),o=i&&i.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(e,t,i,o){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function _steppedInterpolation(e,t,i,o){return{x:e.x+i*(t.x-e.x),y:"middle"===o?i<.5?e.y:t.y:"after"===o?i<1?e.y:t.y:i>0?t.y:e.y}}function _bezierInterpolation(e,t,i,o){const s={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},r=_pointInLine(e,s,i),a=_pointInLine(s,n,i),l=_pointInLine(n,t,i),c=_pointInLine(r,a,i),d=_pointInLine(a,l,i);return _pointInLine(c,d,i)}const getRightToLeftAdapter=function(e,t){return{x:i=>e+e+t-i,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}},getLeftToRightAdapter=function(){return{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}};function getRtlAdapter(e,t,i){return e?getRightToLeftAdapter(t,i):getLeftToRightAdapter()}function overrideTextDirection(e,t){let i,o;"ltr"!==t&&"rtl"!==t||(i=e.canvas.style,o=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=o)}function restoreTextDirection(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function propertyFn(e){return"angle"===e?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,t)=>e-t,normalize:e=>e}}function normalizeSegment({start:e,end:t,count:i,loop:o,style:s}){return{start:e%i,end:t%i,loop:o&&(t-e+1)%i==0,style:s}}function getSegment(e,t,i){const{property:o,start:s,end:n}=i,{between:r,normalize:a}=propertyFn(o),l=t.length;let c,d,{start:u,end:h,loop:p}=e;if(p){for(u+=l,h+=l,c=0,d=l;c<d&&r(a(t[u%l][o]),s,n);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:p,style:e.style}}function _boundSegment(e,t,i){if(!i)return[e];const{property:o,start:s,end:n}=i,r=t.length,{compare:a,between:l,normalize:c}=propertyFn(o),{start:d,end:u,loop:h,style:p}=getSegment(e,t,i),f=[];let g,m,_,b=!1,v=null;const y=()=>b||l(s,_,g)&&0!==a(s,_),w=()=>!b||0===a(n,g)||l(n,_,g);for(let x=d,S=d;x<=u;++x)m=t[x%r],m.skip||(g=c(m[o]),g!==_&&(b=l(g,s,n),null===v&&y()&&(v=0===a(g,s)?x:S),null!==v&&w()&&(f.push(normalizeSegment({start:v,end:x,loop:h,count:r,style:p})),v=null),S=x,_=g));return null!==v&&f.push(normalizeSegment({start:v,end:u,loop:h,count:r,style:p})),f}function _boundSegments(e,t){const i=[],o=e.segments;for(let s=0;s<o.length;s++){const n=_boundSegment(o[s],e.points,t);n.length&&i.push(...n)}return i}function findStartAndEnd(e,t,i,o){let s=0,n=t-1;if(i&&!o)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,i&&(n+=s);n>s&&e[n%t].skip;)n--;return n%=t,{start:s,end:n}}function solidSegments(e,t,i,o){const s=e.length,n=[];let r,a=t,l=e[t];for(r=t+1;r<=i;++r){const i=e[r%s];i.skip||i.stop?l.skip||(o=!1,n.push({start:t%s,end:(r-1)%s,loop:o}),t=a=i.stop?r:null):(a=r,l.skip&&(t=r)),l=i}return null!==a&&n.push({start:t%s,end:a%s,loop:o}),n}function _computeSegments(e,t){const i=e.points,o=e.options.spanGaps,s=i.length;if(!s)return[];const n=!!e._loop,{start:r,end:a}=findStartAndEnd(i,s,n,o);return splitByStyles(e,!0===o?[{start:r,end:a,loop:n}]:solidSegments(i,r,a<r?a+s:a,!!e._fullLoop&&0===r&&a===s-1),i,t)}function splitByStyles(e,t,i,o){return o&&o.setContext&&i?doSplitByStyles(e,t,i,o):t}function doSplitByStyles(e,t,i,o){const s=e._chart.getContext(),n=readStyle(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=i.length,c=[];let d=n,u=t[0].start,h=u;function p(e,t,o,s){const n=a?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=n;for(;i[t%l].skip;)t+=n;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:o,style:s}),d=s,u=t%l)}}for(const f of t){u=a?u:f.start;let e,t=i[u%l];for(h=u+1;h<=f.end;h++){const n=i[h%l];e=readStyle(o.setContext(createContext(s,{type:"segment",p0:t,p1:n,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),styleChanged(e,d)&&p(u,h-1,f.loop,d),t=n,d=e}u<h-1&&p(u,h-1,f.loop,d)}return c}function readStyle(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function styleChanged(e,t){if(!t)return!1;const i=[],o=function(e,t){return isPatternOrGradient(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,o)!==JSON.stringify(t,o)}function getSizeForArea(e,t,i){return e.options.clip?e[i]:t[i]}function getDatasetArea(e,t){const{xScale:i,yScale:o}=e;return i&&o?{left:getSizeForArea(i,t,"left"),right:getSizeForArea(i,t,"right"),top:getSizeForArea(o,t,"top"),bottom:getSizeForArea(o,t,"bottom")}:t}function getDatasetClipArea(e,t){const i=t._clip;if(i.disabled)return!1;const o=getDatasetArea(t,e.chartArea);return{left:!1===i.left?0:o.left-(!0===i.left?0:i.left),right:!1===i.right?e.width:o.right+(!0===i.right?0:i.right),top:!1===i.top?0:o.top-(!0===i.top?0:i.top),bottom:!1===i.bottom?e.height:o.bottom+(!0===i.bottom?0:i.bottom)}}class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,o){const s=t.listeners[o],n=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:n,currentStep:Math.min(i-t.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const s=i.items;let n,r=s.length-1,a=!1;for(;r>=0;--r)n=s[r],n._active?(n._total>i.duration&&(i.duration=n._total),n.tick(e),a=!0):(s[r]=s[s.length-1],s.pop());a&&(o.draw(),this._notify(o,i,e,"progress")),s.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){const o=color(e||transparent),s=o.valid&&color(t||transparent);return s&&s.valid?s.mix(o,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class Animation{constructor(e,t,i,o){const s=t[i];o=resolve([e.to,o,s,e.from]);const n=resolve([e.from,s,o]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof n],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=n,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const o=this._target[this._prop],s=i-this._start,n=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(n,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=resolve([e.to,t,o,e.from]),this._from=resolve([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,o=this._prop,s=this._from,n=this._loop,r=this._to;let a;return this._active=s!==r&&(n||t<i),this._active?t<0?(this._target[o]=s,void 0):(a=t/i%2,a=n&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[o]=this._fn(s,r,a),void 0):(this._target[o]=r,this._notify(!0),void 0)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][t]()}}class Animations{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!isObject(e))return;const t=Object.keys(defaults.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const s=e[o];if(!isObject(s))return;const n={};for(const e of t)n[e]=s[e];(isArray(s.properties)&&s.properties||[o]).forEach(e=>{e!==o&&i.has(e)||i.set(e,n)})})}_animateOptions(e,t){const i=t.options,o=resolveTargetOptions(e,i);if(!o)return[];const s=this._createAnimations(o,i);return i.$shared&&awaitAll(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,o=[],s=e.$animations||(e.$animations={}),n=Object.keys(t),r=Date.now();let a;for(a=n.length-1;a>=0;--a){const l=n[a];if("$"===l.charAt(0))continue;if("options"===l){o.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const u=i.get(l);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(s[l]=d=new Animation(u,e,l,c),o.push(d)):e[l]=c}return o}update(e,t){if(0===this._properties.size)return Object.assign(e,t),void 0;const i=this._createAnimations(e,t);return i.length?(animator.add(this._chart,i),!0):void 0}}function awaitAll(e,t){const i=[],o=Object.keys(t);for(let s=0;s<o.length;s++){const t=e[o[s]];t&&t.active()&&i.push(t.wait())}return Promise.all(i)}function resolveTargetOptions(e,t){if(!t)return;let i=e.options;return i?(i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i):(e.options=t,void 0)}function scaleClip(e,t){const i=e&&e.options||{},o=i.reverse,s=void 0===i.min?t:0,n=void 0===i.max?t:0;return{start:o?n:s,end:o?s:n}}function defaultClip(e,t,i){if(!1===i)return!1;const o=scaleClip(e,i),s=scaleClip(t,i);return{top:s.end,right:o.end,bottom:s.start,left:o.start}}function toClip(e){let t,i,o,s;return isObject(e)?(t=e.top,i=e.right,o=e.bottom,s=e.left):t=i=o=s=e,{top:t,right:i,bottom:o,left:s,disabled:!1===e}}function getSortedDatasetIndices(e,t){const i=[],o=e._getSortedDatasetMetas(t);let s,n;for(s=0,n=o.length;s<n;++s)i.push(o[s].index);return i}function applyStack(e,t,i,o={}){const s=e.keys,n="single"===o.mode;let r,a,l,c;if(null===t)return;let d=!1;for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===i){if(d=!0,o.all)continue;break}c=e.values[l],isNumberFinite(c)&&(n||0===t||sign(t)===sign(c))&&(t+=c)}return d||o.all?t:0}function convertObjectDataToArray(e,t){const{iScale:i,vScale:o}=t,s="x"===i.axis?"x":"y",n="x"===o.axis?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],a[l]={[s]:d,[n]:e[d]};return a}function isStacked(e,t){const i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function getStackKey(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function getUserBounds(e){const{min:t,max:i,minDefined:o,maxDefined:s}=e.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}function getOrCreateStack(e,t,i){const o=e[t]||(e[t]={});return o[i]||(o[i]={})}function getLastIndexInStack(e,t,i,o){for(const s of t.getMatchingVisibleMetas(o).reverse()){const t=e[s.index];if(i&&t>0||!i&&t<0)return s.index}return null}function updateStacks(e,t){const{chart:i,_cachedMeta:o}=e,s=i._stacks||(i._stacks={}),{iScale:n,vScale:r,index:a}=o,l=n.axis,c=r.axis,d=getStackKey(n,r,o),u=t.length;let h;for(let p=0;p<u;++p){const e=t[p],{[l]:i,[c]:n}=e;h=(e._stacks||(e._stacks={}))[c]=getOrCreateStack(s,d,i),h[a]=n,h._top=getLastIndexInStack(h,r,!0,o.type),h._bottom=getLastIndexInStack(h,r,!1,o.type),(h._visualValues||(h._visualValues={}))[a]=n}}function getFirstScaleId(e,t){const i=e.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function createDatasetContext(e,t){return createContext(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(e,t,i){return createContext(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function clearStacks(e,t){const i=e.controller.index,o=e.vScale&&e.vScale.axis;if(o){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[o]||void 0===t[o][i])return;delete t[o][i],void 0!==t[o]._visualValues&&void 0!==t[o]._visualValues[i]&&delete t[o]._visualValues[i]}}}const isDirectUpdateMode=e=>"reset"===e||"none"===e,cloneIfNotShared=(e,t)=>t?e:Object.assign({},e),createStack=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:getSortedDatasetIndices(i,!0),values:null};class DatasetController{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),o=(e,t,i,o)=>"x"===e?t:"r"===e?o:i,s=t.xAxisID=valueOrDefault(i.xAxisID,getFirstScaleId(e,"x")),n=t.yAxisID=valueOrDefault(i.yAxisID,getFirstScaleId(e,"y")),r=t.rAxisID=valueOrDefault(i.rAxisID,getFirstScaleId(e,"r")),a=t.indexAxis,l=t.iAxisID=o(a,s,n,r),c=t.vAxisID=o(a,n,s,r);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(n),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(isObject(t)){const e=this._cachedMeta;this._data=convertObjectDataToArray(t,e)}else if(i!==t){if(i){unlistenArrayEvents(i,this);const e=this._cachedMeta;clearStacks(e),e._parsed=[]}t&&Object.isExtensible(t)&&listenArrayEvents(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const s=t._stacked;t._stacked=isStacked(t.vScale,t),t.stack!==i.stack&&(o=!0,clearStacks(t),t.stack=i.stack),this._resyncElements(e),(o||s!==t._stacked)&&(updateStacks(this,t._parsed),t._stacked=isStacked(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:n}=i,r=s.axis;let a,l,c,d=0===e&&t===o.length||i._sorted,u=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=o,i._sorted=!0,c=o;else{c=isArray(o[e])?this.parseArrayData(i,o,e,t):isObject(o[e])?this.parseObjectData(i,o,e,t):this.parsePrimitiveData(i,o,e,t);const s=()=>null===l[r]||u&&l[r]<u[r];for(a=0;a<t;++a)i._parsed[a+e]=l=c[a],d&&(s()&&(d=!1),u=l);i._sorted=d}n&&updateStacks(this,c)}parsePrimitiveData(e,t,i,o){const{iScale:s,vScale:n}=e,r=s.axis,a=n.axis,l=s.getLabels(),c=s===n,d=new Array(o);let u,h,p;for(u=0,h=o;u<h;++u)p=u+i,d[u]={[r]:c||s.parse(l[p],p),[a]:n.parse(t[p],p)};return d}parseArrayData(e,t,i,o){const{xScale:s,yScale:n}=e,r=new Array(o);let a,l,c,d;for(a=0,l=o;a<l;++a)c=a+i,d=t[c],r[a]={x:s.parse(d[0],c),y:n.parse(d[1],c)};return r}parseObjectData(e,t,i,o){const{xScale:s,yScale:n}=e,{xAxisKey:r="x",yAxisKey:a="y"}=this._parsing,l=new Array(o);let c,d,u,h;for(c=0,d=o;c<d;++c)u=c+i,h=t[u],l[c]={x:s.parse(resolveObjectKey(h,r),u),y:n.parse(resolveObjectKey(h,a),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const o=this.chart,s=this._cachedMeta,n=t[e.axis];return applyStack({keys:getSortedDatasetIndices(o,!0),values:t._stacks[e.axis]._visualValues},n,s.index,{mode:i})}updateRangeFromParsed(e,t,i,o){const s=i[t.axis];let n=null===s?NaN:s;const r=o&&i._stacks[t.axis];o&&r&&(o.values=r,n=applyStack(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,n),e.max=Math.max(e.max,n)}getMinMax(e,t){const i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,n=o.length,r=this._getOtherScale(e),a=createStack(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=getUserBounds(r);let u,h;function p(){h=o[u];const t=h[r.axis];return!isNumberFinite(h[e.axis])||c>t||d<t}for(u=0;u<n&&(p()||(this.updateRangeFromParsed(l,e,h,a),!s));++u);if(s)for(u=n-1;u>=0;--u)if(!p()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let o,s,n;for(o=0,s=t.length;o<s;++o)n=t[o][e.axis],isNumberFinite(n)&&i.push(n);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,o=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=toClip(valueOrDefault(this.options.clip,defaultClip(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,o=i.data||[],s=t.chartArea,n=[],r=this._drawStart||0,a=this._drawCount||o.length-r,l=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,s,r,a),c=r;c<r+a;++c){const t=o[c];t.hidden||(t.active&&l?n.push(t):t.draw(e,s))}for(c=0;c<n.length;++c)n[c].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=createDataContext(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const o="active"===t,s=this._cachedDataOpts,n=e+"-"+t,r=s[n],a=this.enableOptionSharing&&defined(i);if(r)return cloneIfNotShared(r,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=o?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(defaults.elements[e]),p=l.resolveNamedOptions(u,h,()=>this.getContext(i,o,t),d);return p.$shared&&(p.$shared=a,s[n]=Object.freeze(cloneIfNotShared(p,a))),p}_resolveAnimations(e,t,i){const o=this.chart,s=this._cachedDataOpts,n=`animation-${t}`,r=s[n];if(r)return r;let a;if(!1!==o.options.animation){const o=this.chart.config,s=o.datasetAnimationScopeKeys(this._type,t),n=o.getOptionScopes(this.getDataset(),s);a=o.createResolver(n,this.getContext(e,i,t))}const l=new Animations(o,a&&a.animations);return a&&a._cacheable&&(s[n]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),o=this._sharedOptions,s=this.getSharedOptions(i),n=this.includeOptions(t,s)||s!==o;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:n}}updateElement(e,t,i,o){isDirectUpdateMode(o)?Object.assign(e,i):this._resolveAnimations(t,o).update(e,i)}updateSharedOptions(e,t,i){e&&!isDirectUpdateMode(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,o){e.active=o;const s=this.getStyle(t,o);this._resolveAnimations(t,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[r,a,l]of this._syncList)this[r](a,l);this._syncList=[];const o=i.length,s=t.length,n=Math.min(s,o);n&&this.parse(0,n),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,t,i=!0){const o=this._cachedMeta,s=o.data,n=e+t;let r;const a=e=>{for(e.length+=t,r=e.length-1;r>=n;r--)e[r]=e[r-t]};for(a(s),r=e;r<n;++r)s[r]=new this.dataElementType;this._parsing&&a(o._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,o){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,t);i._stacked&&clearStacks(i,o)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,o]=e;this[t](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let o=[];for(let t=0,s=i.length;t<s;t++)o=o.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=_arrayUnique(o.sort((e,t)=>e-t))}return e._cache.$bar}function computeMinSampleSize(e){const t=e.iScale,i=getAllScaleValues(t,e.type);let o,s,n,r,a=t._length;const l=()=>{32767!==n&&-32768!==n&&(defined(r)&&(a=Math.min(a,Math.abs(n-r)||a)),r=n)};for(o=0,s=i.length;o<s;++o)n=t.getPixelForValue(i[o]),l();for(r=void 0,o=0,s=t.ticks.length;o<s;++o)n=t.getPixelForTick(o),l();return a}function computeFitCategoryTraits(e,t,i,o){const s=i.barThickness;let n,r;return isNullOrUndef(s)?(n=t.min*i.categoryPercentage,r=i.barPercentage):(n=s*o,r=1),{chunk:n/o,ratio:r,start:t.pixels[e]-n/2}}function computeFlexCategoryTraits(e,t,i,o){const s=t.pixels,n=s[e];let r=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=i.categoryPercentage;null===r&&(r=n-(null===a?t.end-t.start:a-n)),null===a&&(a=n+n-r);const c=n-(n-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/o,ratio:i.barPercentage,start:c}}function parseFloatBar(e,t,i,o){const s=i.parse(e[0],o),n=i.parse(e[1],o),r=Math.min(s,n),a=Math.max(s,n);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:n,min:r,max:a}}function parseValue(e,t,i,o){return isArray(e)?parseFloatBar(e,t,i,o):t[i.axis]=i.parse(e,o),t}function parseArrayOrPrimitive(e,t,i,o){const s=e.iScale,n=e.vScale,r=s.getLabels(),a=s===n,l=[];let c,d,u,h;for(c=i,d=i+o;c<d;++c)h=t[c],u={},u[s.axis]=a||s.parse(r[c],c),l.push(parseValue(h,u,n,c));return l}function isFloatBar(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function barSign(e,t,i){return 0!==e?sign(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function borderProps(e){let t,i,o,s,n;return e.horizontal?(t=e.base>e.x,i="left",o="right"):(t=e.base<e.y,i="bottom",o="top"),t?(s="end",n="start"):(s="start",n="end"),{start:i,end:o,reverse:t,top:s,bottom:n}}function setBorderSkipped(e,t,i,o){let s=t.borderSkipped;const n={};if(!s)return e.borderSkipped=n,void 0;if(!0===s)return e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0},void 0;const{start:r,end:a,reverse:l,top:c,bottom:d}=borderProps(e);"middle"===s&&i&&(e.enableBorderRadius=!0,(i._top||0)===o?s=c:(i._bottom||0)===o?s=d:(n[parseEdge(d,r,a,l)]=!0,s=c)),n[parseEdge(s,r,a,l)]=!0,e.borderSkipped=n}function parseEdge(e,t,i,o){return o?startEnd(e=swap(e,t,i),i,t):startEnd(e,t,i)}function swap(e,t,i){return e===t?i:e===i?t:e}function startEnd(e,t,i){return"start"===e?t:"end"===e?i:e}function setInflateAmount(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}__publicField(DatasetController,"defaults",{}),__publicField(DatasetController,"datasetElementType",null),__publicField(DatasetController,"dataElementType",null);class BarController extends DatasetController{parsePrimitiveData(e,t,i,o){return parseArrayOrPrimitive(e,t,i,o)}parseArrayData(e,t,i,o){return parseArrayOrPrimitive(e,t,i,o)}parseObjectData(e,t,i,o){const{iScale:s,vScale:n}=e,{xAxisKey:r="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?r:a,c="x"===n.axis?r:a,d=[];let u,h,p,f;for(u=i,h=i+o;u<h;++u)f=t[u],p={},p[s.axis]=s.parse(resolveObjectKey(f,l),u),d.push(parseValue(resolveObjectKey(f,c),p,n,u));return d}updateRangeFromParsed(e,t,i,o){super.updateRangeFromParsed(e,t,i,o);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:o}=t,s=this.getParsed(e),n=s._custom,r=isFloatBar(n)?"["+n.start+", "+n.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,o){const s="reset"===o,{index:n,_cachedMeta:{vScale:r}}=this,a=r.getBasePixel(),l=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,o);for(let h=t;h<t+i;h++){const t=this.getParsed(h),i=s||isNullOrUndef(t[r.axis])?{base:a,head:a}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[r.axis],g={horizontal:l,base:i.base,enableBorderRadius:!f||isFloatBar(t._custom)||n===f._top||n===f._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};u&&(g.options=d||this.resolveDataElementOptions(h,e[h].active?"active":o));const m=g.options||e[h].options;setBorderSkipped(g,m,f,n),setInflateAmount(g,m,c.ratio),this.updateElement(e[h],h,g,o)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=i.options.stacked,n=[],r=this._cachedMeta.controller.getParsed(t),a=r&&r[i.axis],l=e=>{const t=e._parsed.find(e=>e[i.axis]===a),o=t&&t[e.vScale.axis];if(isNullOrUndef(o)||isNaN(o))return!0};for(const c of o)if((void 0===t||!l(c))&&((!1===s||-1===n.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&n.push(c.stack),c.index===e))break;return n.length||n.push(void 0),n}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[valueOrDefault("x"===this.chart.options.indexAxis?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const o=this._getStacks(e,i),s=void 0!==t?o.indexOf(t):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,o=[];let s,n;for(s=0,n=t.data.length;s<n;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const r=e.barThickness;return{min:r||computeMinSampleSize(t),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:o},options:{base:s,minBarLength:n}}=this,r=s||0,a=this.getParsed(e),l=a._custom,c=isFloatBar(l);let d,u,h=a[t.axis],p=0,f=i?this.applyStack(t,a,i):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&sign(h)!==sign(l.barEnd)&&(p=0),p+=h);const g=isNullOrUndef(s)||c?p:s;let m=t.getPixelForValue(g);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):m,u=d-m,Math.abs(u)<n){u=barSign(u,t,r)*n,h===r&&(m-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),p=Math.max(e,s);m=Math.max(Math.min(m,p),l),d=m+u,i&&!c&&(a._stacks[t.axis]._visualValues[o]=t.getValueForPixel(d)-t.getValueForPixel(m))}if(m===t.getPixelForValue(r)){const e=sign(u)*t.getLineWidthForValue(r)/2;m+=e,u-=e}return{size:u,base:m,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const i=t.scale,o=this.options,s=o.skipNull,n=valueOrDefault(o.maxBarThickness,1/0);let r,a;const l=this._getAxisCount();if(t.grouped){const i=s?this._getStackCount(e):t.stackCount,c="flex"===o.barThickness?computeFlexCategoryTraits(e,t,o,i*l):computeFitCategoryTraits(e,t,o,i*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(valueOrDefault(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+u;r=c.start+c.chunk*h+c.chunk/2,a=Math.min(n,c.chunk*c.ratio)}else r=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(n,t.min*t.ratio);return{base:r-a/2,head:r+a/2,center:r,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,o=i.length;let s=0;for(;s<o;++s)null===this.getParsed(s)[t.axis]||i[s].hidden||i[s].draw(this._ctx)}}__publicField(BarController,"id","bar"),__publicField(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),__publicField(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,o){const s=super.parsePrimitiveData(e,t,i,o);for(let n=0;n<s.length;n++)s[n]._custom=this.resolveDataElementOptions(n+i).radius;return s}parseArrayData(e,t,i,o){const s=super.parseArrayData(e,t,i,o);for(let n=0;n<s.length;n++){const e=t[i+n];s[n]._custom=valueOrDefault(e[2],this.resolveDataElementOptions(n+i).radius)}return s}parseObjectData(e,t,i,o){const s=super.parseObjectData(e,t,i,o);for(let n=0;n<s.length;n++){const e=t[i+n];s[n]._custom=valueOrDefault(e&&e.r&&+e.r,this.resolveDataElementOptions(n+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=t,n=this.getParsed(e),r=o.getLabelForValue(n.x),a=s.getLabelForValue(n.y),l=n._custom;return{label:i[e]||"",value:"("+r+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,o){const s="reset"===o,{iScale:n,vScale:r}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,o),c=n.axis,d=r.axis;for(let u=t;u<t+i;u++){const t=e[u],i=!s&&this.getParsed(u),h={},p=h[c]=s?n.getPixelForDecimal(.5):n.getPixelForValue(i[c]),f=h[d]=s?r.getBasePixel():r.getPixelForValue(i[d]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=a||this.resolveDataElementOptions(u,t.active?"active":o),s&&(h.options.radius=0)),this.updateElement(t,u,h,o)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==t&&(o.radius=0),o.radius+=valueOrDefault(i&&i._custom,s),o}}function getRatioAndOffset(e,t,i){let o=1,s=1,n=0,r=0;if(t<TAU){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),h=Math.sin(l),p=(e,t,o)=>_angleBetween(e,a,l,!0)?1:Math.max(t,t*i,o,o*i),f=(e,t,o)=>_angleBetween(e,a,l,!0)?-1:Math.min(t,t*i,o,o*i),g=p(0,c,u),m=p(HALF_PI,d,h),_=f(PI,c,u),b=f(PI+HALF_PI,d,h);o=(g-_)/2,s=(m-b)/2,n=-(g+_)/2,r=-(m+b)/2}return{ratioX:o,ratioY:s,offsetX:n,offsetY:r}}__publicField(BubbleController,"id","bubble"),__publicField(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),__publicField(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class DoughnutController extends DatasetController{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=i;else{let s,n,r=e=>+i[e];if(isObject(i[e])){const{key:e="value"}=this._parsing;r=t=>+resolveObjectKey(i[t],e)}for(s=e,n=e+t;s<n;++s)o._parsed[s]=r(s)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,t=-TAU;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),n=o._getCircumference();e=Math.min(e,s),t=Math.max(t,s+n)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,o=this._cachedMeta,s=o.data,n=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,r=Math.max((Math.min(i.width,i.height)-n)/2,0),a=Math.min(toPercentage(this.options.cutout,r),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:p,offsetY:f}=getRatioAndOffset(d,c,a),g=(i.width-n)/u,m=(i.height-n)/h,_=Math.max(Math.min(g,m)/2,0),b=toDimension(this.options.radius,_),v=(b-Math.max(b*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=f*b,o.total=this.calculateTotal(),this.outerRadius=b-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,o=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/TAU)}updateElements(e,t,i,o){const s="reset"===o,n=this.chart,r=n.chartArea,a=n.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=s&&a.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,o);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,s);for(g=t;g<t+i;++g){const t=this._circumference(g,s),i=e[g],n={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:h,innerRadius:u};f&&(n.options=p||this.resolveDataElementOptions(g,i.active?"active":o)),m+=t,this.updateElement(i,g,n,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i,o=0;for(i=0;i<t.length;i++){const s=e._parsed[i];null===s||isNaN(s)||!this.chart.getDataVisibility(i)||t[i].hidden||(o+=Math.abs(s))}return o}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?TAU*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=formatNumber(t._parsed[e],i.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let o,s,n,r,a;if(!e)for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){n=i.getDatasetMeta(o),e=n.data,r=n.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)a=r.resolveDataElementOptions(o),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,o=e.length;i<o;++i){const e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}__publicField(DoughnutController,"id","doughnut"),__publicField(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),__publicField(DoughnutController,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),__publicField(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:n,borderRadius:r}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(a),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:o,pointStyle:i,borderRadius:n&&(r||l.borderRadius),index:a}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=t,n=this.chart._animationsDisabled;let{start:r,count:a}=_getStartAndCountOfVisiblePoints(t,o,n);this._drawStart=r,this._drawCount=a,_scaleRangesChanged(t)&&(r=0,a=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!n,options:l},e),this.updateElements(o,r,a,e)}updateElements(e,t,i,o){const s="reset"===o,{iScale:n,vScale:r,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,o),u=n.axis,h=r.axis,{spanGaps:p,segment:f}=this.options,g=isNumber(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||"none"===o,_=t+i,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const i=e[y],p=m?i:{};if(y<t||y>=_){p.skip=!0;continue}const b=this.getParsed(y),w=isNullOrUndef(b[h]),x=p[u]=n.getPixelForValue(b[u],y),S=p[h]=s||w?r.getBasePixel():r.getPixelForValue(a?this.applyStack(r,b,a):b[h],y);p.skip=isNaN(x)||isNaN(S)||w,p.stop=y>0&&Math.abs(b[u]-v[u])>g,f&&(p.parsed=b,p.raw=l.data[y]),d&&(p.options=c||this.resolveDataElementOptions(y,i.active?"active":o)),m||this.updateElement(i,y,p,o),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const s=o[0].size(this.resolveDataElementOptions(0)),n=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,n)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}__publicField(LineController,"id","line"),__publicField(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),__publicField(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=formatNumber(t._parsed[e].r,i.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,t,i,o){return _parseObjectDataRadialScale.bind(this)(e,t,i,o)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,o=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(o/2,0),n=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-n*this.index,this.innerRadius=this.outerRadius-n}updateElements(e,t,i,o){const s="reset"===o,n=this.chart,r=n.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,d=a.getIndexAngle(0)-.5*PI;let u,h=d;const p=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,o,p);for(u=t;u<t+i;u++){const t=e[u];let i=h,f=h+this._computeAngle(u,o,p),g=n.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=f,s&&(r.animateScale&&(g=0),r.animateRotate&&(i=f=d));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:i,endAngle:f,options:this.resolveDataElementOptions(u,t.active?"active":o)};this.updateElement(t,u,m,o)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?toRadians(this.resolveDataElementOptions(e,t).angle||i):0}}__publicField(PolarAreaController,"id","polarArea"),__publicField(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),__publicField(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return t.labels.map((t,s)=>{const n=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:o,lineWidth:n.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}__publicField(PieController,"id","pie"),__publicField(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,o){return _parseObjectDataRadialScale.bind(this)(e,t,i,o)}update(e){const t=this._cachedMeta,i=t.dataset,o=t.data||[],s=t.iScale.getLabels();if(i.points=o,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const n={_loop:!0,_fullLoop:s.length===o.length,options:t};this.updateElement(i,void 0,n,e)}this.updateElements(o,0,o.length,e)}updateElements(e,t,i,o){const s=this._cachedMeta.rScale,n="reset"===o;for(let r=t;r<t+i;r++){const t=e[r],i=this.resolveDataElementOptions(r,t.active?"active":o),a=s.getPointPositionForValue(r,this.getParsed(r).r),l=n?s.xCenter:a.x,c=n?s.yCenter:a.y,d={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(t,r,d,o)}}}__publicField(RadarController,"id","radar"),__publicField(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),__publicField(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=t,n=this.getParsed(e),r=o.getLabelForValue(n.x),a=s.getLabelForValue(n.y);return{label:i[e]||"",value:"("+r+", "+a+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,o=this.chart._animationsDisabled;let{start:s,count:n}=_getStartAndCountOfVisiblePoints(t,i,o);if(this._drawStart=s,this._drawCount=n,_scaleRangesChanged(t)&&(s=0,n=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:n}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!n._decimated,s.points=i;const r=this.resolveDatasetElementOptions(e);r.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:r},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,n,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,o){const s="reset"===o,{iScale:n,vScale:r,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,o),d=this.getSharedOptions(c),u=this.includeOptions(o,d),h=n.axis,p=r.axis,{spanGaps:f,segment:g}=this.options,m=isNumber(f)?f:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||"none"===o;let b=t>0&&this.getParsed(t-1);for(let v=t;v<t+i;++v){const t=e[v],i=this.getParsed(v),c=_?t:{},f=isNullOrUndef(i[p]),y=c[h]=n.getPixelForValue(i[h],v),w=c[p]=s||f?r.getBasePixel():r.getPixelForValue(a?this.applyStack(r,i,a):i[p],v);c.skip=isNaN(y)||isNaN(w)||f,c.stop=v>0&&Math.abs(i[h]-b[h])>m,g&&(c.parsed=i,c.raw=l.data[v]),u&&(c.options=d||this.resolveDataElementOptions(v,t.active?"active":o)),_||this.updateElement(t,v,c,o),b=i}this.updateSharedOptions(d,o,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}const i=e.dataset,o=i.options&&i.options.borderWidth||0;if(!t.length)return o;const s=t[0].size(this.resolveDataElementOptions(0)),n=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,s,n)/2}}__publicField(ScatterController,"id","scatter"),__publicField(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),__publicField(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController:BarController,BubbleController:BubbleController,DoughnutController:DoughnutController,LineController:LineController,PieController:PieController,PolarAreaController:PolarAreaController,RadarController:RadarController,ScatterController:ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){__publicField(this,"options"),this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(e,t,i,o){const{controller:s,data:n,_sorted:r}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&r&&n.length){const r=a._reversePixels?_rlookupByKey:_lookupByKey;if(!o){const o=r(n,t,i);if(l){const{vScale:t}=s._cachedMeta,{_parsed:i}=e,n=i.slice(0,o.lo+1).reverse().findIndex(e=>!isNullOrUndef(e[t.axis]));o.lo-=Math.max(0,n);const r=i.slice(o.hi).findIndex(e=>!isNullOrUndef(e[t.axis]));o.hi+=Math.max(0,r)}return o}if(s._sharedOptions){const e=n[0],o="function"==typeof e.getRange&&e.getRange(t);if(o){const e=r(n,t,i-o),s=r(n,t,i+o);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:n.length-1}}function evaluateInteractionItems(e,t,i,o,s){const n=e.getSortedVisibleDatasetMetas(),r=i[t];for(let a=0,l=n.length;a<l;++a){const{index:e,data:i}=n[a],{lo:l,hi:c}=binarySearch(n[a],t,r,s);for(let t=l;t<=c;++t){const s=i[t];s.skip||o(s,e,t)}}}function getDistanceMetricForAxis(e){const t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,o){const s=t?Math.abs(e.x-o.x):0,n=i?Math.abs(e.y-o.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(n,2))}}function getIntersectItems(e,t,i,o,s){const n=[];return s||e.isPointInArea(t)?(evaluateInteractionItems(e,i,t,function(i,r,a){(s||_isPointInArea(i,e.chartArea,0))&&i.inRange(t.x,t.y,o)&&n.push({element:i,datasetIndex:r,index:a})},!0),n):n}function getNearestRadialItems(e,t,i,o){let s=[];return evaluateInteractionItems(e,i,t,function(e,i,n){const{startAngle:r,endAngle:a}=e.getProps(["startAngle","endAngle"],o),{angle:l}=getAngleFromPoint(e,{x:t.x,y:t.y});_angleBetween(l,r,a)&&s.push({element:e,datasetIndex:i,index:n})}),s}function getNearestCartesianItems(e,t,i,o,s,n){let r=[];const a=getDistanceMetricForAxis(i);let l=Number.POSITIVE_INFINITY;return evaluateInteractionItems(e,i,t,function(i,c,d){const u=i.inRange(t.x,t.y,s);if(o&&!u)return;const h=i.getCenterPoint(s);if(!n&&!e.isPointInArea(h)&&!u)return;const p=a(t,h);p<l?(r=[{element:i,datasetIndex:c,index:d}],l=p):p===l&&r.push({element:i,datasetIndex:c,index:d})}),r}function getNearestItems(e,t,i,o,s,n){return n||e.isPointInArea(t)?"r"!==i||o?getNearestCartesianItems(e,t,i,o,s,n):getNearestRadialItems(e,t,i,s):[]}function getAxisItems(e,t,i,o,s){const n=[],r="x"===i?"inXRange":"inYRange";let a=!1;return evaluateInteractionItems(e,i,t,(e,o,l)=>{e[r]&&e[r](t[i],s)&&(n.push({element:e,datasetIndex:o,index:l}),a=a||e.inRange(t.x,t.y,s))}),o&&!a?[]:n}var Interaction={modes:{index(e,t,i,o){const s=getRelativePosition(t,e),n=i.axis||"x",r=i.includeInvisible||!1,a=i.intersect?getIntersectItems(e,s,n,o,r):getNearestItems(e,s,n,!1,o,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=a[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,i,o){const s=getRelativePosition(t,e),n=i.axis||"xy",r=i.includeInvisible||!1;let a=i.intersect?getIntersectItems(e,s,n,o,r):getNearestItems(e,s,n,!1,o,r);if(a.length>0){const t=a[0].datasetIndex,i=e.getDatasetMeta(t).data;a=[];for(let e=0;e<i.length;++e)a.push({element:i[e],datasetIndex:t,index:e})}return a},point:(e,t,i,o)=>getIntersectItems(e,getRelativePosition(t,e),i.axis||"xy",o,i.includeInvisible||!1),nearest(e,t,i,o){const s=getRelativePosition(t,e),n=i.axis||"xy",r=i.includeInvisible||!1;return getNearestItems(e,s,n,i.intersect,o,r)},x:(e,t,i,o)=>getAxisItems(e,getRelativePosition(t,e),"x",i.intersect,o),y:(e,t,i,o)=>getAxisItems(e,getRelativePosition(t,e),"y",i.intersect,o)}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(e,t){return e.filter(e=>e.pos===t)}function filterDynamicPositionByAxis(e,t){return e.filter(e=>-1===STATIC_POSITIONS.indexOf(e.pos)&&e.box.axis===t)}function sortByWeight(e,t){return e.sort((e,i)=>{const o=t?i:e,s=t?e:i;return o.weight===s.weight?o.index-s.index:o.weight-s.weight})}function wrapBoxes(e){const t=[];let i,o,s,n,r,a;for(i=0,o=(e||[]).length;i<o;++i)s=e[i],({position:n,options:{stack:r,stackWeight:a=1}}=s),t.push({index:i,box:s,pos:n,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&n+r,stackWeight:a});return t}function buildStacks(e){const t={};for(const i of e){const{stack:e,pos:o,stackWeight:s}=i;if(!e||!STATIC_POSITIONS.includes(o))continue;const n=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=s}return t}function setLayoutDims(e,t){const i=buildStacks(e),{vBoxMaxWidth:o,hBoxMaxHeight:s}=t;let n,r,a;for(n=0,r=e.length;n<r;++n){a=e[n];const{fullSize:r}=a.box,l=i[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*o:r&&t.availableWidth,a.height=s):(a.width=o,a.height=c?c*s:r&&t.availableHeight)}return i}function buildLayoutBoxes(e){const t=wrapBoxes(e),i=sortByWeight(t.filter(e=>e.box.fullSize),!0),o=sortByWeight(filterByPosition(t,"left"),!0),s=sortByWeight(filterByPosition(t,"right")),n=sortByWeight(filterByPosition(t,"top"),!0),r=sortByWeight(filterByPosition(t,"bottom")),a=filterDynamicPositionByAxis(t,"x"),l=filterDynamicPositionByAxis(t,"y");return{fullSize:i,leftAndTop:o.concat(n),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:filterByPosition(t,"chartArea"),vertical:o.concat(s).concat(l),horizontal:n.concat(r).concat(a)}}function getCombinedMax(e,t,i,o){return Math.max(e[i],t[i])+Math.max(e[o],t[o])}function updateMaxPadding(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function updateDims(e,t,i,o){const{pos:s,box:n}=i,r=e.maxPadding;if(!isObject(s)){i.size&&(e[s]-=i.size);const t=o[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?n.height:n.width),i.size=t.size/t.count,e[s]+=i.size}n.getPadding&&updateMaxPadding(r,n.getPadding());const a=Math.max(0,t.outerWidth-getCombinedMax(r,e,"left","right")),l=Math.max(0,t.outerHeight-getCombinedMax(r,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:c,other:d}:{same:d,other:c}}function handleMaxPadding(e){const t=e.maxPadding;function i(i){const o=Math.max(t[i]-e[i],0);return e[i]+=o,o}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function getMargins(e,t){const i=t.maxPadding;return function(e){const o={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{o[e]=Math.max(t[e],i[e])}),o}(e?["left","right"]:["top","bottom"])}function fitBoxes(e,t,i,o){const s=[];let n,r,a,l,c,d;for(n=0,r=e.length,c=0;n<r;++n){a=e[n],l=a.box,l.update(a.width||t.w,a.height||t.h,getMargins(a.horizontal,t));const{same:r,other:u}=updateDims(t,i,a,o);c|=r&&s.length,d=d||u,l.fullSize||s.push(a)}return c&&fitBoxes(s,t,i,o)||d}function setBoxDims(e,t,i,o,s){e.top=i,e.left=t,e.right=t+o,e.bottom=i+s,e.width=o,e.height=s}function placeBoxes(e,t,i,o){const s=i.padding;let{x:n,y:r}=t;for(const a of e){const e=a.box,l=o[a.stack]||{placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const o=t.w*c,n=l.size||e.height;defined(l.start)&&(r=l.start),e.fullSize?setBoxDims(e,s.left,r,i.outerWidth-s.right-s.left,n):setBoxDims(e,t.left+l.placed,r,o,n),l.start=r,l.placed+=o,r=e.bottom}else{const o=t.h*c,r=l.size||e.width;defined(l.start)&&(n=l.start),e.fullSize?setBoxDims(e,n,s.top,r,i.outerHeight-s.bottom-s.top):setBoxDims(e,n,t.top+l.placed,r,o),l.start=n,l.placed+=o,n=e.right}}t.x=n,t.y=r}var layouts={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,o){if(!e)return;const s=toPadding(e.options.layout.padding),n=Math.max(t-s.width,0),r=Math.max(i-s.height,0),a=buildLayoutBoxes(e.boxes),l=a.vertical,c=a.horizontal;each(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:n,availableHeight:r,vBoxMaxWidth:n/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},s);updateMaxPadding(h,toPadding(o));const p=Object.assign({maxPadding:h,w:n,h:r,x:s.left,y:s.top},s),f=setLayoutDims(l.concat(c),u);fitBoxes(a.fullSize,p,u,f),fitBoxes(l,p,u,f),fitBoxes(c,p,u,f)&&fitBoxes(l,p,u,f),handleMaxPadding(p),placeBoxes(a.leftAndTop,p,u,f),p.x+=p.w,p.y+=p.h,placeBoxes(a.rightAndBottom,p,u,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},each(a.chartArea,t=>{const i=t.box;Object.assign(i,e.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,o){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=e=>null===e||""===e;function initCanvas(e,t){const i=e.style,o=e.getAttribute("height"),s=e.getAttribute("width");if(e[EXPANDO_KEY]={initial:{height:o,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",isNullOrEmpty(s)){const t=readUsedSize(e,"width");void 0!==t&&(e.width=t)}if(isNullOrEmpty(o))if(""===e.style.height)e.height=e.width/(t||2);else{const t=readUsedSize(e,"height");void 0!==t&&(e.height=t)}return e}const eventListenerOptions=!!supportsEventListenerOptions&&{passive:!0};function addListener(e,t,i){e&&e.addEventListener(t,i,eventListenerOptions)}function removeListener(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,eventListenerOptions)}function fromNativeEvent(e,t){const i=EVENT_TYPES[e.type]||e.type,{x:o,y:s}=getRelativePosition(e,t);return{type:i,chart:t,native:e,x:void 0!==o?o:null,y:void 0!==s?s:null}}function nodeListContains(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function createAttachObserver(e,t,i){const o=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const i of e)t=t||nodeListContains(i.addedNodes,o),t=t&&!nodeListContains(i.removedNodes,o);t&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}function createDetachObserver(e,t,i){const o=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const i of e)t=t||nodeListContains(i.removedNodes,o),t=t&&!nodeListContains(i.addedNodes,o);t&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const e=window.devicePixelRatio;e!==oldDevicePixelRatio&&(oldDevicePixelRatio=e,drpListeningCharts.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function listenDevicePixelRatioChanges(e,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(e,t)}function unlistenDevicePixelRatioChanges(e){drpListeningCharts.delete(e),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(e,t,i){const o=e.canvas,s=o&&_getParentNode(o);if(!s)return;const n=throttled((e,t)=>{const o=s.clientWidth;i(e,t),o<s.clientWidth&&i()},window),r=new ResizeObserver(e=>{const t=e[0],i=t.contentRect.width,o=t.contentRect.height;0===i&&0===o||n(i,o)});return r.observe(s),listenDevicePixelRatioChanges(e,n),r}function releaseObserver(e,t,i){i&&i.disconnect(),"resize"===t&&unlistenDevicePixelRatioChanges(e)}function createProxyAndListen(e,t,i){const o=e.canvas,s=throttled(t=>{null!==e.ctx&&i(fromNativeEvent(t,e))},e);return addListener(o,t,s),s}class DomPlatform extends BasePlatform{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(initCanvas(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[EXPANDO_KEY])return!1;const i=t[EXPANDO_KEY].initial;["height","width"].forEach(e=>{const o=i[e];isNullOrUndef(o)?t.removeAttribute(e):t.setAttribute(e,o)});const o=i.style||{};return Object.keys(o).forEach(e=>{t.style[e]=o[e]}),t.width=t.width,delete t[EXPANDO_KEY],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),s={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[t]||createProxyAndListen;o[t]=s(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),o=i[t];o&&(({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[t]||removeListener)(e,t,o),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,o){return getMaximumSize(e,t,i,o)}isAttached(e){const t=e&&_getParentNode(e);return!(!t||!t.isConnected)}}function _detectPlatform(e){return!_isDomSupported()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=(_d=class{constructor(){__publicField(this,"x"),__publicField(this,"y"),__publicField(this,"active",!1),__publicField(this,"options"),__publicField(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const o={};return e.forEach(e=>{o[e]=i[e]&&i[e].active()?i[e]._to:this[e]}),o}},__publicField(_d,"defaults",{}),__publicField(_d,"defaultRoutes"),_d);function autoSkip(e,t){const i=e.options.ticks,o=determineMaxTicks(e),s=Math.min(i.maxTicksLimit||o,o),n=i.major.enabled?getMajorIndices(t):[],r=n.length,a=n[0],l=n[r-1],c=[];if(r>s)return skipMajors(t,c,n,r/s),c;const d=calculateSpacing(n,t,s);if(r>0){let e,i;const o=r>1?Math.round((l-a)/(r-1)):null;for(skip(t,c,d,isNullOrUndef(o)?0:a-o,a),e=0,i=r-1;e<i;e++)skip(t,c,d,n[e],n[e+1]);return skip(t,c,d,l,isNullOrUndef(o)?t.length:l+o),c}return skip(t,c,d),c}function determineMaxTicks(e){const t=e.options.offset,i=e._tickSize(),o=e._length/i+(t?0:1),s=e._maxLength/i;return Math.floor(Math.min(o,s))}function calculateSpacing(e,t,i){const o=getEvenSpacing(e),s=t.length/i;if(!o)return Math.max(s,1);const n=_factorize(o);for(let r=0,a=n.length-1;r<a;r++){const e=n[r];if(e>s)return e}return Math.max(s,1)}function getMajorIndices(e){const t=[];let i,o;for(i=0,o=e.length;i<o;i++)e[i].major&&t.push(i);return t}function skipMajors(e,t,i,o){let s,n=0,r=i[0];for(o=Math.ceil(o),s=0;s<e.length;s++)s===r&&(t.push(e[s]),n++,r=i[n*o])}function skip(e,t,i,o,s){const n=valueOrDefault(o,0),r=Math.min(valueOrDefault(s,e.length),e.length);let a,l,c,d=0;for(i=Math.ceil(i),s&&(a=s-o,i=a/Math.floor(a/i)),c=n;c<0;)d++,c=Math.round(n+d*i);for(l=Math.max(n,0);l<r;l++)l===c&&(t.push(e[l]),d++,c=Math.round(n+d*i))}function getEvenSpacing(e){const t=e.length;let i,o;if(t<2)return!1;for(o=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==o)return!1;return o}const reverseAlign=e=>"left"===e?"right":"right"===e?"left":e,offsetFromEdge=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,getTicksLimit=(e,t)=>Math.min(t||e,e);function sample(e,t){const i=[],o=e.length/t,s=e.length;let n=0;for(;n<s;n+=o)i.push(e[Math.floor(n)]);return i}function getPixelForGridLine(e,t,i){const o=e.ticks.length,s=Math.min(t,o-1),n=e._startPixel,r=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(s);if(!(i&&(l=1===o?Math.max(c-n,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<n-a||c>r+a)))return c}function garbageCollect(e,t){each(e,e=>{const i=e.gc,o=i.length/2;let s;if(o>t){for(s=0;s<o;++s)delete e.data[i[s]];i.splice(0,o)}})}function getTickMarkLength(e){return e.drawTicks?e.tickLength:0}function getTitleHeight(e,t){if(!e.display)return 0;const i=toFont(e.font,t),o=toPadding(e.padding);return(isArray(e.text)?e.text.length:1)*i.lineHeight+o.height}function createScaleContext(e,t){return createContext(e,{scale:t,type:"scale"})}function createTickContext(e,t,i){return createContext(e,{tick:i,index:t,type:"tick"})}function titleAlign(e,t,i){let o=_toLeftRightCenter(e);return(i&&"right"!==t||!i&&"right"===t)&&(o=reverseAlign(o)),o}function titleArgs(e,t,i,o){const{top:s,left:n,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,p,f=0;const g=r-s,m=a-n;if(e.isHorizontal()){if(h=_alignStartEnd(o,n,a),isObject(i)){const e=Object.keys(i)[0],o=i[e];p=d[e].getPixelForValue(o)+g-t}else p="center"===i?(c.bottom+c.top)/2+g-t:offsetFromEdge(e,i,t);u=a-n}else{if(isObject(i)){const e=Object.keys(i)[0],o=i[e];h=d[e].getPixelForValue(o)-m+t}else h="center"===i?(c.left+c.right)/2-m+t:offsetFromEdge(e,i,t);p=_alignStartEnd(o,r,s),f="left"===i?-HALF_PI:HALF_PI}return{titleX:h,titleY:p,maxWidth:u,rotation:f}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:o}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),t=finiteOrDefault(t,Number.NEGATIVE_INFINITY),i=finiteOrDefault(i,Number.POSITIVE_INFINITY),o=finiteOrDefault(o,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,i),max:finiteOrDefault(t,o),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(t)}}getMinMax(e){let t,{min:i,max:o,minDefined:s,maxDefined:n}=this.getUserBounds();if(s&&n)return{min:i,max:o};const r=this.getMatchingVisibleMetas();for(let a=0,l=r.length;a<l;++a)t=r[a].controller.getMinMax(this,e),s||(i=Math.min(i,t.min)),n||(o=Math.max(o,t.max));return i=n&&i>o?o:i,o=s&&i>o?i:o,{min:finiteOrDefault(i,finiteOrDefault(o,i)),max:finiteOrDefault(o,finiteOrDefault(i,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:o,grace:s,ticks:n}=this.options,r=n.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,s,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=r<this.ticks.length;this._convertTicksToLabels(a?sample(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,o,s;for(i=0,o=e.length;i<o;i++)s=e[i],s.label=callback(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,s=t.maxRotation;let n,r,a,l=o;if(!this._isVisible()||!t.display||o>=s||i<=1||!this.isHorizontal())return this.labelRotation=o,void 0;const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=_limitValue(this.chart.width-d,0,this.maxWidth);n=e.offset?this.maxWidth/i:h/(i-1),d+6>n&&(n=h/(i-(e.offset?.5:1)),r=this.maxHeight-getTickMarkLength(e.grid)-t.padding-getTitleHeight(e.title,this.chart.options.font),a=Math.sqrt(d*d+u*u),l=toDegrees(Math.min(Math.asin(_limitValue((c.highest.height+6)/n,-1,1)),Math.asin(_limitValue(r/a,-1,1))-Math.asin(_limitValue(u/a,-1,1)))),l=Math.max(o,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:o,grid:s}}=this,n=this._isVisible(),r=this.isHorizontal();if(n){const n=getTitleHeight(o,t.options.font);if(r?(e.width=this.maxWidth,e.height=getTickMarkLength(s)+n):(e.height=this.maxHeight,e.width=getTickMarkLength(s)+n),i.display&&this.ticks.length){const{first:t,last:o,widest:s,highest:n}=this._getLabelSizes(),a=2*i.padding,l=toRadians(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(r){const t=i.mirror?0:d*s.width+c*n.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=i.mirror?0:c*s.width+d*n.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,o,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,o){const{ticks:{align:s,padding:n},position:r}=this.options,a=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;a?l?(d=o*e.width,u=i*t.height):(d=i*e.height,u=o*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+n)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+n)*this.width/(this.width-c),0)}else{let i=t.height/2,o=e.height/2;"start"===s?(i=0,o=e.height):"end"===s&&(i=t.height,o=0),this.paddingTop=i+n,this.paddingBottom=o+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)isNullOrUndef(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=sample(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:o,_longestTextCache:s}=this,n=[],r=[],a=Math.floor(t/getTicksLimit(t,i));let l,c,d,u,h,p,f,g,m,_,b,v=0,y=0;for(l=0;l<t;l+=a){if(u=e[l].label,h=this._resolveTickFontOptions(l),o.font=p=h.string,f=s[p]=s[p]||{data:{},gc:[]},g=h.lineHeight,m=_=0,isNullOrUndef(u)||isArray(u)){if(isArray(u))for(c=0,d=u.length;c<d;++c)b=u[c],isNullOrUndef(b)||isArray(b)||(m=_measureText(o,f.data,f.gc,m,b),_+=g)}else m=_measureText(o,f.data,f.gc,m,u),_=g;n.push(m),r.push(_),v=Math.max(m,v),y=Math.max(_,y)}garbageCollect(s,t);const w=n.indexOf(v),x=r.indexOf(y),S=e=>({width:n[e]||0,height:r[e]||0});return{first:S(0),last:S(t-1),widest:S(w),highest:S(x),widths:n,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=createTickContext(this.getContext(),e,i))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=toRadians(this.labelRotation),i=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),s=this._getLabelSizes(),n=e.autoSkipPadding||0,r=s?s.widest.width+n:0,a=s?s.highest.height+n:0;return this.isHorizontal()?a*i>r*o?r/i:a/o:a*o<r*i?a/i:r/o}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,o=this.options,{grid:s,position:n,border:r}=o,a=s.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),d=getTickMarkLength(s),u=[],h=r.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,g=function(e){return _alignPixel(i,e,p)};let m,_,b,v,y,w,x,S,$,k,C,B;if("top"===n)m=g(this.bottom),w=this.bottom-d,S=m-f,k=g(e.top)+f,B=e.bottom;else if("bottom"===n)m=g(this.top),k=e.top,B=g(e.bottom)-f,w=m+f,S=this.top+d;else if("left"===n)m=g(this.right),y=this.right-d,x=m-f,$=g(e.left)+f,C=e.right;else if("right"===n)m=g(this.left),$=e.left,C=g(e.right)-f,y=m+f,x=this.left+d;else if("x"===t){if("center"===n)m=g((e.top+e.bottom)/2+.5);else if(isObject(n)){const e=Object.keys(n)[0],t=n[e];m=g(this.chart.scales[e].getPixelForValue(t))}k=e.top,B=e.bottom,w=m+f,S=w+d}else if("y"===t){if("center"===n)m=g((e.left+e.right)/2);else if(isObject(n)){const e=Object.keys(n)[0],t=n[e];m=g(this.chart.scales[e].getPixelForValue(t))}y=m-f,x=y-d,$=e.left,C=e.right}const N=valueOrDefault(o.ticks.maxTicksLimit,c),V=Math.max(1,Math.ceil(c/N));for(_=0;_<c;_+=V){const e=this.getContext(_),t=s.setContext(e),o=r.setContext(e),n=t.lineWidth,c=t.color,d=o.dash||[],h=o.dashOffset,p=t.tickWidth,f=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;b=getPixelForGridLine(this,_,a),void 0!==b&&(v=_alignPixel(i,b,n),l?y=x=$=C=v:w=S=k=B=v,u.push({tx1:y,ty1:w,tx2:x,ty2:S,x1:$,y1:k,x2:C,y2:B,width:n,color:c,borderDash:d,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,u}_computeLabelItems(e){const t=this.axis,i=this.options,{position:o,ticks:s}=i,n=this.isHorizontal(),r=this.ticks,{align:a,crossAlign:l,padding:c,mirror:d}=s,u=getTickMarkLength(i.grid),h=u+c,p=d?-c:h,f=-toRadians(this.labelRotation),g=[];let m,_,b,v,y,w,x,S,$,k,C,B,N="middle";if("top"===o)w=this.bottom-p,x=this._getXAxisLabelAlignment();else if("bottom"===o)w=this.top+p,x=this._getXAxisLabelAlignment();else if("left"===o){const e=this._getYAxisLabelAlignment(u);x=e.textAlign,y=e.x}else if("right"===o){const e=this._getYAxisLabelAlignment(u);x=e.textAlign,y=e.x}else if("x"===t){if("center"===o)w=(e.top+e.bottom)/2+h;else if(isObject(o)){const e=Object.keys(o)[0],t=o[e];w=this.chart.scales[e].getPixelForValue(t)+h}x=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===o)y=(e.left+e.right)/2-h;else if(isObject(o)){const e=Object.keys(o)[0],t=o[e];y=this.chart.scales[e].getPixelForValue(t)}x=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===a?N="top":"end"===a&&(N="bottom"));const V=this._getLabelSizes();for(m=0,_=r.length;m<_;++m){b=r[m],v=b.label;const e=s.setContext(this.getContext(m));S=this.getPixelForTick(m)+s.labelOffset,$=this._resolveTickFontOptions(m),k=$.lineHeight,C=isArray(v)?v.length:1;const t=C/2,i=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let u,h=x;if(n?(y=S,"inner"===x&&(h=m===_-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),B="top"===o?"near"===l||0!==f?-C*k+k/2:"center"===l?-V.highest.height/2-t*k+k:-V.highest.height+k/2:"near"===l||0!==f?k/2:"center"===l?V.highest.height/2-t*k:V.highest.height-C*k,d&&(B*=-1),0===f||e.showLabelBackdrop||(y+=k/2*Math.sin(f))):(w=S,B=(1-C)*k/2),e.showLabelBackdrop){const t=toPadding(e.backdropPadding),i=V.heights[m],o=V.widths[m];let s=B-t.top,n=0-t.left;switch(N){case"middle":s-=i/2;break;case"bottom":s-=i}switch(x){case"center":n-=o/2;break;case"right":n-=o;break;case"inner":m===_-1?n-=o:m>0&&(n-=o/2)}u={left:n,top:s,width:o+t.width,height:i+t.height,color:e.backdropColor}}g.push({label:v,font:$,textOffset:B,options:{rotation:f,color:i,strokeColor:a,strokeWidth:c,textAlign:h,textBaseline:N,translation:[y,w],backdrop:u}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-toRadians(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:o,padding:s}}=this.options,n=e+s,r=this._getLabelSizes().widest.width;let a,l;return"left"===t?o?(l=this.right+s,"near"===i?a="left":"center"===i?(a="center",l+=r/2):(a="right",l+=r)):(l=this.right-n,"near"===i?a="right":"center"===i?(a="center",l-=r/2):(a="left",l=this.left)):"right"===t?o?(l=this.left+s,"near"===i?a="right":"center"===i?(a="center",l-=r/2):(a="left",l-=r)):(l=this.left+n,"near"===i?a="left":"center"===i?(a="center",l+=r/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:o,width:s,height:n}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,o,s,n),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(t=>t.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,n;const r=(e,t,o)=>{o.width&&o.color&&(i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.setLineDash(o.borderDash||[]),i.lineDashOffset=o.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(t.display)for(s=0,n=o.length;s<n;++s){const e=o[s];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:o}}=this,s=i.setContext(this.getContext()),n=i.display?s.width:0;if(!n)return;const r=o.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=_alignPixel(e,this.left,n)-n/2,c=_alignPixel(e,this.right,r)+r/2,d=u=a):(d=_alignPixel(e,this.top,n)-n/2,u=_alignPixel(e,this.bottom,r)+r/2,l=c=a),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,i=this._computeLabelArea();i&&clipArea(t,i);const o=this.getLabelItems(e);for(const s of o){const e=s.options,i=s.font;renderText(t,s.label,0,s.textOffset,i,e)}i&&unclipArea(t)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:o}}=this;if(!i.display)return;const s=toFont(i.font),n=toPadding(i.padding),r=i.align;let a=s.lineHeight/2;"bottom"===t||"center"===t||isObject(t)?(a+=n.bottom,isArray(i.text)&&(a+=s.lineHeight*(i.text.length-1))):a+=n.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=titleArgs(this,a,t,r);renderText(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:u,textAlign:titleAlign(r,t,o),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=valueOrDefault(e.grid&&e.grid.z,-1),o=valueOrDefault(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Scale.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let s,n;for(s=0,n=t.length;s<n;++s){const n=t[s];n[i]!==this.id||e&&n.type!==e||o.push(n)}return o}_resolveTickFontOptions(e){return toFont(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;isIChartComponent(t)&&(i=this.register(t));const o=this.items,s=e.id,n=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in o||(o[s]=e,registerDefaults(e,n,i),this.override&&defaults.override(e.id,e.overrides)),n}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,o=this.scope;i in t&&delete t[i],o&&i in defaults[o]&&(delete defaults[o][i],this.override&&delete overrides[i])}}function registerDefaults(e,t,i){const o=merge(Object.create(null),[i?defaults.get(i):{},defaults.get(t),e.defaults]);defaults.set(t,o),e.defaultRoutes&&routeDefaults(t,e.defaultRoutes),e.descriptors&&defaults.describe(t,e.descriptors)}function routeDefaults(e,t){Object.keys(t).forEach(i=>{const o=i.split("."),s=o.pop(),n=[e].concat(o).join("."),r=t[i].split("."),a=r.pop(),l=r.join(".");defaults.route(n,s,l,a)})}function isIChartComponent(e){return"id"in e&&"defaults"in e}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(t=>{const o=i||this._getRegistryForType(t);i||o.isForType(t)||o===this.plugins&&t.id?this._exec(e,o,t):each(t,t=>{const o=i||this._getRegistryForType(t);this._exec(e,o,t)})})}_exec(e,t,i){const o=_capitalize(e);callback(i["before"+o],[],i),t[e](i),callback(i["after"+o],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const o=t.get(e);if(void 0===o)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var registry=new Registry;class PluginService{constructor(){this._init=void 0}notify(e,t,i,o){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const s=o?this._descriptors(e).filter(o):this._descriptors(e),n=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),n}_notify(e,t,i,o){o=o||{};for(const s of e){const e=s.plugin;if(!1===callback(e[i],[t,o,s.options],e)&&o.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,o=valueOrDefault(i.options&&i.options.plugins,{}),s=allPlugins(i);return!1!==o||t?createDescriptors(e,s,o,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,o=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(o(t,i),e,"stop"),this._notify(o(i,t),e,"start")}}function allPlugins(e){const t={},i=[],o=Object.keys(registry.plugins.items);for(let n=0;n<o.length;n++)i.push(registry.getPlugin(o[n]));const s=e.plugins||[];for(let n=0;n<s.length;n++){const e=s[n];-1===i.indexOf(e)&&(i.push(e),t[e.id]=!0)}return{plugins:i,localIds:t}}function getOpts(e,t){return t||!1!==e?!0===e?{}:e:null}function createDescriptors(e,{plugins:t,localIds:i},o,s){const n=[],r=e.getContext();for(const a of t){const t=a.id,l=getOpts(o[t],s);null!==l&&n.push({plugin:a,options:pluginOpts(e.config,{plugin:a,local:i[t]},l,r)})}return n}function pluginOpts(e,{plugin:t,local:i},o,s){const n=e.pluginScopeKeys(t),r=e.getOptionScopes(o,n);return i&&t.defaults&&r.push(t.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(e,t){const i=defaults.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function getAxisFromDefaultScaleID(e,t){let i=e;return"_index_"===e?i=t:"_value_"===e&&(i="x"===t?"y":"x"),i}function getDefaultScaleIDFromAxis(e,t){return e===t?"_index_":"_value_"}function idMatchesAxis(e){if("x"===e||"y"===e||"r"===e)return e}function axisFromPosition(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function determineAxis(e,...t){if(idMatchesAxis(e))return e;for(const i of t){const t=i.axis||axisFromPosition(i.position)||e.length>1&&idMatchesAxis(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function retrieveAxisFromDatasets(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(i.length)return getAxisFromDataset(e,"x",i[0])||getAxisFromDataset(e,"y",i[0])}return{}}function mergeScaleConfig(e,t){const i=overrides[e.type]||{scales:{}},o=t.scales||{},s=getIndexAxis(e.type,t),n=Object.create(null);return Object.keys(o).forEach(t=>{const r=o[t];if(!isObject(r))return console.error(`Invalid scale configuration for scale: ${t}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=determineAxis(t,r,retrieveAxisFromDatasets(t,e),defaults.scales[r.type]),l=getDefaultScaleIDFromAxis(a,s),c=i.scales||{};n[t]=mergeIf(Object.create(null),[{axis:a},r,c[a],c[l]])}),e.data.datasets.forEach(i=>{const s=i.type||e.type,r=i.indexAxis||getIndexAxis(s,t),a=(overrides[s]||{}).scales||{};Object.keys(a).forEach(e=>{const t=getAxisFromDefaultScaleID(e,r),s=i[t+"AxisID"]||t;n[s]=n[s]||Object.create(null),mergeIf(n[s],[{axis:t},o[s],a[e]])})}),Object.keys(n).forEach(e=>{const t=n[e];mergeIf(t,[defaults.scales[t.type],defaults.scale])}),n}function initOptions(e){const t=e.options||(e.options={});t.plugins=valueOrDefault(t.plugins,{}),t.scales=mergeScaleConfig(e,t)}function initData(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}function initConfig(e){return(e=e||{}).data=initData(e.data),initOptions(e),e}const keyCache=new Map,keysCached=new Set;function cachedKeys(e,t){let i=keyCache.get(e);return i||(i=t(),keyCache.set(e,i),keysCached.add(i)),i}const addIfFound=(e,t,i)=>{const o=resolveObjectKey(t,i);void 0!==o&&e.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cachedKeys(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cachedKeys(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return cachedKeys(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let o=i.get(e);return o&&!t||(o=new Map,i.set(e,o)),o}getOptionScopes(e,t,i){const{options:o,type:s}=this,n=this._cachedScopes(e,i),r=n.get(t);if(r)return r;const a=new Set;t.forEach(t=>{e&&(a.add(e),t.forEach(t=>addIfFound(a,e,t))),t.forEach(e=>addIfFound(a,o,e)),t.forEach(e=>addIfFound(a,overrides[s]||{},e)),t.forEach(e=>addIfFound(a,defaults,e)),t.forEach(e=>addIfFound(a,descriptors,e))});const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),keysCached.has(t)&&n.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,overrides[t]||{},defaults.datasets[t]||{},{type:t},defaults,descriptors]}resolveNamedOptions(e,t,i,o=[""]){const s={$shared:!0},{resolver:n,subPrefixes:r}=getResolver(this._resolverCache,e,o);let a=n;needContext(n,t)&&(s.$shared=!1,a=_attachContext(n,i=isFunction(i)?i():i,this.createResolver(e,i,r)));for(const l of t)s[l]=a[l];return s}createResolver(e,t,i=[""],o){const{resolver:s}=getResolver(this._resolverCache,e,i);return isObject(t)?_attachContext(s,t,void 0,o):s}}function getResolver(e,t,i){let o=e.get(t);o||(o=new Map,e.set(t,o));const s=i.join();let n=o.get(s);return n||(n={resolver:_createResolver(t,i),subPrefixes:i.filter(e=>!e.toLowerCase().includes("hover"))},o.set(s,n)),n}const hasFunction=e=>isObject(e)&&Object.getOwnPropertyNames(e).some(t=>isFunction(e[t]));function needContext(e,t){const{isScriptable:i,isIndexable:o}=_descriptors(e);for(const s of t){const t=i(s),n=o(s),r=(n||t)&&e[s];if(t&&(isFunction(r)||hasFunction(r))||n&&isArray(r))return!0}return!1}var version="4.5.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(e,t){return"top"===e||"bottom"===e||-1===KNOWN_POSITIONS.indexOf(e)&&"x"===t}function compare2Level(e,t){return function(i,o){return i[e]===o[e]?i[t]-o[t]:i[e]-o[e]}}function onAnimationsComplete(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),callback(i&&i.onComplete,[e],t)}function onAnimationProgress(e){const t=e.chart,i=t.options.animation;callback(i&&i.onProgress,[e],t)}function getCanvas(e){return _isDomSupported()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const instances={},getChart=e=>{const t=getCanvas(e);return Object.values(instances).filter(e=>e.canvas===t).pop()};function moveNumericKeys(e,t,i){const o=Object.keys(e);for(const s of o){const o=+s;if(o>=t){const n=e[s];delete e[s],(i>0||o>t)&&(e[o+i]=n)}}}function determineLastEvent(e,t,i,o){return i&&"mouseout"!==e.type?o?t:e:null}class Chart{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,t){const i=this.config=new Config(t),o=getCanvas(e),s=getChart(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const n=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||_detectPlatform(o)),this.platform.updateConfig(i);const r=this.platform.acquireContext(o,n.aspectRatio),a=r&&r.canvas,l=a&&a.height,c=a&&a.width;if(this.id=uid(),this.ctx=r,this.canvas=a,this.width=c,this.height=l,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(e=>this.update(e),n.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!r||!a)return console.error("Failed to create chart: can't acquire context from the given item"),void 0;animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:o,_aspectRatio:s}=this;return isNullOrUndef(e)?t&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,t){animator.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(o,e,t,s),r=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,retinaScale(this,r,!0)&&(this.notifyPlugins("resize",{size:n}),callback(i.onResize,[this,n],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){each(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,o=Object.keys(i).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const i=t[e],o=determineAxis(e,i),s="r"===o,n="x"===o;return{options:i,dposition:s?"chartArea":n?"bottom":"left",dtype:s?"radialLinear":n?"category":"linear"}}))),each(s,t=>{const s=t.options,n=s.id,r=determineAxis(n,s),a=valueOrDefault(s.type,t.dtype);void 0!==s.position&&positionIsHorizontal(s.position,r)===positionIsHorizontal(t.dposition)||(s.position=t.dposition),o[n]=!0;let l=null;n in i&&i[n].type===a?l=i[n]:(l=new(registry.getScale(a))({id:n,type:a,ctx:this.ctx,chart:this}),i[l.id]=l),l.init(s,e)}),each(o,(e,t)=>{e||delete i[t]}),each(i,e=>{layouts.configure(this,e,e.options),layouts.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((e,t)=>e.index-t.index),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,i)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=t.length;i<o;i++){const o=t[i];let s=this.getDatasetMeta(i);const n=o.type||this.config.type;if(s.type&&s.type!==n&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=n,s.indexAxis=o.indexAxis||getIndexAxis(n,this.options),s.order=o.order||0,s.index=i,s.label=""+o.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const t=registry.getController(n),{datasetElementType:o,dataElementType:r}=defaults.datasets[n];Object.assign(t,{dataElementType:registry.getElement(r),datasetElementType:o&&registry.getElement(o)}),s.controller=new t(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!o&&-1===s.indexOf(e);e.buildOrUpdateElements(t),n=Math.max(+e.getMaxOverflow(),n)}n=this._minPadding=i.layout.autoPadding?n:0,this._updateLayout(n),o||each(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:r,_lastEvent:a}=this;a?this._eventHandler(a,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);setsEqual(t,i)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:s}of t)moveNumericKeys(e,o,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),o=i(0);for(let s=1;s<t;s++)if(!setsEqual(o,i(s)))return;return Array.from(o).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;layouts.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],each(this.boxes,e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,isFunction(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(i.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let o,s;for(o=0,s=t.length;o<s;++o){const s=t[o];e&&!s.visible||i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=getDatasetClipArea(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(o&&clipArea(t,o),e.controller.draw(),o&&unclipArea(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,o){const s=Interaction.modes[t];return"function"==typeof s?s(this,e,i,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let o=i.filter(e=>e&&e._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const o=i?"show":"hide",s=this.getDatasetMeta(e),n=s.controller._resolveAnimations(void 0,o);defined(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),n.update(s,{visible:i}),this.update(t=>t.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),animator.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},o=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};each(this.options.events,e=>i(e,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},o=(i,o)=>{e[i]&&(t.removeEventListener(this,i,o),delete e[i])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let n;const r=()=>{o("attach",r),this.attached=!0,this.resize(),i("resize",s),i("detach",n)};n=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",r)},t.isAttached(this.canvas)?r():n()}unbindEvents(){each(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},each(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const o=i?"set":"remove";let s,n,r,a;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),r=0,a=e.length;r<a;++r){n=e[r];const t=n&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[o+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:e,index:t})=>{const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}});!_elementsEqual(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){const o=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),n=s(t,e),r=i?e:s(e,t);n.length&&this.updateHoverStyle(n,o.mode,!1),r.length&&o.mode&&this.updateHoverStyle(r,o.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,o))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:o=[],options:s}=this,n=t,r=this._getActiveElements(e,o,i,n),a=_isClickEvent(e),l=determineLastEvent(e,this._lastEvent,i,a);i&&(this._lastEvent=null,callback(s.onHover,[e,r,this],this),a&&callback(s.onClick,[e,r,this],this));const c=!_elementsEqual(r,o);return(c||t)&&(this._active=r,this._updateHoverStyles(r,o,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,o){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}}function invalidatePlugins(){return each(Chart.instances,e=>e._plugins.invalidate())}function clipSelf(e,t,i){const{startAngle:o,x:s,y:n,outerRadius:r,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/r,_normalizeAngle(o-i));if(e.beginPath(),e.arc(s,n,r-c/2,o+u/2,i-u/2),a>0){const t=Math.min(c/a,_normalizeAngle(o-i));e.arc(s,n,a+c/2,i-t/2,o+t/2,!0)}else{const t=Math.min(c/2,r*_normalizeAngle(o-i));if("round"===d)e.arc(s,n,t,i-PI/2,o+PI/2,!0);else if("bevel"===d){const r=2*t*t,a=-r*Math.cos(i+PI/2)+s,l=-r*Math.sin(i+PI/2)+n,c=r*Math.cos(o+PI/2)+s,d=r*Math.sin(o+PI/2)+n;e.lineTo(a,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function clipArc(e,t,i){const{startAngle:o,pixelMargin:s,x:n,y:r,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(n,r,a,o-c,i+c),l>s?(c=s/l,e.arc(n,r,l,i+c,o-c,!0)):e.arc(n,r,s,i+HALF_PI,o-HALF_PI),e.closePath(),e.clip()}function toRadiusCorners(e){return _readValueToProps(e,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(e,t,i,o){const s=toRadiusCorners(e.options.borderRadius),n=(i-t)/2,r=Math.min(n,o*t/2),a=e=>{const t=(i-Math.min(n,e))*o/2;return _limitValue(e,0,Math.min(n,t))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:_limitValue(s.innerStart,0,r),innerEnd:_limitValue(s.innerEnd,0,r)}}function rThetaToXY(e,t,i,o){return{x:i+e*Math.cos(t),y:o+e*Math.sin(t)}}function pathArc(e,t,i,o,s,n){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+o+i-c,0),h=d>0?d+o+i+c:0;let p=0;const f=s-l;if(o){const e=((d>0?d-o:0)+(u>0?u-o:0))/2;p=(f-(0!==e?f*e/(e+o):f))/2}const g=(f-Math.max(.001,f*u-i/PI)/u)/2,m=l+g+p,_=s-g-p,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=parseBorderRadius$1(t,h,u,_-m),x=u-b,S=u-v,$=m+b/x,k=_-v/S,C=h+y,B=h+w,N=m+y/C,V=_-w/B;if(e.beginPath(),n){const t=($+k)/2;if(e.arc(r,a,u,$,t),e.arc(r,a,u,t,k),v>0){const t=rThetaToXY(S,k,r,a);e.arc(t.x,t.y,v,k,_+HALF_PI)}const i=rThetaToXY(B,_,r,a);if(e.lineTo(i.x,i.y),w>0){const t=rThetaToXY(B,V,r,a);e.arc(t.x,t.y,w,_+HALF_PI,V+Math.PI)}const o=(_-w/h+(m+y/h))/2;if(e.arc(r,a,h,_-w/h,o,!0),e.arc(r,a,h,o,m+y/h,!0),y>0){const t=rThetaToXY(C,N,r,a);e.arc(t.x,t.y,y,N+Math.PI,m-HALF_PI)}const s=rThetaToXY(x,m,r,a);if(e.lineTo(s.x,s.y),b>0){const t=rThetaToXY(x,$,r,a);e.arc(t.x,t.y,b,m-HALF_PI,$)}}else{e.moveTo(r,a);const t=Math.cos($)*u+r,i=Math.sin($)*u+a;e.lineTo(t,i);const o=Math.cos(k)*u+r,s=Math.sin(k)*u+a;e.lineTo(o,s)}e.closePath()}function drawArc(e,t,i,o,s){const{fullCircles:n,startAngle:r,circumference:a}=t;let l=t.endAngle;if(n){pathArc(e,t,i,o,l,s);for(let t=0;t<n;++t)e.fill();isNaN(a)||(l=r+(a%TAU||TAU))}return pathArc(e,t,i,o,l,s),e.fill(),l}function drawBorder(e,t,i,o,s){const{fullCircles:n,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:p}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,f?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let g=t.endAngle;if(n){pathArc(e,t,i,o,g,s);for(let t=0;t<n;++t)e.stroke();isNaN(a)||(g=r+(a%TAU||TAU))}f&&clipArc(e,t,g),l.selfJoin&&g-r>=PI&&0===p&&"miter"!==d&&clipSelf(e,t,g),n||(pathArc(e,t,i,o,g,s),e.stroke())}__publicField(Chart,"defaults",defaults),__publicField(Chart,"instances",instances),__publicField(Chart,"overrides",overrides),__publicField(Chart,"registry",registry),__publicField(Chart,"version",version),__publicField(Chart,"getChart",getChart);class ArcElement extends Element$1{constructor(e){super(),__publicField(this,"circumference"),__publicField(this,"endAngle"),__publicField(this,"fullCircles"),__publicField(this,"innerRadius"),__publicField(this,"outerRadius"),__publicField(this,"pixelMargin"),__publicField(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const o=this.getProps(["x","y"],i),{angle:s,distance:n}=getAngleFromPoint(o,{x:e,y:t}),{startAngle:r,endAngle:a,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,h=valueOrDefault(d,a-r),p=_angleBetween(s,r,a)&&r!==a,f=h>=TAU||p,g=_isBetween(n,l+u,c+u);return f&&g}getCenterPoint(e){const{x:t,y:i,startAngle:o,endAngle:s,innerRadius:n,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(o+s)/2,d=(n+r+l+a)/2;return{x:t+Math.cos(c)*d,y:i+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,o=(t.offset||0)/4,s=(t.spacing||0)/2,n=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>TAU?Math.floor(i/TAU):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*o,Math.sin(r)*o);const a=o*(1-Math.sin(Math.min(PI,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,drawArc(e,this,a,s,n),drawBorder(e,this,a,s,n),e.restore()}}function setStyle(e,t,i=t){e.lineCap=valueOrDefault(i.borderCapStyle,t.borderCapStyle),e.setLineDash(valueOrDefault(i.borderDash,t.borderDash)),e.lineDashOffset=valueOrDefault(i.borderDashOffset,t.borderDashOffset),e.lineJoin=valueOrDefault(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=valueOrDefault(i.borderWidth,t.borderWidth),e.strokeStyle=valueOrDefault(i.borderColor,t.borderColor)}function lineTo(e,t,i){e.lineTo(i.x,i.y)}function getLineMethod(e){return e.stepped?_steppedLineTo:e.tension||"monotone"===e.cubicInterpolationMode?_bezierCurveTo:lineTo}function pathVars(e,t,i={}){const o=e.length,{start:s=0,end:n=o-1}=i,{start:r,end:a}=t,l=Math.max(s,r),c=Math.min(n,a),d=s<r&&n<r||s>a&&n>a;return{count:o,start:l,loop:t.loop,ilen:c<l&&!d?o+c-l:c-l}}function pathSegment(e,t,i,o){const{points:s,options:n}=t,{count:r,start:a,loop:l,ilen:c}=pathVars(s,i,o),d=getLineMethod(n);let u,h,p,{move:f=!0,reverse:g}=o||{};for(u=0;u<=c;++u)h=s[(a+(g?c-u:u))%r],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):d(e,p,h,g,n.stepped),p=h);return l&&(h=s[(a+(g?c:0))%r],d(e,p,h,g,n.stepped)),!!l}function fastPathSegment(e,t,i,o){const s=t.points,{count:n,start:r,ilen:a}=pathVars(s,i,o),{move:l=!0,reverse:c}=o||{};let d,u,h,p,f,g,m=0,_=0;const b=e=>(r+(c?a-e:e))%n,v=()=>{p!==f&&(e.lineTo(m,f),e.lineTo(m,p),e.lineTo(m,g))};for(l&&(u=s[b(0)],e.moveTo(u.x,u.y)),d=0;d<=a;++d){if(u=s[b(d)],u.skip)continue;const t=u.x,i=u.y,o=0|t;o===h?(i<p?p=i:i>f&&(f=i),m=(_*m+t)/++_):(v(),e.lineTo(t,i),h=o,_=0,p=f=i),g=i}v()}function _getSegmentMethod(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i?pathSegment:fastPathSegment}function _getInterpolationMethod(e){return e.stepped?_steppedInterpolation:e.tension||"monotone"===e.cubicInterpolationMode?_bezierInterpolation:_pointInLine}function strokePathWithCache(e,t,i,o){let s=t._path;s||(s=t._path=new Path2D,t.path(s,i,o)&&s.closePath()),setStyle(e,t.options),e.stroke(s)}function strokePathDirect(e,t,i,o){const{segments:s,options:n}=t,r=_getSegmentMethod(t);for(const a of s)setStyle(e,n,a.style),e.beginPath(),r(e,t,a,{start:i,end:i+o-1})&&e.closePath(),e.stroke()}__publicField(ArcElement,"id","arc"),__publicField(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),__publicField(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),__publicField(ArcElement,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const usePath2D="function"==typeof Path2D;function draw(e,t,i,o){usePath2D&&!t.options.segment?strokePathWithCache(e,t,i,o):strokePathDirect(e,t,i,o)}class LineElement extends Element$1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,i,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,o=e[t],s=this.points,n=_boundSegments(this,{property:t,start:o,end:o});if(!n.length)return;const r=[],a=_getInterpolationMethod(i);let l,c;for(l=0,c=n.length;l<c;++l){const{start:c,end:d}=n[l],u=s[c],h=s[d];if(u===h){r.push(u);continue}const p=a(u,h,Math.abs((o-u[t])/(h[t]-u[t])),i.stepped);p[t]=e[t],r.push(p)}return 1===r.length?r[0]:r}pathSegment(e,t,i){return _getSegmentMethod(this)(e,this,t,i)}path(e,t,i){const o=this.segments,s=_getSegmentMethod(this);let n=this._loop;t=t||0,i=i||this.points.length-t;for(const r of o)n&=s(e,this,r,{start:t,end:t+i-1});return!!n}draw(e,t,i,o){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),draw(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(e,t,i,o){const s=e.options,{[i]:n}=e.getProps([i],o);return Math.abs(t-n)<s.radius+s.hitRadius}__publicField(LineElement,"id","line"),__publicField(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),__publicField(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),__publicField(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class PointElement extends Element$1{constructor(e){super(),__publicField(this,"parsed"),__publicField(this,"skip"),__publicField(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const o=this.options,{x:s,y:n}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-n,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return inRange$1(this,e,"x",t)}inYRange(e,t){return inRange$1(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const i=this.options;this.skip||i.radius<.1||!_isPointInArea(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,drawPoint(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function getBarBounds(e,t){const{x:i,y:o,base:s,width:n,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,u;return e.horizontal?(u=r/2,a=Math.min(i,s),l=Math.max(i,s),c=o-u,d=o+u):(u=n/2,a=i-u,l=i+u,c=Math.min(o,s),d=Math.max(o,s)),{left:a,top:c,right:l,bottom:d}}function skipOrLimit(e,t,i,o){return e?0:_limitValue(t,i,o)}function parseBorderWidth(e,t,i){const o=e.options.borderWidth,s=e.borderSkipped,n=toTRBL(o);return{t:skipOrLimit(s.top,n.top,0,i),r:skipOrLimit(s.right,n.right,0,t),b:skipOrLimit(s.bottom,n.bottom,0,i),l:skipOrLimit(s.left,n.left,0,t)}}function parseBorderRadius(e,t,i){const{enableBorderRadius:o}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,n=toTRBLCorners(s),r=Math.min(t,i),a=e.borderSkipped,l=o||isObject(s);return{topLeft:skipOrLimit(!l||a.top||a.left,n.topLeft,0,r),topRight:skipOrLimit(!l||a.top||a.right,n.topRight,0,r),bottomLeft:skipOrLimit(!l||a.bottom||a.left,n.bottomLeft,0,r),bottomRight:skipOrLimit(!l||a.bottom||a.right,n.bottomRight,0,r)}}function boundingRects(e){const t=getBarBounds(e),i=t.right-t.left,o=t.bottom-t.top,s=parseBorderWidth(e,i/2,o/2),n=parseBorderRadius(e,i/2,o/2);return{outer:{x:t.left,y:t.top,w:i,h:o,radius:n},inner:{x:t.left+s.l,y:t.top+s.t,w:i-s.l-s.r,h:o-s.t-s.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,n.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(s.b,s.r))}}}}function inRange(e,t,i,o){const s=null===t,n=null===i,r=e&&!(s&&n)&&getBarBounds(e,o);return r&&(s||_isBetween(t,r.left,r.right))&&(n||_isBetween(i,r.top,r.bottom))}function hasRadius(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function addNormalRectPath(e,t){e.rect(t.x,t.y,t.w,t.h)}function inflateRect(e,t,i={}){const o=e.x!==i.x?-t:0,s=e.y!==i.y?-t:0,n=(e.x+e.w!==i.x+i.w?t:0)-o,r=(e.y+e.h!==i.y+i.h?t:0)-s;return{x:e.x+o,y:e.y+s,w:e.w+n,h:e.h+r,radius:e.radius}}__publicField(PointElement,"id","point"),__publicField(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),__publicField(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class BarElement extends Element$1{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:o}}=this,{inner:s,outer:n}=boundingRects(this),r=hasRadius(n.radius)?addRoundedRectPath:addNormalRectPath;e.save(),n.w===s.w&&n.h===s.h||(e.beginPath(),r(e,inflateRect(n,t,s)),e.clip(),r(e,inflateRect(s,-t,n)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),r(e,inflateRect(s,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,i){return inRange(this,e,t,i)}inXRange(e,t){return inRange(this,e,null,t)}inYRange(e,t){return inRange(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:o,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+o)/2:t,y:s?i:(i+o)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}__publicField(BarElement,"id","bar"),__publicField(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),__publicField(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement:ArcElement,BarElement:BarElement,LineElement:LineElement,PointElement:PointElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(e){return BORDER_COLORS[e%BORDER_COLORS.length]}function getBackgroundColor(e){return BACKGROUND_COLORS[e%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(e,t){return e.borderColor=getBorderColor(t),e.backgroundColor=getBackgroundColor(t),++t}function colorizeDoughnutDataset(e,t){return e.backgroundColor=e.data.map(()=>getBorderColor(t++)),t}function colorizePolarAreaDataset(e,t){return e.backgroundColor=e.data.map(()=>getBackgroundColor(t++)),t}function getColorizer(e){let t=0;return(i,o)=>{const s=e.getDatasetMeta(o).controller;s instanceof DoughnutController?t=colorizeDoughnutDataset(i,t):s instanceof PolarAreaController?t=colorizePolarAreaDataset(i,t):s&&(t=colorizeDefaultDataset(i,t))}}function containsColorsDefinitions(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function containsColorsDefinition(e){return e&&(e.borderColor||e.backgroundColor)}function containsDefaultColorsDefenitions(){return"rgba(0,0,0,0.1)"!==defaults.borderColor||"rgba(0,0,0,0.1)"!==defaults.backgroundColor}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;const{data:{datasets:o},options:s}=e.config,{elements:n}=s,r=containsColorsDefinitions(o)||containsColorsDefinition(s)||n&&containsColorsDefinitions(n)||containsDefaultColorsDefenitions();if(!i.forceOverride&&r)return;const a=getColorizer(e);o.forEach(a)}};function lttbDecimation(e,t,i,o,s){const n=s.samples||o;if(n>=i)return e.slice(t,t+i);const r=[],a=(i-2)/(n-2);let l=0;const c=t+i-1;let d,u,h,p,f,g=t;for(r[l++]=e[g],d=0;d<n-2;d++){let o,s=0,n=0;const c=Math.floor((d+1)*a)+1+t,m=Math.min(Math.floor((d+2)*a)+1,i)+t,_=m-c;for(o=c;o<m;o++)s+=e[o].x,n+=e[o].y;s/=_,n/=_;const b=Math.floor(d*a)+1+t,v=Math.min(Math.floor((d+1)*a)+1,i)+t,{x:y,y:w}=e[g];for(h=p=-1,o=b;o<v;o++)p=.5*Math.abs((y-s)*(e[o].y-w)-(y-e[o].x)*(n-w)),p>h&&(h=p,u=e[o],f=o);r[l++]=u,g=f}return r[l++]=e[c],r}function minMaxDecimation(e,t,i,o){let s,n,r,a,l,c,d,u,h,p,f=0,g=0;const m=[],_=t+i-1,b=e[t].x,v=e[_].x-b;for(s=t;s<t+i;++s){n=e[s],r=(n.x-b)/v*o,a=n.y;const t=0|r;if(t===l)a<h?(h=a,c=s):a>p&&(p=a,d=s),f=(g*f+n.x)/++g;else{const i=s-1;if(!isNullOrUndef(c)&&!isNullOrUndef(d)){const t=Math.min(c,d),o=Math.max(c,d);t!==u&&t!==i&&m.push(__spreadProps(__spreadValues({},e[t]),{x:f})),o!==u&&o!==i&&m.push(__spreadProps(__spreadValues({},e[o]),{x:f}))}s>0&&i!==u&&m.push(e[i]),m.push(n),l=t,g=0,h=p=a,c=d=u=s}}return m}function cleanDecimatedDataset(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function cleanDecimatedData(e){e.data.datasets.forEach(e=>{cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(e,t){const i=t.length;let o,s=0;const{iScale:n}=e,{min:r,max:a,minDefined:l,maxDefined:c}=n.getUserBounds();return l&&(s=_limitValue(_lookupByKey(t,n.axis,r).lo,0,i-1)),o=c?_limitValue(_lookupByKey(t,n.axis,a).hi+1,s,i)-s:i-s,{start:s,count:o}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled)return cleanDecimatedData(e),void 0;const o=e.width;e.data.datasets.forEach((t,s)=>{const{_data:n,indexAxis:r}=t,a=e.getDatasetMeta(s),l=n||t.data;if("y"===resolve([r,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=e.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let d,{start:u,count:h}=getStartAndCountOfVisiblePointsSimplified(a,l);if(h<=(i.threshold||4*o))return cleanDecimatedDataset(t),void 0;switch(isNullOrUndef(n)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),i.algorithm){case"lttb":d=lttbDecimation(l,u,h,o,i);break;case"min-max":d=minMaxDecimation(l,u,h,o);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}t._decimated=d})},destroy(e){cleanDecimatedData(e)}};function _segments(e,t,i){const o=e.segments,s=e.points,n=t.points,r=[];for(const a of o){let{start:e,end:o}=a;o=_findSegmentEnd(e,o,s);const l=_getBounds(i,s[e],s[o],a.loop);if(!t.segments){r.push({source:a,target:l,start:s[e],end:s[o]});continue}const c=_boundSegments(t,l);for(const t of c){const e=_getBounds(i,n[t.start],n[t.end],t.loop),o=_boundSegment(a,s,e);for(const s of o)r.push({source:s,target:t,start:{[i]:_getEdge(l,e,"start",Math.max)},end:{[i]:_getEdge(l,e,"end",Math.min)}})}}return r}function _getBounds(e,t,i,o){if(o)return;let s=t[e],n=i[e];return"angle"===e&&(s=_normalizeAngle(s),n=_normalizeAngle(n)),{property:e,start:s,end:n}}function _pointsFromSegments(e,t){const{x:i=null,y:o=null}=e||{},s=t.points,n=[];return t.segments.forEach(({start:e,end:t})=>{t=_findSegmentEnd(e,t,s);const r=s[e],a=s[t];null!==o?(n.push({x:r.x,y:o}),n.push({x:a.x,y:o})):null!==i&&(n.push({x:i,y:r.y}),n.push({x:i,y:a.y}))}),n}function _findSegmentEnd(e,t,i){for(;t>e;t--){const e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function _getEdge(e,t,i,o){return e&&t?o(e[i],t[i]):e?e[i]:t?t[i]:0}function _createBoundaryLine(e,t){let i=[],o=!1;return isArray(e)?(o=!0,i=e):i=_pointsFromSegments(e,t),i.length?new LineElement({points:i,options:{tension:0},_loop:o,_fullLoop:o}):null}function _shouldApplyFill(e){return e&&!1!==e.fill}function _resolveTarget(e,t,i){let o=e[t].fill;const s=[t];let n;if(!i)return o;for(;!1!==o&&-1===s.indexOf(o);){if(!isNumberFinite(o))return o;if(n=e[o],!n)return!1;if(n.visible)return o;s.push(o),o=n.fill}return!1}function _decodeFill(e,t,i){const o=parseFillOption(e);if(isObject(o))return!isNaN(o.value)&&o;let s=parseFloat(o);return isNumberFinite(s)&&Math.floor(s)===s?decodeTargetIndex(o[0],t,s,i):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(e,t,i,o){return"-"!==e&&"+"!==e||(i=t+i),!(i===t||i<0||i>=o)&&i}function _getTargetPixel(e,t){let i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:isObject(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function _getTargetValue(e,t,i){let o;return o="start"===e?i:"end"===e?t.options.reverse?t.min:t.max:isObject(e)?e.value:t.getBaseValue(),o}function parseFillOption(e){const t=e.options,i=t.fill;let o=valueOrDefault(i&&i.target,i);return void 0===o&&(o=!!t.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}function _buildStackLine(e){const{scale:t,index:i,line:o}=e,s=[],n=o.segments,r=o.points,a=getLinesBelow(t,i);a.push(_createBoundaryLine({x:null,y:t.bottom},o));for(let l=0;l<n.length;l++){const e=n[l];for(let t=e.start;t<=e.end;t++)addPointsBelow(s,r[t],a)}return new LineElement({points:s,options:{}})}function getLinesBelow(e,t){const i=[],o=e.getMatchingVisibleMetas("line");for(let s=0;s<o.length;s++){const e=o[s];if(e.index===t)break;e.hidden||i.unshift(e.dataset)}return i}function addPointsBelow(e,t,i){const o=[];for(let s=0;s<i.length;s++){const n=i[s],{first:r,last:a,point:l}=findPoint(n,t,"x");if(!(!l||r&&a))if(r)o.unshift(l);else if(e.push(l),!a)break}e.push(...o)}function findPoint(e,t,i){const o=e.interpolate(t,i);if(!o)return{};const s=o[i],n=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<n.length;c++){const e=n[c],t=r[e.start][i],o=r[e.end][i];if(_isBetween(s,t,o)){a=s===t,l=s===o;break}}return{first:a,last:l,point:o}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:o,y:s,radius:n}=this;return t=t||{start:0,end:TAU},e.arc(o,s,n,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:o}=this,s=e.angle;return{x:t+Math.cos(s)*o,y:i+Math.sin(s)*o,angle:s}}}function _getTarget(e){const{chart:t,fill:i,line:o}=e;if(isNumberFinite(i))return getLineByIndex(t,i);if("stack"===i)return _buildStackLine(e);if("shape"===i)return!0;const s=computeBoundary(e);return s instanceof simpleArc?s:_createBoundaryLine(s,o)}function getLineByIndex(e,t){const i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function computeBoundary(e){return(e.scale||{}).getPointPositionForValue?computeCircularBoundary(e):computeLinearBoundary(e)}function computeLinearBoundary(e){const{scale:t={},fill:i}=e,o=_getTargetPixel(i,t);if(isNumberFinite(o)){const e=t.isHorizontal();return{x:e?o:null,y:e?null:o}}return null}function computeCircularBoundary(e){const{scale:t,fill:i}=e,o=t.options,s=t.getLabels().length,n=o.reverse?t.max:t.min,r=_getTargetValue(i,t,n),a=[];if(o.grid.circular){const e=t.getPointPositionForValue(0,n);return new simpleArc({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,r));return a}function _drawfill(e,t,i){const o=_getTarget(t),{chart:s,index:n,line:r,scale:a,axis:l}=t,c=r.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:p=u}=d||{},f=s.getDatasetMeta(n),g=getDatasetClipArea(s,f);o&&r.points.length&&(clipArea(e,i),doFill(e,{line:r,target:o,above:h,below:p,area:i,scale:a,axis:l,clip:g}),unclipArea(e))}function doFill(e,t){const{line:i,target:o,above:s,below:n,area:r,scale:a,clip:l}=t,c=i._loop?"angle":t.axis;e.save();let d=n;n!==s&&("x"===c?(clipVertical(e,o,r.top),fill(e,{line:i,target:o,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),clipVertical(e,o,r.bottom)):"y"===c&&(clipHorizontal(e,o,r.left),fill(e,{line:i,target:o,color:n,scale:a,property:c,clip:l}),e.restore(),e.save(),clipHorizontal(e,o,r.right),d=s)),fill(e,{line:i,target:o,color:d,scale:a,property:c,clip:l}),e.restore()}function clipVertical(e,t,i){const{segments:o,points:s}=t;let n=!0,r=!1;e.beginPath();for(const a of o){const{start:o,end:l}=a,c=s[o],d=s[_findSegmentEnd(o,l,s)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(c.x,i),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(d.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function clipHorizontal(e,t,i){const{segments:o,points:s}=t;let n=!0,r=!1;e.beginPath();for(const a of o){const{start:o,end:l}=a,c=s[o],d=s[_findSegmentEnd(o,l,s)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(i,c.y),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(i,d.y)}e.lineTo(i,t.first().y),e.closePath(),e.clip()}function fill(e,t){const{line:i,target:o,property:s,color:n,scale:r,clip:a}=t,l=_segments(i,o,s);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=n}={}}=c,l=!0!==o;e.save(),e.fillStyle=t,clipBounds(e,r,a,l&&_getBounds(s,u,h)),e.beginPath();const p=!!i.pathSegment(e,c);let f;if(l){p?e.closePath():interpolatedLineTo(e,o,h,s);const t=!!o.pathSegment(e,d,{move:p,reverse:!0});f=p&&t,f||interpolatedLineTo(e,o,u,s)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function clipBounds(e,t,i,o){const s=t.chart.chartArea,{property:n,start:r,end:a}=o||{};if("x"===n||"y"===n){let t,o,l,c;"x"===n?(t=r,o=s.top,l=a,c=s.bottom):(t=s.left,o=r,l=s.right,c=a),e.beginPath(),i&&(t=Math.max(t,i.left),l=Math.min(l,i.right),o=Math.max(o,i.top),c=Math.min(c,i.bottom)),e.rect(t,o,l-t,c-o),e.clip()}}function interpolatedLineTo(e,t,i,o){const s=t.interpolate(i,o);s&&e.lineTo(s.x,s.y)}var index={id:"filler",afterDatasetsUpdate(e,t,i){const o=(e.data.datasets||[]).length,s=[];let n,r,a,l;for(r=0;r<o;++r)n=e.getDatasetMeta(r),a=n.dataset,l=null,a&&a.options&&a instanceof LineElement&&(l={visible:e.isDatasetVisible(r),index:r,fill:_decodeFill(a,r,o),chart:e,axis:n.controller.options.indexAxis,scale:n.vScale,line:a}),n.$filler=l,s.push(l);for(r=0;r<o;++r)l=s[r],l&&!1!==l.fill&&(l.fill=_resolveTarget(s,r,i.propagate))},beforeDraw(e,t,i){const o="beforeDraw"===i.drawTime,s=e.getSortedVisibleDatasetMetas(),n=e.chartArea;for(let r=s.length-1;r>=0;--r){const t=s[r].$filler;t&&(t.line.updateControlPoints(n,t.axis),o&&t.fill&&_drawfill(e.ctx,t,n))}},beforeDatasetsDraw(e,t,i){if("beforeDatasetsDraw"!==i.drawTime)return;const o=e.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s){const t=o[s].$filler;_shouldApplyFill(t)&&_drawfill(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,i){const o=t.meta.$filler;_shouldApplyFill(o)&&"beforeDatasetDraw"===i.drawTime&&_drawfill(e.ctx,o,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(e,t)=>{let{boxHeight:i=t,boxWidth:o=t}=e;return e.usePointStyle&&(i=Math.min(i,t),o=e.pointStyleWidth||Math.min(o,t)),{boxWidth:o,boxHeight:i,itemHeight:Math.max(t,i)}},itemsEqual=(e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,i)=>e.sort(t,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return this.width=this.height=0,void 0;const i=e.labels,o=toFont(i.font),s=o.size,n=this._computeTitleHeight(),{boxWidth:r,itemHeight:a}=getBoxSize(i,s);let l,c;t.font=o.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(n,s,r,a)+10):(c=this.maxHeight,l=this._fitCols(n,o,r,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,o){const{ctx:s,maxWidth:n,options:{labels:{padding:r}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=o+r;let d=e;s.textAlign="left",s.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,p)=>{const f=i+t/2+s.measureText(e.text).width;(0===p||l[l.length-1]+f+2*r>n)&&(d+=c,l[l.length-(p>0?0:1)]=0,h+=c,u++),a[p]={left:0,top:h,row:u,width:f,height:o},l[l.length-1]+=f+r}),d}_fitCols(e,t,i,o){const{ctx:s,maxHeight:n,options:{labels:{padding:r}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=n-e;let d=r,u=0,h=0,p=0,f=0;return this.legendItems.forEach((e,n)=>{const{itemWidth:g,itemHeight:m}=calculateItemSize(i,t,s,e,o);n>0&&h+m+2*r>c&&(d+=u+r,l.push({width:u,height:h}),p+=u+r,f++,u=h=0),a[n]={left:p,top:h,col:f,width:g,height:m},u=Math.max(u,g),h+=m+r}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:o},rtl:s}}=this,n=getRtlAdapter(s,this.left,this.width);if(this.isHorizontal()){let s=0,r=_alignStartEnd(i,this.left+o,this.right-this.lineWidths[s]);for(const a of t)s!==a.row&&(s=a.row,r=_alignStartEnd(i,this.left+o,this.right-this.lineWidths[s])),a.top+=this.top+e+o,a.left=n.leftForLtr(n.x(r),a.width),r+=a.width+o}else{let s=0,r=_alignStartEnd(i,this.top+e+o,this.bottom-this.columnSizes[s].height);for(const a of t)a.col!==s&&(s=a.col,r=_alignStartEnd(i,this.top+e+o,this.bottom-this.columnSizes[s].height)),a.top=r,a.left+=this.left+o,a.left=n.leftForLtr(n.x(a.left),a.width),r+=a.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:o}=this,{align:s,labels:n}=e,r=defaults.color,a=getRtlAdapter(e.rtl,this.left,this.width),l=toFont(n.font),{padding:c}=n,d=l.size,u=d/2;let h;this.drawTitle(),o.textAlign=a.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:g}=getBoxSize(n,d),m=this.isHorizontal(),_=this._computeTitleHeight();h=m?{x:_alignStartEnd(s,this.left+c,this.right-i[0]),y:this.top+c+_,line:0}:{x:this.left+c,y:_alignStartEnd(s,this.top+_+c,this.bottom-t[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach((v,y)=>{o.strokeStyle=v.fontColor,o.fillStyle=v.fontColor;const w=o.measureText(v.text).width,x=a.textAlign(v.textAlign||(v.textAlign=n.textAlign)),S=p+u+w;let $=h.x,k=h.y;if(a.setWidth(this.width),m?y>0&&$+S+c>this.right&&(k=h.y+=b,h.line++,$=h.x=_alignStartEnd(s,this.left+c,this.right-i[h.line])):y>0&&k+b>this.bottom&&($=h.x=$+t[h.line].width+c,h.line++,k=h.y=_alignStartEnd(s,this.top+_+c,this.bottom-t[h.line].height)),!function(e,t,i){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;o.save();const s=valueOrDefault(i.lineWidth,1);if(o.fillStyle=valueOrDefault(i.fillStyle,r),o.lineCap=valueOrDefault(i.lineCap,"butt"),o.lineDashOffset=valueOrDefault(i.lineDashOffset,0),o.lineJoin=valueOrDefault(i.lineJoin,"miter"),o.lineWidth=s,o.strokeStyle=valueOrDefault(i.strokeStyle,r),o.setLineDash(valueOrDefault(i.lineDash,[])),n.usePointStyle){const r={radius:f*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:s},l=a.xPlus(e,p/2);drawPointLegend(o,r,l,t+u,n.pointStyleWidth&&p)}else{const n=t+Math.max((d-f)/2,0),r=a.leftForLtr(e,p),l=toTRBLCorners(i.borderRadius);o.beginPath(),Object.values(l).some(e=>0!==e)?addRoundedRectPath(o,{x:r,y:n,w:p,h:f,radius:l}):o.rect(r,n,p,f),o.fill(),0!==s&&o.stroke()}o.restore()}(a.x($),k,v),$=_textX(x,$+p+u,m?$+S:this.right,e.rtl),function(e,t,i){renderText(o,i.text,e,t+g/2,l,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x($),k,v),m)h.x+=S+c;else if("string"!=typeof v.text){const e=l.lineHeight;h.y+=calculateLegendItemHeight(v,e)+c}else h.y+=b}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=toFont(t.font),o=toPadding(t.padding);if(!t.display)return;const s=getRtlAdapter(e.rtl,this.left,this.width),n=this.ctx,r=t.position,a=i.size/2,l=o.top+a;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=_alignStartEnd(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+_alignStartEnd(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=_alignStartEnd(r,d,d+u);n.textAlign=s.textAlign(_toLeftRightCenter(r)),n.textBaseline="middle",n.strokeStyle=t.color,n.fillStyle=t.color,n.font=i.string,renderText(n,t.text,h,c,i)}_computeTitleHeight(){const e=this.options.title,t=toFont(e.font),i=toPadding(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,o,s;if(_isBetween(e,this.left,this.right)&&_isBetween(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(o=s[i],_isBetween(e,o.left,o.left+o.width)&&_isBetween(t,o.top,o.top+o.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!isListened(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const o=this._hoveredItem,s=itemsEqual(o,i);o&&!s&&callback(t.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!s&&callback(t.onHover,[e,i,this],this)}else i&&callback(t.onClick,[e,i,this],this)}}function calculateItemSize(e,t,i,o,s){return{itemWidth:calculateItemWidth(o,e,t,i),itemHeight:calculateItemHeight(s,o,t.lineHeight)}}function calculateItemWidth(e,t,i,o){let s=e.text;return s&&"string"!=typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t)),t+i.size/2+o.measureText(s).width}function calculateItemHeight(e,t,i){let o=e;return"string"!=typeof t.text&&(o=calculateLegendItemHeight(t,i)),o}function calculateLegendItemHeight(e,t){return t*(e.text?e.text.length:0)}function isListened(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}var plugin_legend={id:"legend",_element:Legend,start(e,t,i){const o=e.legend=new Legend({ctx:e.ctx,options:i,chart:e});layouts.configure(e,o,i),layouts.addBox(e,o)},stop(e){layouts.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const o=e.legend;layouts.configure(e,o,i),o.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const o=t.datasetIndex,s=i.chart;s.isDatasetVisible(o)?(s.hide(o),t.hidden=!0):(s.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:o,textAlign:s,color:n,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(i?0:void 0),c=toPadding(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:o||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:r&&(a||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return this.width=this.height=this.right=this.bottom=0,void 0;this.width=this.right=e,this.height=this.bottom=t;const o=isArray(i.text)?i.text.length:1;this._padding=toPadding(i.padding);const s=o*toFont(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:o,right:s,options:n}=this,r=n.align;let a,l,c,d=0;return this.isHorizontal()?(l=_alignStartEnd(r,i,s),c=t+e,a=s-i):("left"===n.position?(l=i+e,c=_alignStartEnd(r,o,t),d=-.5*PI):(l=s-e,c=_alignStartEnd(r,t,o),d=.5*PI),a=o-t),{titleX:l,titleY:c,maxWidth:a,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=toFont(t.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:n,maxWidth:r,rotation:a}=this._drawArgs(o);renderText(e,t.text,0,0,i,{color:t.color,maxWidth:r,rotation:a,textAlign:_toLeftRightCenter(t.align),textBaseline:"middle",translation:[s,n]})}}function createTitle(e,t){const i=new Title({ctx:e.ctx,options:t,chart:e});layouts.configure(e,i,t),layouts.addBox(e,i),e.titleBlock=i}var plugin_title={id:"title",_element:Title,start(e,t,i){createTitle(e,i)},stop(e){const t=e.titleBlock;layouts.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const o=e.titleBlock;layouts.configure(e,o,i),o.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(e,t,i){const o=new Title({ctx:e.ctx,options:i,chart:e});layouts.configure(e,o,i),layouts.addBox(e,o),map.set(e,o)},stop(e){layouts.removeBox(e,map.get(e)),map.delete(e)},beforeUpdate(e,t,i){const o=map.get(e);layouts.configure(e,o,i),o.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(e){if(!e.length)return!1;let t,i,o=new Set,s=0,n=0;for(t=0,i=e.length;t<i;++t){const i=e[t].element;if(i&&i.hasValue()){const e=i.tooltipPosition();o.add(e.x),s+=e.y,++n}}return 0!==n&&0!==o.size&&{x:[...o].reduce((e,t)=>e+t)/o.size,y:s/n}},nearest(e,t){if(!e.length)return!1;let i,o,s,n=t.x,r=t.y,a=Number.POSITIVE_INFINITY;for(i=0,o=e.length;i<o;++i){const o=e[i].element;if(o&&o.hasValue()){const e=distanceBetweenPoints(t,o.getCenterPoint());e<a&&(a=e,s=o)}}if(s){const e=s.tooltipPosition();n=e.x,r=e.y}return{x:n,y:r}}};function pushOrConcat(e,t){return t&&(isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function splitNewlines(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function createTooltipItem(e,t){const{element:i,datasetIndex:o,index:s}=t,n=e.getDatasetMeta(o).controller,{label:r,value:a}=n.getLabelAndValue(s);return{chart:e,label:r,parsed:n.getParsed(s),raw:e.data.datasets[o].data[s],formattedValue:a,dataset:n.getDataset(),dataIndex:s,datasetIndex:o,element:i}}function getTooltipSize(e,t){const i=e.chart.ctx,{body:o,footer:s,title:n}=e,{boxWidth:r,boxHeight:a}=t,l=toFont(t.bodyFont),c=toFont(t.titleFont),d=toFont(t.footerFont),u=n.length,h=s.length,p=o.length,f=toPadding(t.padding);let g=f.height,m=0,_=o.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);_+=e.beforeBody.length+e.afterBody.length,u&&(g+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),_&&(g+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(_-p)*l.lineHeight+(_-1)*t.bodySpacing),h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){m=Math.max(m,i.measureText(e).width+b)};return i.save(),i.font=c.string,each(e.title,v),i.font=l.string,each(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?r+2+t.boxPadding:0,each(o,e=>{each(e.before,v),each(e.lines,v),each(e.after,v)}),b=0,i.font=d.string,each(e.footer,v),i.restore(),m+=f.width,{width:m,height:g}}function determineYAlign(e,t){const{y:i,height:o}=t;return i<o/2?"top":i>e.height-o/2?"bottom":"center"}function doesNotFitWithAlign(e,t,i,o){const{x:s,width:n}=o,r=i.caretSize+i.caretPadding;return"left"===e&&s+n+r>t.width||"right"===e&&s-n-r<0||void 0}function determineXAlign(e,t,i,o){const{x:s,width:n}=i,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return"center"===o?c=s<=(a+l)/2?"left":"right":s<=n/2?c="left":s>=r-n/2&&(c="right"),doesNotFitWithAlign(c,e,t,i)&&(c="center"),c}function determineAlignment(e,t,i){const o=i.yAlign||t.yAlign||determineYAlign(e,i);return{xAlign:i.xAlign||t.xAlign||determineXAlign(e,t,i,o),yAlign:o}}function alignX(e,t){let{x:i,width:o}=e;return"right"===t?i-=o:"center"===t&&(i-=o/2),i}function alignY(e,t,i){let{y:o,height:s}=e;return"top"===t?o+=i:o-="bottom"===t?s+i:s/2,o}function getBackgroundPoint(e,t,i,o){const{caretSize:s,caretPadding:n,cornerRadius:r}=e,{xAlign:a,yAlign:l}=i,c=s+n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=toTRBLCorners(r);let f=alignX(t,a);const g=alignY(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(d,h)+s:"right"===a&&(f+=Math.max(u,p)+s),{x:_limitValue(f,0,o.width-t.width),y:_limitValue(g,0,o.height-t.height)}}function getAlignedX(e,t,i){const o=toPadding(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-o.right:e.x+o.left}function getBeforeAfterBodyLines(e){return pushOrConcat([],splitNewlines(e))}function createTooltipContext(e,t,i){return createContext(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function overrideCallbacks(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const defaultCallbacks={beforeTitle:noop,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,o=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return i[t.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return isNullOrUndef(i)||(t+=i),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(e,t,i,o){const s=e[t].call(i,o);return void 0===s?defaultCallbacks[t].call(i,o):s}class Tooltip extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&t.options.animation&&i.animations,s=new Animations(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,o=invokeCallbackWithFallback(i,"beforeTitle",this,e),s=invokeCallbackWithFallback(i,"title",this,e),n=invokeCallbackWithFallback(i,"afterTitle",this,e);let r=[];return r=pushOrConcat(r,splitNewlines(o)),r=pushOrConcat(r,splitNewlines(s)),r=pushOrConcat(r,splitNewlines(n)),r}getBeforeBody(e,t){return getBeforeAfterBodyLines(invokeCallbackWithFallback(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,o=[];return each(e,e=>{const t={before:[],lines:[],after:[]},s=overrideCallbacks(i,e);pushOrConcat(t.before,splitNewlines(invokeCallbackWithFallback(s,"beforeLabel",this,e))),pushOrConcat(t.lines,invokeCallbackWithFallback(s,"label",this,e)),pushOrConcat(t.after,splitNewlines(invokeCallbackWithFallback(s,"afterLabel",this,e))),o.push(t)}),o}getAfterBody(e,t){return getBeforeAfterBodyLines(invokeCallbackWithFallback(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,o=invokeCallbackWithFallback(i,"beforeFooter",this,e),s=invokeCallbackWithFallback(i,"footer",this,e),n=invokeCallbackWithFallback(i,"afterFooter",this,e);let r=[];return r=pushOrConcat(r,splitNewlines(o)),r=pushOrConcat(r,splitNewlines(s)),r=pushOrConcat(r,splitNewlines(n)),r}_createItems(e){const t=this._active,i=this.chart.data,o=[],s=[],n=[];let r,a,l=[];for(r=0,a=t.length;r<a;++r)l.push(createTooltipItem(this.chart,t[r]));return e.filter&&(l=l.filter((t,o,s)=>e.filter(t,o,s,i))),e.itemSort&&(l=l.sort((t,o)=>e.itemSort(t,o,i))),each(l,t=>{const i=overrideCallbacks(e.callbacks,t);o.push(invokeCallbackWithFallback(i,"labelColor",this,t)),s.push(invokeCallbackWithFallback(i,"labelPointStyle",this,t)),n.push(invokeCallbackWithFallback(i,"labelTextColor",this,t))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=n,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),o=this._active;let s,n=[];if(o.length){const e=positioners[i.position].call(this,o,this._eventPosition);n=this._createItems(i),this.title=this.getTitle(n,i),this.beforeBody=this.getBeforeBody(n,i),this.body=this.getBody(n,i),this.afterBody=this.getAfterBody(n,i),this.footer=this.getFooter(n,i);const t=this._size=getTooltipSize(this,i),r=Object.assign({},e,t),a=determineAlignment(this.chart,i,r),l=getBackgroundPoint(i,r,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=n,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,o){const s=this.getCaretPosition(e,i,o);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:o,yAlign:s}=this,{caretSize:n,cornerRadius:r}=i,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:d}=toTRBLCorners(r),{x:u,y:h}=e,{width:p,height:f}=t;let g,m,_,b,v,y;return"center"===s?(v=h+f/2,"left"===o?(g=u,m=g-n,b=v+n,y=v-n):(g=u+p,m=g+n,b=v-n,y=v+n),_=g):(m="left"===o?u+Math.max(a,c)+n:"right"===o?u+p-Math.max(l,d)-n:this.caretX,"top"===s?(b=h,v=b-n,g=m-n,_=m+n):(b=h+f,v=b+n,g=m+n,_=m-n),y=b),{x1:g,x2:m,x3:_,y1:b,y2:v,y3:y}}drawTitle(e,t,i){const o=this.title,s=o.length;let n,r,a;if(s){const l=getRtlAdapter(i.rtl,this.x,this.width);for(e.x=getAlignedX(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",n=toFont(i.titleFont),r=i.titleSpacing,t.fillStyle=i.titleColor,t.font=n.string,a=0;a<s;++a)t.fillText(o[a],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+r,a+1===s&&(e.y+=i.titleMarginBottom-r)}}_drawColorBox(e,t,i,o,s){const n=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:a,boxWidth:l}=s,c=toFont(s.bodyFont),d=getAlignedX(this,"left",s),u=o.x(d),h=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=o.leftForLtr(u,l)+l/2,c=p+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,drawPoint(e,t,i,c),e.strokeStyle=n.borderColor,e.fillStyle=n.backgroundColor,drawPoint(e,t,i,c)}else{e.lineWidth=isObject(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,e.strokeStyle=n.borderColor,e.setLineDash(n.borderDash||[]),e.lineDashOffset=n.borderDashOffset||0;const t=o.leftForLtr(u,l),i=o.leftForLtr(o.xPlus(u,1),l-2),r=toTRBLCorners(n.borderRadius);Object.values(r).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,addRoundedRectPath(e,{x:t,y:p,w:l,h:a,radius:r}),e.fill(),e.stroke(),e.fillStyle=n.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:i,y:p+1,w:l-2,h:a-2,radius:r}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=n.backgroundColor,e.fillRect(i,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:o}=this,{bodySpacing:s,bodyAlign:n,displayColors:r,boxHeight:a,boxWidth:l,boxPadding:c}=i,d=toFont(i.bodyFont);let u=d.lineHeight,h=0;const p=getRtlAdapter(i.rtl,this.x,this.width),f=function(i){t.fillText(i,p.x(e.x+h),e.y+u/2),e.y+=u+s},g=p.textAlign(n);let m,_,b,v,y,w,x;for(t.textAlign=n,t.textBaseline="middle",t.font=d.string,e.x=getAlignedX(this,g,i),t.fillStyle=i.bodyColor,each(this.beforeBody,f),h=r&&"right"!==g?"center"===n?l/2+c:l+2+c:0,v=0,w=o.length;v<w;++v){for(m=o[v],_=this.labelTextColors[v],t.fillStyle=_,each(m.before,f),b=m.lines,r&&b.length&&(this._drawColorBox(t,e,v,p,i),u=Math.max(d.lineHeight,a)),y=0,x=b.length;y<x;++y)f(b[y]),u=d.lineHeight;each(m.after,f)}h=0,u=d.lineHeight,each(this.afterBody,f),e.y-=s}drawFooter(e,t,i){const o=this.footer,s=o.length;let n,r;if(s){const a=getRtlAdapter(i.rtl,this.x,this.width);for(e.x=getAlignedX(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",n=toFont(i.footerFont),t.fillStyle=i.footerColor,t.font=n.string,r=0;r<s;++r)t.fillText(o[r],a.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+i.footerSpacing}}drawBackground(e,t,i,o){const{xAlign:s,yAlign:n}=this,{x:r,y:a}=e,{width:l,height:c}=i,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=toTRBLCorners(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(r+d,a),"top"===n&&this.drawCaret(e,t,i,o),t.lineTo(r+l-u,a),t.quadraticCurveTo(r+l,a,r+l,a+u),"center"===n&&"right"===s&&this.drawCaret(e,t,i,o),t.lineTo(r+l,a+c-p),t.quadraticCurveTo(r+l,a+c,r+l-p,a+c),"bottom"===n&&this.drawCaret(e,t,i,o),t.lineTo(r+h,a+c),t.quadraticCurveTo(r,a+c,r,a+c-h),"center"===n&&"left"===s&&this.drawCaret(e,t,i,o),t.lineTo(r,a+d),t.quadraticCurveTo(r,a,r+d,a),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){const i=positioners[e.position].call(this,this._active,this._eventPosition);if(!i)return;const n=this._size=getTooltipSize(this,e),r=Object.assign({},i,this._size),a=determineAlignment(t,e,r),l=getBackgroundPoint(e,r,a,t);o._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=n.width,this.height=n.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const n=toPadding(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,t),overrideTextDirection(e,t.textDirection),s.y+=n.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),restoreTextDirection(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,o=e.map(({datasetIndex:e,index:t})=>{const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}),s=!_elementsEqual(i,o),n=this._positionChanged(o,t);(s||n)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],n=this._getActiveElements(e,s,t,i),r=this._positionChanged(n,e),a=t||!_elementsEqual(n,s)||r;return a&&(this._active=n,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const n=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&n.reverse(),n}_positionChanged(e,t){const{caretX:i,caretY:o,options:s}=this,n=positioners[s.position].call(this,e,t);return!1!==n&&(i!==n.x||o!==n.y)}}__publicField(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners,afterInit(e,t,i){i&&(e.tooltip=new Tooltip({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",__spreadProps(__spreadValues({},i),{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(e,t,i,o)=>("string"==typeof t?(i=e.push(t)-1,o.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function findOrAddLabel(e,t,i,o){const s=e.indexOf(t);return-1===s?addIfString(e,t,i,o):s!==e.lastIndexOf(t)?i:s}const validIndex=(e,t)=>null===e?null:_limitValue(Math.round(e),0,t);function _getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:i,label:o}of t)e[i]===o&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(isNullOrUndef(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:findOrAddLabel(i,e,valueOrDefault(t,e),this._addedLabels),validIndex(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,o=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let n=e;n<=t;n++)o.push({value:n});return o}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(e,t){const i=[],{bounds:o,step:s,min:n,max:r,precision:a,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=s||1,p=c-1,{min:f,max:g}=t,m=!isNullOrUndef(n),_=!isNullOrUndef(r),b=!isNullOrUndef(l),v=(g-f)/(d+1);let y,w,x,S,$=niceNum((g-f)/p/h)*h;if($<1e-14&&!m&&!_)return[{value:f},{value:g}];S=Math.ceil(g/$)-Math.floor(f/$),S>p&&($=niceNum(S*$/p/h)*h),isNullOrUndef(a)||(y=Math.pow(10,a),$=Math.ceil($*y)/y),"ticks"===o?(w=Math.floor(f/$)*$,x=Math.ceil(g/$)*$):(w=f,x=g),m&&_&&s&&almostWhole((r-n)/s,$/1e3)?(S=Math.round(Math.min((r-n)/$,c)),$=(r-n)/S,w=n,x=r):b?(w=m?n:w,x=_?r:x,S=l-1,$=(x-w)/S):(S=(x-w)/$,S=almostEquals(S,Math.round(S),$/1e3)?Math.round(S):Math.ceil(S));const k=Math.max(_decimalPlaces($),_decimalPlaces(w));y=Math.pow(10,isNullOrUndef(a)?k:a),w=Math.round(w*y)/y,x=Math.round(x*y)/y;let C=0;for(m&&(u&&w!==n?(i.push({value:n}),w<n&&C++,almostEquals(Math.round((w+C*$)*y)/y,n,relativeLabelSize(n,v,e))&&C++):w<n&&C++);C<S;++C){const e=Math.round((w+C*$)*y)/y;if(_&&e>r)break;i.push({value:e})}return _&&u&&x!==r?i.length&&almostEquals(i[i.length-1].value,r,relativeLabelSize(r,v,e))?i[i.length-1].value=r:i.push({value:r}):_&&x!==r||i.push({value:x}),i}function relativeLabelSize(e,t,{horizontal:i,minRotation:o}){const s=toRadians(o),n=(i?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+e).length;return Math.min(t/n,r)}__publicField(CategoryScale,"id","category"),__publicField(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return isNullOrUndef(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:o,max:s}=this;const n=e=>o=t?o:e,r=e=>s=i?s:e;if(e){const e=sign(o),t=sign(s);e<0&&t<0?r(0):e>0&&t>0&&n(0)}if(o===s){let t=0===s?1:Math.abs(.05*s);r(s+t),e||n(o-t)}this.min=o,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:i,stepSize:o}=e;return o?(t=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=generateTicks$1({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&_setMinAndMaxByKey(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-t)/Math.max(e.length-1,1)/2;t-=o,i+=o}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=toRadians(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/o))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}__publicField(LinearScale,"id","linear"),__publicField(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=e=>Math.floor(log10(e)),changeExponent=(e,t)=>Math.pow(10,log10Floor(e)+t);function isMajor(e){return 1===e/Math.pow(10,log10Floor(e))}function steps(e,t,i){const o=Math.pow(10,i),s=Math.floor(e/o);return Math.ceil(t/o)-s}function startExp(e,t){let i=log10Floor(t-e);for(;steps(e,t,i)>10;)i++;for(;steps(e,t,i)<10;)i--;return Math.min(i,log10Floor(e))}function generateTicks(e,{min:t,max:i}){t=finiteOrDefault(e.min,t);const o=[],s=log10Floor(t);let n=startExp(t,i),r=n<0?Math.pow(10,Math.abs(n)):1;const a=Math.pow(10,n),l=s>n?Math.pow(10,s):0,c=Math.round((t-l)*r)/r,d=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-d)/Math.pow(10,n)),h=finiteOrDefault(e.min,Math.round((l+d+u*Math.pow(10,n))*r)/r);for(;h<i;)o.push({value:h,major:isMajor(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(n++,u=2,r=n>=0?1:r),h=Math.round((l+d+u*Math.pow(10,n))*r)/r;const p=finiteOrDefault(e.max,h);return o.push({value:p,major:isMajor(p),significand:u}),o}class LogarithmicScale extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=LinearScaleBase.prototype.parse.apply(this,[e,t]);return 0===i?(this._zero=!0,void 0):isNumberFinite(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=isNumberFinite(e)?Math.max(0,e):null,this.max=isNumberFinite(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=e===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,o=this.max;const s=t=>i=e?i:t,n=e=>o=t?o:e;i===o&&(i<=0?(s(1),n(10)):(s(changeExponent(i,-1)),n(changeExponent(o,1)))),i<=0&&s(changeExponent(o,-1)),o<=0&&n(changeExponent(i,1)),this.min=i,this.max=o}buildTicks(){const e=this.options,t=generateTicks({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&_setMinAndMaxByKey(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=log10(e),this._valueRange=log10(this.max)-log10(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function getTickBackdropHeight(e){const t=e.ticks;if(t.display&&e.display){const e=toPadding(t.backdropPadding);return valueOrDefault(t.font&&t.font.size,defaults.font.size)+e.height}return 0}function measureLabelSize(e,t,i){return i=isArray(i)?i:[i],{w:_longestText(e,t.string,i),h:i.length*t.lineHeight}}function determineLimits(e,t,i,o,s){return e===o||e===s?{start:t-i/2,end:t+i/2}:e<o||e>s?{start:t-i,end:t}:{start:t,end:t+i}}function fitWithPointLabels(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),o=[],s=[],n=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?PI/n:0;for(let l=0;l<n;l++){const n=r.setContext(e.getPointLabelContext(l));s[l]=n.padding;const c=e.getPointPosition(l,e.drawingArea+s[l],a),d=toFont(n.font),u=measureLabelSize(e.ctx,d,e._pointLabels[l]);o[l]=u;const h=_normalizeAngle(e.getIndexAngle(l)+a),p=Math.round(toDegrees(h));updateLimits(i,t,h,determineLimits(p,c.x,u.w,0,180),determineLimits(p,c.y,u.h,90,270))}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=buildPointLabelItems(e,o,s)}function updateLimits(e,t,i,o,s){const n=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i));let a=0,l=0;o.start<t.l?(a=(t.l-o.start)/n,e.l=Math.min(e.l,t.l-a)):o.end>t.r&&(a=(o.end-t.r)/n,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/r,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function createPointLabelItem(e,t,i){const o=e.drawingArea,{extra:s,additionalAngle:n,padding:r,size:a}=i,l=e.getPointPosition(t,o+s+r,n),c=Math.round(toDegrees(_normalizeAngle(l.angle+HALF_PI))),d=yForAngle(l.y,a.h,c),u=getTextAlignForAngle(c),h=leftForTextAlign(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function isNotOverlapped(e,t){if(!t)return!0;const{left:i,top:o,right:s,bottom:n}=e;return!(_isPointInArea({x:i,y:o},t)||_isPointInArea({x:i,y:n},t)||_isPointInArea({x:s,y:o},t)||_isPointInArea({x:s,y:n},t))}function buildPointLabelItems(e,t,i){const o=[],s=e._pointLabels.length,n=e.options,{centerPointLabels:r,display:a}=n.pointLabels,l={extra:getTickBackdropHeight(n)/2,additionalAngle:r?PI/s:0};let c;for(let d=0;d<s;d++){l.padding=i[d],l.size=t[d];const s=createPointLabelItem(e,d,l);o.push(s),"auto"===a&&(s.visible=isNotOverlapped(s,c),s.visible&&(c=s))}return o}function getTextAlignForAngle(e){return 0===e||180===e?"center":e<180?"left":"right"}function leftForTextAlign(e,t,i){return"right"===i?e-=t:"center"===i&&(e-=t/2),e}function yForAngle(e,t,i){return 90===i||270===i?e-=t/2:(i>270||i<90)&&(e-=t),e}function drawPointLabelBox(e,t,i){const{left:o,top:s,right:n,bottom:r}=i,{backdropColor:a}=t;if(!isNullOrUndef(a)){const i=toTRBLCorners(t.borderRadius),l=toPadding(t.backdropPadding);e.fillStyle=a;const c=o-l.left,d=s-l.top,u=n-o+l.width,h=r-s+l.height;Object.values(i).some(e=>0!==e)?(e.beginPath(),addRoundedRectPath(e,{x:c,y:d,w:u,h:h,radius:i}),e.fill()):e.fillRect(c,d,u,h)}}function drawPointLabels(e,t){const{ctx:i,options:{pointLabels:o}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const n=o.setContext(e.getPointLabelContext(s));drawPointLabelBox(i,n,t);const r=toFont(n.font),{x:a,y:l,textAlign:c}=t;renderText(i,e._pointLabels[s],a,l+r.lineHeight/2,r,{color:n.color,textAlign:c,textBaseline:"middle"})}}function pathRadiusLine(e,t,i,o){const{ctx:s}=e;if(i)s.arc(e.xCenter,e.yCenter,t,0,TAU);else{let i=e.getPointPosition(0,t);s.moveTo(i.x,i.y);for(let n=1;n<o;n++)i=e.getPointPosition(n,t),s.lineTo(i.x,i.y)}}function drawRadiusLine(e,t,i,o,s){const n=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!o||!a||!l||i<0||(n.save(),n.strokeStyle=a,n.lineWidth=l,n.setLineDash(s.dash||[]),n.lineDashOffset=s.dashOffset,n.beginPath(),pathRadiusLine(e,i,r,o),n.closePath(),n.stroke(),n.restore())}function createPointLabelContext(e,t,i){return createContext(e,{label:i,index:t,type:"pointLabel"})}__publicField(LogarithmicScale,"id","logarithmic"),__publicField(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});class RadialLinearScale extends LinearScaleBase{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=toPadding(getTickBackdropHeight(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=isNumberFinite(e)&&!isNaN(e)?e:0,this.max=isNumberFinite(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(e){LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const i=callback(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,o))}getIndexAngle(e){return _normalizeAngle(e*(TAU/(this._pointLabels.length||1))+toRadians(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(isNullOrUndef(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(isNullOrUndef(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return createPointLabelContext(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const o=this.getIndexAngle(e)-HALF_PI+i;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:o,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:o,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:o,border:s}=t,n=this._pointLabels.length;let r,a,l;if(t.pointLabels.display&&drawPointLabels(this,n),o.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const i=this.getContext(t),r=o.setContext(i),l=s.setContext(i);drawRadiusLine(this,r,a,n,l)}}),i.display){for(e.save(),r=n-1;r>=0;r--){const o=i.setContext(this.getPointLabelContext(r)),{color:s,lineWidth:n}=o;n&&s&&(e.lineWidth=n,e.strokeStyle=s,e.setLineDash(o.borderDash),e.lineDashOffset=o.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(r,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let s,n;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,r)=>{if(0===r&&this.min>=0&&!t.reverse)return;const a=i.setContext(this.getContext(r)),l=toFont(a.font);if(s=this.getDistanceFromCenterForValue(this.ticks[r].value),a.showLabelBackdrop){e.font=l.string,n=e.measureText(o.label).width,e.fillStyle=a.backdropColor;const t=toPadding(a.backdropPadding);e.fillRect(-n/2-t.left,-s-l.size/2-t.top,n+t.width,l.size+t.height)}renderText(e,o.label,0,-s,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})}),e.restore()}drawTitle(){}}__publicField(RadialLinearScale,"id","radialLinear"),__publicField(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),__publicField(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),__publicField(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(e,t){return e-t}function parse(e,t){if(isNullOrUndef(t))return null;const i=e._adapter,{parser:o,round:s,isoWeekday:n}=e._parseOpts;let r=t;return"function"==typeof o&&(r=o(r)),isNumberFinite(r)||(r="string"==typeof o?i.parse(r,o):i.parse(r)),null===r?null:(s&&(r="week"!==s||!isNumber(n)&&!0!==n?i.startOf(r,s):i.startOf(r,"isoWeek",n)),+r)}function determineUnitForAutoTicks(e,t,i,o){const s=UNITS.length;for(let n=UNITS.indexOf(e);n<s-1;++n){const e=INTERVALS[UNITS[n]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(s*e.size))<=o)return UNITS[n]}return UNITS[s-1]}function determineUnitForFormatting(e,t,i,o,s){for(let n=UNITS.length-1;n>=UNITS.indexOf(i);n--){const i=UNITS[n];if(INTERVALS[i].common&&e._adapter.diff(s,o,i)>=t-1)return i}return UNITS[i?UNITS.indexOf(i):0]}function determineMajorUnit(e){for(let t=UNITS.indexOf(e)+1,i=UNITS.length;t<i;++t)if(INTERVALS[UNITS[t]].common)return UNITS[t]}function addTick(e,t,i){if(i){if(i.length){const{lo:o,hi:s}=_lookup(i,t);e[i[o]>=t?i[o]:i[s]]=!0}}else e[t]=!0}function setMajorTicks(e,t,i,o){const s=e._adapter,n=+s.startOf(t[0].value,o),r=t[t.length-1].value;let a,l;for(a=n;a<=r;a=+s.add(a,1,o))l=i[a],l>=0&&(t[l].major=!0);return t}function ticksFromTimestamps(e,t,i){const o=[],s={},n=t.length;let r,a;for(r=0;r<n;++r)a=t[r],s[a]=r,o.push({value:a,major:!1});return 0!==n&&i?setMajorTicks(e,o,s,i):o}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),o=this._adapter=new adapters._date(e.adapters.date);o.init(t),mergeIf(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:o,max:s,minDefined:n,maxDefined:r}=this.getUserBounds();function a(e){n||isNaN(e.min)||(o=Math.min(o,e.min)),r||isNaN(e.max)||(s=Math.max(s,e.max))}n&&r||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),o=isNumberFinite(o)&&!isNaN(o)?o:+t.startOf(Date.now(),i),s=isNumberFinite(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,o="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,n=_filterBetween(o,s,this.max);return this._unit=t.unit||(i.autoSkip?determineUnitForAutoTicks(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):determineUnitForFormatting(this,n.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?determineMajorUnit(this._unit):void 0,this.initOffsets(o),e.reverse&&n.reverse(),ticksFromTimestamps(this,n,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,i,o=0,s=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),o=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),s=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);const n=e.length<3?.5:.25;o=_limitValue(o,0,n),s=_limitValue(s,0,n),this._offsets={start:o,end:s,factor:1/(o+1+s)}}_generate(){const e=this._adapter,t=this.min,i=this.max,o=this.options,s=o.time,n=s.unit||determineUnitForAutoTicks(s.minUnit,t,i,this._getLabelCapacity(t)),r=valueOrDefault(o.ticks.stepSize,1),a="week"===n&&s.isoWeekday,l=isNumber(a)||!0===a,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,l?"day":n),e.diff(i,t,n)>1e5*r)throw new Error(t+" and "+i+" are too far apart with stepSize of "+r+" "+n);const p="data"===o.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<i;d=+e.add(d,r,n),u++)addTick(c,d,p);return d!==i&&"ticks"!==o.bounds&&1!==u||addTick(c,d,p),Object.keys(c).sort(sorter).map(e=>+e)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,s=t||i[o];return this._adapter.format(e,s)}_tickFormatFunction(e,t,i,o){const s=this.options,n=s.ticks.callback;if(n)return callback(n,[e,t,i],this);const r=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&r[a],d=l&&r[l],u=i[t],h=l&&d&&u&&u.major;return this._adapter.format(e,o||(h?d:c))}generateTickLabels(e){let t,i,o;for(t=0,i=e.length;t<i;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,o=toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(o),n=Math.sin(o),r=this._resolveTickFontOptions(0).size;return{w:i*s+r*n,h:i*n+r*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,o=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),o),n=this._getLabelSize(s),r=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(e=0,t=o.length;e<t;++e)i=i.concat(o[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const o=this.getLabels();for(t=0,i=o.length;t<i;++t)e.push(parse(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}function interpolate(e,t,i){let o,s,n,r,a=0,l=e.length-1;i?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=_lookupByKey(e,"pos",t)),({pos:o,time:n}=e[a]),({pos:s,time:r}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=_lookupByKey(e,"time",t)),({time:o,pos:n}=e[a]),({time:s,pos:r}=e[l]));const c=s-o;return c?n+(r-n)*(t-o)/c:n}__publicField(TimeScale,"id","time"),__publicField(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=interpolate(t,this.min),this._tableRange=interpolate(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,o=[],s=[];let n,r,a,l,c;for(n=0,r=e.length;n<r;++n)l=e[n],l>=t&&l<=i&&o.push(l);if(o.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(n=0,r=o.length;n<r;++n)c=o[n+1],a=o[n-1],l=o[n],Math.round((c+a)/2)!==l&&s.push({time:l,pos:n/(r-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return interpolate(this._table,i*this._tableRange+this._minPos,!0)}}__publicField(TimeSeriesScale,"id","timeseries"),__publicField(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale:CategoryScale,LinearScale:LinearScale,LogarithmicScale:LogarithmicScale,RadialLinearScale:RadialLinearScale,TimeScale:TimeScale,TimeSeriesScale:TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart.register(...registerables);const _sfc_main$o={__name:"GravityGraphFragment",setup(e){const t=ref(null),i=ref([]),o=ref([]),s=ref({datasets:[{label:"Data for gravity calculation",borderColor:"blue",backgroundColor:"blue",data:i.value},{label:"Data based on current formula",borderColor:"green",backgroundColor:"green",data:o.value}]}),n=ref({type:"line",data:s.value,options:{responsive:!0,interaction:{intersect:!1},scales:{x:{display:!0,type:"linear",grace:"5%",title:{display:!0,text:"Angle"},ticks:{crossAlign:"far"},suggestedMin:25},y:{display:!0,title:{display:!0,text:"Gravity"},suggestedMin:1}}}});return onMounted(()=>{evaluateFormula(config.gravity_formula).forEach(e=>{o.value.push(e)});let e=config.formula_calculation_data;e.sort((e,t)=>0==e.a?100:e.a-t.a);for(let t=0;t<e.length;t++)e[t].a>0&&i.value.push({x:e[t].a,y:e[t].g});try{t.value=new Chart(document.getElementById("gravityChart"),n.value)}catch(s){logError("GravityGraphFragment.onMounted()",s)}}),(e,t)=>t[0]||(t[0]=createStaticVNode('<div class="row"><p></p><hr></div><div class="row"><div class="form-text"> Below is a graphical representation of the current formula and data points for formula creation. </div></div><div class="row"><canvas id="gravityChart"></canvas></div>',3))}},_hoisted_1$m={class:"row"},_sfc_main$n={__name:"FormulaFragment",props:{expressions:{type:Array,default:()=>[]},expressionsModifiers:{}},emits:["update:expressions"],setup(e){const t=useModel(e,"expressions"),i=ref("Formula rejected");return(e,o)=>{const s=resolveComponent("BsInputReadonly");return openBlock(),createElementBlock(Fragment,null,[o[1]||(o[1]=createBaseVNode("div",{class:"row"},[createBaseVNode("p"),createBaseVNode("hr")],-1)),o[2]||(o[2]=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"form-text"},"Below is a list of the generated formulas.")],-1)),createBaseVNode("div",_hoisted_1$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.value,(e,n)=>(openBlock(),createElementBlock("div",{class:"col-md-12",key:n},[""!=t.value[n]?(openBlock(),createBlock(s,{key:0,label:"Formula order "+n,modelValue:t.value[n],"onUpdate:modelValue":e=>t.value[n]=e},null,8,["label","modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),""==t.value[n]?(openBlock(),createBlock(s,{key:1,label:"Formula order "+n,modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e)},null,8,["label","modelValue"])):createCommentVNode("",!0)]))),128))])],64)}}},_sfc_main$m={__name:"FormulaGraphFragment",props:{expressions:{type:Array,default:()=>[]},expressionsModifiers:{}},emits:["update:expressions"],setup(e){const t=ref(null),i=useModel(e,"expressions"),o=ref([]),s=ref([]),n=ref([]),r=ref([]),a=ref([]),l=ref({datasets:[{label:"Raw data",borderColor:"blue",backgroundColor:"blue",data:o.value},{label:"Order 1",borderColor:"green",backgroundColor:"green",data:s.value,hidden:!1},{label:"Order 2",borderColor:"purple",backgroundColor:"purple",data:n.value,hidden:!1},{label:"Order 3",borderColor:"orange",backgroundColor:"orange",data:r.value,hidden:!1},{label:"Order 4",borderColor:"pink",backgroundColor:"pink",data:a.value,hidden:!1}]}),c=ref({type:"line",data:l.value,options:{responsive:!0,interaction:{intersect:!1},scales:{x:{display:!0,type:"linear",grace:"5%",title:{display:!0,text:"Angle"},ticks:{crossAlign:"far"},suggestedMin:25},y:{display:!0,title:{display:!0,text:"Gravity"},suggestedMin:1}}}});return onMounted(()=>{if(!i.value||!Array.isArray(i.value)||i.value.length<4)return logError("FormulaGraphFragment.onMounted()","Invalid expressions data"),void 0;i.value[0]&&""!=i.value[0]?evaluateFormula(i.value[0]).forEach(e=>{s.value.push(e)}):l.value.datasets[1].hidden=!0,i.value[1]&&""!=i.value[1]?evaluateFormula(i.value[1]).forEach(e=>{n.value.push(e)}):l.value.datasets[2].hidden=!0,i.value[2]&&""!=i.value[2]?evaluateFormula(i.value[2]).forEach(e=>{r.value.push(e)}):l.value.datasets[3].hidden=!0,i.value[3]&&""!=i.value[3]?evaluateFormula(i.value[3]).forEach(e=>{a.value.push(e)}):l.value.datasets[4].hidden=!0;for(let t=0;t<config.formula_calculation_data.length;t++)config.formula_calculation_data[t].a>0&&o.value.push({x:config.formula_calculation_data[t].a,y:config.formula_calculation_data[t].g});try{t.value=new Chart(document.getElementById("formulaChart"),c.value)}catch(e){logError("GravityAnalysisView.onMounted()",e)}}),(e,t)=>t[0]||(t[0]=createStaticVNode('<div class="row"><p></p><hr></div><div class="row"><div class="form-text"> Below is a graphical representation of the formula options, click on the color to deselect one or more of the formulas. If you dont see more than one, try to reduce the deviation to dismiss invalid formulas. </div></div><div class="row"><canvas id="formulaChart"></canvas></div>',3))}},_hoisted_1$l={class:"row"},_hoisted_2$k={class:"table table-striped"},_hoisted_3$j={scope:"col",class:"col-sm-1"},_hoisted_4$j={scope:"col",class:"col-sm-1"},_hoisted_5$i={scope:"col",class:"col-sm-1"},_hoisted_6$i={scope:"col",class:"col-sm-1"},_sfc_main$l={__name:"FormulaTableFragment",props:{expressions:{type:Array,default:()=>[]},expressionsModifiers:{}},emits:["update:expressions"],setup(e){const t=useModel(e,"expressions"),i=ref([]),o=ref({o1:0,o2:0,o3:0,o4:0});return onMounted(()=>{if(!t.value||!Array.isArray(t.value)||t.value.length<4)return console.error("FormulaTableFragment.onMounted()","Invalid expressions data"),void 0;config.formula_calculation_data.forEach(e=>{if(e.a>0){const s=calculate(t.value[0]||"",e.a),n=calculate(t.value[1]||"",e.a),r=calculate(t.value[2]||"",e.a),a=calculate(t.value[3]||"",e.a),l=Math.abs(s-e.g),c=Math.abs(n-e.g),d=Math.abs(r-e.g),u=Math.abs(a-e.g);i.value.push({a:Number(e.a).toFixed(3),g:Number(e.g).toFixed(3),o1:Number(s).toFixed(3),o1d:Number(l).toFixed(3),o2:Number(n).toFixed(3),o2d:Number(c).toFixed(3),o3:Number(r).toFixed(3),o3d:Number(d).toFixed(3),o4:Number(a).toFixed(3),o4d:Number(u).toFixed(3)}),l>o.value.o1&&(o.value.o1=l),c>o.value.o2&&(o.value.o2=c),d>o.value.o3&&(o.value.o3=d),u>o.value.o4&&(o.value.o4=u)}})}),(e,t)=>(openBlock(),createElementBlock(Fragment,null,[t[7]||(t[7]=createBaseVNode("div",{class:"row"},[createBaseVNode("p"),createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_1$l,[t[6]||(t[6]=createBaseVNode("div",{class:"form-text"}," Below is a list of calculated values based on the formula options, devaition from input value is also shown. ",-1)),createBaseVNode("table",_hoisted_2$k,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[t[0]||(t[0]=createBaseVNode("th",{scope:"col",class:"col-sm-1"},"Angle",-1)),t[1]||(t[1]=createBaseVNode("th",{scope:"col",class:"col-sm-1"},"Gravity",-1)),t[2]||(t[2]=createBaseVNode("th",{scope:"col",class:"col-sm-1"},"Order 1",-1)),createBaseVNode("th",_hoisted_3$j,"("+toDisplayString(Number(o.value.o1).toFixed(3))+")",1),t[3]||(t[3]=createBaseVNode("th",{scope:"col",class:"col-sm-1"},"Order 2",-1)),createBaseVNode("th",_hoisted_4$j,"("+toDisplayString(Number(o.value.o2).toFixed(3))+")",1),t[4]||(t[4]=createBaseVNode("th",{scope:"col",class:"col-sm-1"},"Order 3",-1)),createBaseVNode("th",_hoisted_5$i,"("+toDisplayString(Number(o.value.o3).toFixed(3))+")",1),t[5]||(t[5]=createBaseVNode("th",{scope:"col",class:"col-sm-1"},"Order 4",-1)),createBaseVNode("th",_hoisted_6$i,"("+toDisplayString(Number(o.value.o4).toFixed(3))+")",1)])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(e,t)=>(openBlock(),createElementBlock("tr",{key:t},[createBaseVNode("td",null,toDisplayString(e.a),1),createBaseVNode("td",null,toDisplayString(e.g),1),createBaseVNode("td",null,toDisplayString(e.o1),1),createBaseVNode("td",null,toDisplayString(e.o1d),1),createBaseVNode("td",null,toDisplayString(e.o2),1),createBaseVNode("td",null,toDisplayString(e.o2d),1),createBaseVNode("td",null,toDisplayString(e.o3),1),createBaseVNode("td",null,toDisplayString(e.o3d),1),createBaseVNode("td",null,toDisplayString(e.o4),1),createBaseVNode("td",null,toDisplayString(e.o4d),1)]))),128))])])])],64))}};var matrix$1={};const toString=Object.prototype.toString;function isAnyArray(e){const t=toString.call(e);return t.endsWith("Array]")&&!t.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(libEsm);function max(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!isAnyArray(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var i=t.fromIndex,o=void 0===i?0:i,s=t.toIndex,n=void 0===s?e.length:s;if(o<0||o>=e.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(n<=o||n>e.length||!Number.isInteger(n))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var r=e[o],a=o+1;a<n;a++)e[a]>r&&(r=e[a]);return r}function min(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!isAnyArray(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var i=t.fromIndex,o=void 0===i?0:i,s=t.toIndex,n=void 0===s?e.length:s;if(o<0||o>=e.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(n<=o||n>e.length||!Number.isInteger(n))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var r=e[o],a=o+1;a<n;a++)e[a]<r&&(r=e[a]);return r}function rescale(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!isAnyArray(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==i.output){if(!isAnyArray(i.output))throw new TypeError("output option must be an array if specified");t=i.output}else t=new Array(e.length);var o=min(e),s=max(e);if(o===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var n=i.min,r=void 0===n?i.autoMinMax?o:0:n,a=i.max,l=void 0===a?i.autoMinMax?s:1:a;if(r>=l)throw new RangeError("min option must be smaller than max option");for(var c=(l-r)/(s-o),d=0;d<e.length;d++)t[d]=(e[d]-o)*c+r;return t}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);var hasRequiredMatrix;function requireMatrix(){var e,t,i;if(hasRequiredMatrix)return matrix$1;hasRequiredMatrix=1,Object.defineProperty(matrix$1,"__esModule",{value:!0});var o=require$$0,s=require$$1;const n=" ".repeat(2),r=" ".repeat(4);function a(e,t={}){const{maxRows:i=15,maxColumns:o=10,maxNumSize:s=8,padMinus:a="auto"}=t;return`${e.constructor.name} {\n${n}[\n${r}${function(e,t,i,o,s){const{rows:n,columns:a}=e,c=Math.min(n,t),d=Math.min(a,i),u=[];if("auto"===s){s=!1;e:for(let t=0;t<c;t++)for(let i=0;i<d;i++)if(e.get(t,i)<0){s=!0;break e}}for(let r=0;r<c;r++){let t=[];for(let i=0;i<d;i++)t.push(l(e.get(r,i),o,s));u.push(`${t.join(" ")}`)}return d!==a&&(u[u.length-1]+=` ... ${a-i} more columns`),c!==n&&u.push(`... ${n-t} more rows`),u.join(`\n${r}`)}(e,i,o,s,a)}\n${n}]\n${n}rows: ${e.rows}\n${n}columns: ${e.columns}\n}`}function l(e,t,i){return(e>=0&&i?` ${c(e,t-1)}`:c(e,t)).padEnd(t)}function c(e,t){let i=e.toString();if(i.length<=t)return i;let o=e.toFixed(t);if(o.length>t&&(o=e.toFixed(Math.max(0,t-(o.length-t)))),o.length<=t&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let s=e.toExponential(t);return s.length>t&&(s=e.toExponential(Math.max(0,t-(s.length-t)))),s.slice(0)}function d(e,t,i){let o=i?e.rows:e.rows-1;if(t<0||t>o)throw new RangeError("Row index out of range")}function u(e,t,i){let o=i?e.columns:e.columns-1;if(t<0||t>o)throw new RangeError("Column index out of range")}function h(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function p(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function f(e,t){if(!o.isAnyArray(t))throw new TypeError("row indices must be an array");for(let i=0;i<t.length;i++)if(t[i]<0||t[i]>=e.rows)throw new RangeError("row indices are out of range")}function g(e,t){if(!o.isAnyArray(t))throw new TypeError("column indices must be an array");for(let i=0;i<t.length;i++)if(t[i]<0||t[i]>=e.columns)throw new RangeError("column indices are out of range")}function m(e,t,i,o,s){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(b("startRow",t),b("endRow",i),b("startColumn",o),b("endColumn",s),t>i||o>s||t<0||t>=e.rows||i<0||i>=e.rows||o<0||o>=e.columns||s<0||s>=e.columns)throw new RangeError("Submatrix indices are out of range")}function _(e,t=0){let i=[];for(let o=0;o<e;o++)i.push(t);return i}function b(e,t){if("number"!=typeof t)throw new TypeError(`${e} must be a number`)}function v(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}class y{static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError("data length does not match given dimensions");let o=new S(e,t);for(let s=0;s<e;s++)for(let e=0;e<t;e++)o.set(s,e,i[s*t+e]);return o}static rowVector(e){let t=new S(1,e.length);for(let i=0;i<e.length;i++)t.set(0,i,e[i]);return t}static columnVector(e){let t=new S(e.length,1);for(let i=0;i<e.length;i++)t.set(i,0,e[i]);return t}static zeros(e,t){return new S(e,t)}static ones(e,t){return new S(e,t).fill(1)}static rand(e,t,i={}){if("object"!=typeof i)throw new TypeError("options must be an object");const{random:o=Math.random}=i;let s=new S(e,t);for(let n=0;n<e;n++)for(let e=0;e<t;e++)s.set(n,e,o());return s}static randInt(e,t,i={}){if("object"!=typeof i)throw new TypeError("options must be an object");const{min:o=0,max:s=1e3,random:n=Math.random}=i;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(o>=s)throw new RangeError("min must be smaller than max");let r=s-o,a=new S(e,t);for(let l=0;l<e;l++)for(let e=0;e<t;e++){let t=o+Math.round(n()*r);a.set(l,e,t)}return a}static eye(e,t,i){void 0===t&&(t=e),void 0===i&&(i=1);let o=Math.min(e,t),s=this.zeros(e,t);for(let n=0;n<o;n++)s.set(n,n,i);return s}static diag(e,t,i){let o=e.length;void 0===t&&(t=o),void 0===i&&(i=t);let s=Math.min(o,t,i),n=this.zeros(t,i);for(let r=0;r<s;r++)n.set(r,r,e[r]);return n}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,o=e.columns,s=new S(i,o);for(let n=0;n<i;n++)for(let i=0;i<o;i++)s.set(n,i,Math.min(e.get(n,i),t.get(n,i)));return s}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,o=e.columns,s=new this(i,o);for(let n=0;n<i;n++)for(let i=0;i<o;i++)s.set(n,i,Math.max(e.get(n,i),t.get(n,i)));return s}static checkMatrix(e){return y.isMatrix(e)?e:new S(e)}static isMatrix(e){return null!=e&&"Matrix"===e.klass}get size(){return this.rows*this.columns}apply(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.call(this,t,i);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.push(this.get(t,i));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let i=0;i<this.columns;i++)e[t].push(this.get(t,i))}return e}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(0!==this.get(e,e))return!1;return!0}isEchelonForm(){let e=0,t=0,i=-1,o=!0,s=!1;for(;e<this.rows&&o;){for(t=0,s=!1;t<this.columns&&!1===s;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>i?(s=!0,i=t):(o=!1,s=!0);e++}return o}isReducedEchelonForm(){let e=0,t=0,i=-1,o=!0,s=!1;for(;e<this.rows&&o;){for(t=0,s=!1;t<this.columns&&!1===s;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>i?(s=!0,i=t):(o=!1,s=!0);for(let i=t+1;i<this.rows;i++)0!==this.get(e,i)&&(o=!1);e++}return o}echelonForm(){let e=this.clone(),t=0,i=0;for(;t<e.rows&&i<e.columns;){let o=t;for(let s=t;s<e.rows;s++)e.get(s,i)>e.get(o,i)&&(o=s);if(0===e.get(o,i))i++;else{e.swapRows(t,o);let s=e.get(t,i);for(let o=i;o<e.columns;o++)e.set(t,o,e.get(t,o)/s);for(let o=t+1;o<e.rows;o++){let s=e.get(o,i)/e.get(t,i);e.set(o,i,0);for(let n=i+1;n<e.columns;n++)e.set(o,n,e.get(o,n)-e.get(t,n)*s)}t++,i++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,i=e.rows,o=i-1;for(;o>=0;)if(0===e.maxRow(o))o--;else{let s=0,n=!1;for(;s<i&&!1===n;)1===e.get(o,s)?n=!0:s++;for(let i=0;i<o;i++){let n=e.get(i,s);for(let r=s;r<t;r++){let t=e.get(i,r)-n*e.get(o,r);e.set(i,r,t)}}o--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{rows:t=1,columns:i=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");let o=new S(this.rows*t,this.columns*i);for(let s=0;s<t;s++)for(let e=0;e<i;e++)o.setSubMatrix(this,this.rows*s,this.columns*e);return o}fill(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){d(this,e);let t=[];for(let i=0;i<this.columns;i++)t.push(this.get(e,i));return t}getRowVector(e){return S.rowVector(this.getRow(e))}setRow(e,t){d(this,e),t=h(this,t);for(let i=0;i<this.columns;i++)this.set(e,i,t[i]);return this}swapRows(e,t){d(this,e),d(this,t);for(let i=0;i<this.columns;i++){let o=this.get(e,i);this.set(e,i,this.get(t,i)),this.set(t,i,o)}return this}getColumn(e){u(this,e);let t=[];for(let i=0;i<this.rows;i++)t.push(this.get(i,e));return t}getColumnVector(e){return S.columnVector(this.getColumn(e))}setColumn(e,t){u(this,e),t=p(this,t);for(let i=0;i<this.rows;i++)this.set(i,e,t[i]);return this}swapColumns(e,t){u(this,e),u(this,t);for(let i=0;i<this.rows;i++){let o=this.get(i,e);this.set(i,e,this.get(i,t)),this.set(i,t,o)}return this}addRowVector(e){e=h(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=h(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=h(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=h(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=p(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=p(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=p(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=p(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){d(this,e);for(let i=0;i<this.columns;i++)this.set(e,i,this.get(e,i)*t);return this}mulColumn(e,t){u(this,e);for(let i=0;i<this.rows;i++)this.set(i,e,this.get(i,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)>e[t]&&(e[t]=this.get(t,i));return e}case"column":{const e=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)>e[i]&&(e[i]=this.get(t,i));return e}case void 0:{let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){v(this);let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.get(i,o)>e&&(e=this.get(i,o),t[0]=i,t[1]=o);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const e=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)<e[t]&&(e[t]=this.get(t,i));return e}case"column":{const e=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)<e[i]&&(e[i]=this.get(t,i));return e}case void 0:{let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}default:throw new Error(`invalid option: ${e}`)}}minIndex(){v(this);let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.get(i,o)<e&&(e=this.get(i,o),t[0]=i,t[1]=o);return t}maxRow(e){if(d(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)>t&&(t=this.get(e,i));return t}maxRowIndex(e){d(this,e),v(this);let t=this.get(e,0),i=[e,0];for(let o=1;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),i[1]=o);return i}minRow(e){if(d(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)<t&&(t=this.get(e,i));return t}minRowIndex(e){d(this,e),v(this);let t=this.get(e,0),i=[e,0];for(let o=1;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),i[1]=o);return i}maxColumn(e){if(u(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)>t&&(t=this.get(i,e));return t}maxColumnIndex(e){u(this,e),v(this);let t=this.get(0,e),i=[0,e];for(let o=1;o<this.rows;o++)this.get(o,e)>t&&(t=this.get(o,e),i[0]=o);return i}minColumn(e){if(u(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)<t&&(t=this.get(i,e));return t}minColumnIndex(e){u(this,e),v(this);let t=this.get(0,e),i=[0,e];for(let o=1;o<this.rows;o++)this.get(o,e)<t&&(t=this.get(o,e),i[0]=o);return i}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let i=0;i<e;i++)t.push(this.get(i,i));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){y.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let i=0;for(let o=0;o<t.length;o++)i+=t[o]*e[o];return i}mmul(e){e=S.checkMatrix(e);let t=this.rows,i=this.columns,o=e.columns,s=new S(t,o),n=new Float64Array(i);for(let r=0;r<o;r++){for(let t=0;t<i;t++)n[t]=e.get(t,r);for(let e=0;e<t;e++){let t=0;for(let o=0;o<i;o++)t+=this.get(e,o)*n[o];s.set(e,r,t)}}return s}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let t=S.eye(this.rows),i=this;for(let o=e;o>=1;o/=2)1&o&&(t=t.mmul(i)),i=i.mmul(i);return t}strassen2x2(e){e=S.checkMatrix(e);let t=new S(2,2);const i=this.get(0,0),o=e.get(0,0),s=this.get(0,1),n=e.get(0,1),r=this.get(1,0),a=e.get(1,0),l=this.get(1,1),c=e.get(1,1),d=(i+l)*(o+c),u=(r+l)*o,h=i*(n-c),p=l*(a-o),f=(i+s)*c,g=d+p-f+(s-l)*(a+c),m=h+f,_=u+p,b=d-u+h+(r-i)*(o+n);return t.set(0,0,g),t.set(0,1,m),t.set(1,0,_),t.set(1,1,b),t}strassen3x3(e){e=S.checkMatrix(e);let t=new S(3,3);const i=this.get(0,0),o=this.get(0,1),s=this.get(0,2),n=this.get(1,0),r=this.get(1,1),a=this.get(1,2),l=this.get(2,0),c=this.get(2,1),d=this.get(2,2),u=e.get(0,0),h=e.get(0,1),p=e.get(0,2),f=e.get(1,0),g=e.get(1,1),m=e.get(1,2),_=e.get(2,0),b=e.get(2,1),v=e.get(2,2),y=(i-n)*(-h+g),w=(-i+n+r)*(u-h+g),x=(n+r)*(-u+h),$=i*u,k=(-i+l+c)*(u-p+m),C=(-i+l)*(p-m),B=(l+c)*(-u+p),N=(-s+c+d)*(g+_-b),V=(s-d)*(g-b),E=s*_,A=(c+d)*(-_+b),M=(-s+r+a)*(m+_-v),T=(s-a)*(m-v),D=(r+a)*(-_+v),P=$+E+o*f,R=(i+o+s-n-r-c-d)*g+w+x+$+N+E+A,O=$+k+B+(i+o+s-r-a-l-c)*m+E+M+D,I=y+r*(-u+h+f-g-m-_+v)+w+$+E+M+T,F=y+w+x+$+a*b,L=E+M+T+D+n*p,j=$+k+C+c*(-u+p+f-g-m-_+b)+N+V+E,H=N+V+E+A+l*h,z=$+k+C+B+d*v;return t.set(0,0,P),t.set(0,1,R),t.set(0,2,O),t.set(1,0,I),t.set(1,1,F),t.set(1,2,L),t.set(2,0,j),t.set(2,1,H),t.set(2,2,z),t}mmulStrassen(e){e=S.checkMatrix(e);let t=this.clone(),i=t.rows,o=t.columns,s=e.rows,n=e.columns;function r(e,t,i){let o=e.rows,s=e.columns;if(o===t&&s===i)return e;{let o=y.zeros(t,i);return o=o.setSubMatrix(e,0,0),o}}o!==s&&console.warn(`Multiplying ${i} x ${o} and ${s} x ${n} matrix: dimensions do not match.`);let a=Math.max(i,s),l=Math.max(o,n);return t=r(t,a,l),function e(t,i,o,s){if(o<=512||s<=512)return t.mmul(i);o%2==1&&s%2==1?(t=r(t,o+1,s+1),i=r(i,o+1,s+1)):o%2==1?(t=r(t,o+1,s),i=r(i,o+1,s)):s%2==1&&(t=r(t,o,s+1),i=r(i,o,s+1));let n=parseInt(t.rows/2,10),a=parseInt(t.columns/2,10),l=t.subMatrix(0,n-1,0,a-1),c=i.subMatrix(0,n-1,0,a-1),d=t.subMatrix(0,n-1,a,t.columns-1),u=i.subMatrix(0,n-1,a,i.columns-1),h=t.subMatrix(n,t.rows-1,0,a-1),p=i.subMatrix(n,i.rows-1,0,a-1),f=t.subMatrix(n,t.rows-1,a,t.columns-1),g=i.subMatrix(n,i.rows-1,a,i.columns-1),m=e(y.add(l,f),y.add(c,g),n,a),_=e(y.add(h,f),c,n,a),b=e(l,y.sub(u,g),n,a),v=e(f,y.sub(p,c),n,a),w=e(y.add(l,d),g,n,a),x=e(y.sub(h,l),y.add(c,u),n,a),S=e(y.sub(d,f),y.add(p,g),n,a),$=y.add(m,v);$.sub(w),$.add(S);let k=y.add(b,w),C=y.add(_,v),B=y.sub(m,_);B.add(b),B.add(x);let N=y.zeros(2*$.rows,2*$.columns);return N=N.setSubMatrix($,0,0),N=N.setSubMatrix(k,$.rows,0),N=N.setSubMatrix(C,0,$.columns),N=N.setSubMatrix(B,$.rows,$.columns),N.subMatrix(0,o-1,0,s-1)}(t,e=r(e,a,l),a,l)}scaleRows(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let o=new S(this.rows,this.columns);for(let n=0;n<this.rows;n++){const e=this.getRow(n);e.length>0&&s(e,{min:t,max:i,output:e}),o.setRow(n,e)}return o}scaleColumns(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let o=new S(this.rows,this.columns);for(let n=0;n<this.columns;n++){const e=this.getColumn(n);e.length&&s(e,{min:t,max:i,output:e}),o.setColumn(n,e)}return o}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let i=0;i<e;i++){let e=this.get(t,i),o=this.get(t,this.columns-1-i);this.set(t,i,o),this.set(t,this.columns-1-i,e)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let i=0;i<e;i++){let e=this.get(i,t),o=this.get(this.rows-1-i,t);this.set(i,t,o),this.set(this.rows-1-i,t,e)}return this}kroneckerProduct(e){e=S.checkMatrix(e);let t=this.rows,i=this.columns,o=e.rows,s=e.columns,n=new S(t*o,i*s);for(let r=0;r<t;r++)for(let t=0;t<i;t++)for(let i=0;i<o;i++)for(let a=0;a<s;a++)n.set(o*r+i,s*t+a,this.get(r,t)*e.get(i,a));return n}kroneckerSum(e){if(e=S.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,i=e.rows,o=this.kroneckerProduct(S.eye(i,i)),s=S.eye(t,t).kroneckerProduct(e);return o.add(s)}transpose(){let e=new S(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e=w){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=w){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,i,o){m(this,e,t,i,o);let s=new S(t-e+1,o-i+1);for(let n=e;n<=t;n++)for(let t=i;t<=o;t++)s.set(n-e,t-i,this.get(n,t));return s}subMatrixRow(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=this.columns-1),t>i||t<0||t>=this.columns||i<0||i>=this.columns)throw new RangeError("Argument out of range");let o=new S(e.length,i-t+1);for(let s=0;s<e.length;s++)for(let n=t;n<=i;n++){if(e[s]<0||e[s]>=this.rows)throw new RangeError(`Row index out of range: ${e[s]}`);o.set(s,n-t,this.get(e[s],n))}return o}subMatrixColumn(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=this.rows-1),t>i||t<0||t>=this.rows||i<0||i>=this.rows)throw new RangeError("Argument out of range");let o=new S(i-t+1,e.length);for(let s=0;s<e.length;s++)for(let n=t;n<=i;n++){if(e[s]<0||e[s]>=this.columns)throw new RangeError(`Column index out of range: ${e[s]}`);o.set(n-t,s,this.get(n,e[s]))}return o}setSubMatrix(e,t,i){if((e=S.checkMatrix(e)).isEmpty())return this;m(this,t,t+e.rows-1,i,i+e.columns-1);for(let o=0;o<e.rows;o++)for(let s=0;s<e.columns;s++)this.set(t+o,i+s,e.get(o,s));return this}selection(e,t){f(this,e),g(this,t);let i=new S(e.length,t.length);for(let o=0;o<e.length;o++){let s=e[o];for(let e=0;e<t.length;e++){let n=t[e];i.set(o,e,this.get(s,n))}}return i}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let i=0;i<e;i++)t+=this.get(i,i);return t}clone(){return this.constructor.copy(this,new S(this.rows,this.columns))}static copy(e,t){for(const[i,o,s]of e.entries())t.set(i,o,s);return t}sum(e){switch(e){case"row":return function(e){let t=_(e.rows);for(let i=0;i<e.rows;++i)for(let o=0;o<e.columns;++o)t[i]+=e.get(i,o);return t}(this);case"column":return function(e){let t=_(e.columns);for(let i=0;i<e.rows;++i)for(let o=0;o<e.columns;++o)t[o]+=e.get(i,o);return t}(this);case void 0:return function(e){let t=0;for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)t+=e.get(i,o);return t}(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return function(e){let t=_(e.rows,1);for(let i=0;i<e.rows;++i)for(let o=0;o<e.columns;++o)t[i]*=e.get(i,o);return t}(this);case"column":return function(e){let t=_(e.columns,1);for(let i=0;i<e.rows;++i)for(let o=0;o<e.columns;++o)t[o]*=e.get(i,o);return t}(this);case void 0:return function(e){let t=1;for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)t*=e.get(i,o);return t}(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":for(let e=0;e<this.rows;e++)t[e]/=this.columns;return t;case"column":for(let e=0;e<this.columns;e++)t[e]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{unbiased:i=!0,mean:s=this.mean(e)}=t;if("boolean"!=typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!o.isAnyArray(s))throw new TypeError("mean must be an array");return function(e,t,i){const o=e.rows,s=e.columns,n=[];for(let r=0;r<o;r++){let o=0,a=0,l=0;for(let t=0;t<s;t++)l=e.get(r,t)-i[r],o+=l,a+=l*l;t?n.push((a-o*o/s)/(s-1)):n.push((a-o*o/s)/s)}return n}(this,i,s);case"column":if(!o.isAnyArray(s))throw new TypeError("mean must be an array");return function(e,t,i){const o=e.rows,s=e.columns,n=[];for(let r=0;r<s;r++){let s=0,a=0,l=0;for(let t=0;t<o;t++)l=e.get(t,r)-i[r],s+=l,a+=l*l;t?n.push((a-s*s/o)/(o-1)):n.push((a-s*s/o)/o)}return n}(this,i,s);case void 0:if("number"!=typeof s)throw new TypeError("mean must be a number");return function(e,t,i){const o=e.rows,s=e.columns,n=o*s;let r=0,a=0,l=0;for(let c=0;c<o;c++)for(let t=0;t<s;t++)l=e.get(c,t)-i,r+=l,a+=l*l;return t?(a-r*r/n)/(n-1):(a-r*r/n)/n}(this,i,s);default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){"object"==typeof e&&(t=e,e=void 0);const i=this.variance(e,t);if(void 0===e)return Math.sqrt(i);for(let o=0;o<i.length;o++)i[o]=Math.sqrt(i[o]);return i}center(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{center:i=this.mean(e)}=t;switch(e){case"row":if(!o.isAnyArray(i))throw new TypeError("center must be an array");return!function(e,t){for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)e.set(i,o,e.get(i,o)-t[i])}(this,i),this;case"column":if(!o.isAnyArray(i))throw new TypeError("center must be an array");return!function(e,t){for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)e.set(i,o,e.get(i,o)-t[o])}(this,i),this;case void 0:if("number"!=typeof i)throw new TypeError("center must be a number");return!function(e,t){for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)e.set(i,o,e.get(i,o)-t)}(this,i),this;default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");let i=t.scale;switch(e){case"row":if(void 0===i)i=function(e){const t=[];for(let i=0;i<e.rows;i++){let o=0;for(let t=0;t<e.columns;t++)o+=__pow(e.get(i,t),2)/(e.columns-1);t.push(Math.sqrt(o))}return t}(this);else if(!o.isAnyArray(i))throw new TypeError("scale must be an array");return!function(e,t){for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)e.set(i,o,e.get(i,o)/t[i])}(this,i),this;case"column":if(void 0===i)i=function(e){const t=[];for(let i=0;i<e.columns;i++){let o=0;for(let t=0;t<e.rows;t++)o+=__pow(e.get(t,i),2)/(e.rows-1);t.push(Math.sqrt(o))}return t}(this);else if(!o.isAnyArray(i))throw new TypeError("scale must be an array");return!function(e,t){for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)e.set(i,o,e.get(i,o)/t[o])}(this,i),this;case void 0:if(void 0===i)i=function(e){const t=e.size-1;let i=0;for(let o=0;o<e.columns;o++)for(let s=0;s<e.rows;s++)i+=__pow(e.get(s,o),2)/t;return Math.sqrt(i)}(this);else if("number"!=typeof i)throw new TypeError("scale must be a number");return!function(e,t){for(let i=0;i<e.rows;i++)for(let o=0;o<e.columns;o++)e.set(i,o,e.get(i,o)/t)}(this,i),this;default:throw new Error(`invalid option: ${e}`)}}toString(e){return a(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}}function w(e,t){return e-t}function x(e){return e.every(e=>"number"==typeof e)}y.prototype.klass="Matrix","undefined"!=typeof Symbol&&(y.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return a(this)}),y.random=y.rand,y.randomInt=y.randInt,y.diagonal=y.diag,y.prototype.diagonal=y.prototype.diag,y.identity=y.eye,y.prototype.negate=y.prototype.neg,y.prototype.tensorProduct=y.prototype.kroneckerProduct,e=new WeakSet,t=function(e,t){if(this.data=[],!(Number.isInteger(t)&&t>=0))throw new TypeError("nColumns must be a positive integer");for(let i=0;i<e;i++)this.data.push(new Float64Array(t));this.rows=e,this.columns=t};let S=class i extends y{constructor(s,n){if(super(),__privateAdd(this,e),__publicField(this,"data"),i.isMatrix(s))__privateMethod(this,e,t).call(this,s.rows,s.columns),i.copy(s,this);else if(Number.isInteger(s)&&s>=0)__privateMethod(this,e,t).call(this,s,n);else{if(!o.isAnyArray(s))throw new TypeError("First argument must be a positive number or an array");{const e=s;if("number"!=typeof(n=(s=e.length)?e[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let t=0;t<s;t++){if(e[t].length!==n)throw new RangeError("Inconsistent array dimensions");if(!x(e[t]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(e[t]))}this.rows=s,this.columns=n}}}set(e,t,i){return this.data[e][t]=i,this}get(e,t){return this.data[e][t]}removeRow(e){return d(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),d(this,e,!0),t=Float64Array.from(h(this,t)),this.data.splice(e,0,t),this.rows+=1,this}removeColumn(e){u(this,e);for(let t=0;t<this.rows;t++){const i=new Float64Array(this.columns-1);for(let o=0;o<e;o++)i[o]=this.data[t][o];for(let o=e+1;o<this.columns;o++)i[o-1]=this.data[t][o];this.data[t]=i}return this.columns-=1,this}addColumn(e,t){void 0===t&&(t=e,e=this.columns),u(this,e,!0),t=p(this,t);for(let i=0;i<this.rows;i++){const o=new Float64Array(this.columns+1);let s=0;for(;s<e;s++)o[s]=this.data[i][s];for(o[s++]=t[i];s<this.columns+1;s++)o[s]=this.data[i][s-1];this.data[i]=o}return this.columns+=1,this}};var $,k;k=S,($=y).prototype.add=function(e){return"number"==typeof e?this.addS(e):this.addM(e)},$.prototype.addS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e);return this},$.prototype.addM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e.get(t,i));return this},$.add=function(e,t){return new k(e).add(t)},$.prototype.sub=function(e){return"number"==typeof e?this.subS(e):this.subM(e)},$.prototype.subS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e);return this},$.prototype.subM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e.get(t,i));return this},$.sub=function(e,t){return new k(e).sub(t)},$.prototype.subtract=$.prototype.sub,$.prototype.subtractS=$.prototype.subS,$.prototype.subtractM=$.prototype.subM,$.subtract=$.sub,$.prototype.mul=function(e){return"number"==typeof e?this.mulS(e):this.mulM(e)},$.prototype.mulS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e);return this},$.prototype.mulM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e.get(t,i));return this},$.mul=function(e,t){return new k(e).mul(t)},$.prototype.multiply=$.prototype.mul,$.prototype.multiplyS=$.prototype.mulS,$.prototype.multiplyM=$.prototype.mulM,$.multiply=$.mul,$.prototype.div=function(e){return"number"==typeof e?this.divS(e):this.divM(e)},$.prototype.divS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e);return this},$.prototype.divM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e.get(t,i));return this},$.div=function(e,t){return new k(e).div(t)},$.prototype.divide=$.prototype.div,$.prototype.divideS=$.prototype.divS,$.prototype.divideM=$.prototype.divM,$.divide=$.div,$.prototype.mod=function(e){return"number"==typeof e?this.modS(e):this.modM(e)},$.prototype.modS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)%e);return this},$.prototype.modM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)%e.get(t,i));return this},$.mod=function(e,t){return new k(e).mod(t)},$.prototype.modulus=$.prototype.mod,$.prototype.modulusS=$.prototype.modS,$.prototype.modulusM=$.prototype.modM,$.modulus=$.mod,$.prototype.and=function(e){return"number"==typeof e?this.andS(e):this.andM(e)},$.prototype.andS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)&e);return this},$.prototype.andM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)&e.get(t,i));return this},$.and=function(e,t){return new k(e).and(t)},$.prototype.or=function(e){return"number"==typeof e?this.orS(e):this.orM(e)},$.prototype.orS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)|e);return this},$.prototype.orM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)|e.get(t,i));return this},$.or=function(e,t){return new k(e).or(t)},$.prototype.xor=function(e){return"number"==typeof e?this.xorS(e):this.xorM(e)},$.prototype.xorS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)^e);return this},$.prototype.xorM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)^e.get(t,i));return this},$.xor=function(e,t){return new k(e).xor(t)},$.prototype.leftShift=function(e){return"number"==typeof e?this.leftShiftS(e):this.leftShiftM(e)},$.prototype.leftShiftS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)<<e);return this},$.prototype.leftShiftM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)<<e.get(t,i));return this},$.leftShift=function(e,t){return new k(e).leftShift(t)},$.prototype.signPropagatingRightShift=function(e){return"number"==typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},$.prototype.signPropagatingRightShiftS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)>>e);return this},$.prototype.signPropagatingRightShiftM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)>>e.get(t,i));return this},$.signPropagatingRightShift=function(e,t){return new k(e).signPropagatingRightShift(t)},$.prototype.rightShift=function(e){return"number"==typeof e?this.rightShiftS(e):this.rightShiftM(e)},$.prototype.rightShiftS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)>>>e);return this},$.prototype.rightShiftM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)>>>e.get(t,i));return this},$.rightShift=function(e,t){return new k(e).rightShift(t)},$.prototype.zeroFillRightShift=$.prototype.rightShift,$.prototype.zeroFillRightShiftS=$.prototype.rightShiftS,$.prototype.zeroFillRightShiftM=$.prototype.rightShiftM,$.zeroFillRightShift=$.rightShift,$.prototype.not=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},$.not=function(e){return new k(e).not()},$.prototype.abs=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},$.abs=function(e){return new k(e).abs()},$.prototype.acos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},$.acos=function(e){return new k(e).acos()},$.prototype.acosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},$.acosh=function(e){return new k(e).acosh()},$.prototype.asin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},$.asin=function(e){return new k(e).asin()},$.prototype.asinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},$.asinh=function(e){return new k(e).asinh()},$.prototype.atan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},$.atan=function(e){return new k(e).atan()},$.prototype.atanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},$.atanh=function(e){return new k(e).atanh()},$.prototype.cbrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},$.cbrt=function(e){return new k(e).cbrt()},$.prototype.ceil=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},$.ceil=function(e){return new k(e).ceil()},$.prototype.clz32=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},$.clz32=function(e){return new k(e).clz32()},$.prototype.cos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},$.cos=function(e){return new k(e).cos()},$.prototype.cosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},$.cosh=function(e){return new k(e).cosh()},$.prototype.exp=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},$.exp=function(e){return new k(e).exp()},$.prototype.expm1=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},$.expm1=function(e){return new k(e).expm1()},$.prototype.floor=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},$.floor=function(e){return new k(e).floor()},$.prototype.fround=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},$.fround=function(e){return new k(e).fround()},$.prototype.log=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},$.log=function(e){return new k(e).log()},$.prototype.log1p=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},$.log1p=function(e){return new k(e).log1p()},$.prototype.log10=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},$.log10=function(e){return new k(e).log10()},$.prototype.log2=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},$.log2=function(e){return new k(e).log2()},$.prototype.round=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},$.round=function(e){return new k(e).round()},$.prototype.sign=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},$.sign=function(e){return new k(e).sign()},$.prototype.sin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},$.sin=function(e){return new k(e).sin()},$.prototype.sinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},$.sinh=function(e){return new k(e).sinh()},$.prototype.sqrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},$.sqrt=function(e){return new k(e).sqrt()},$.prototype.tan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},$.tan=function(e){return new k(e).tan()},$.prototype.tanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},$.tanh=function(e){return new k(e).tanh()},$.prototype.trunc=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},$.trunc=function(e){return new k(e).trunc()},$.pow=function(e,t){return new k(e).pow(t)},$.prototype.pow=function(e){return"number"==typeof e?this.powS(e):this.powM(e)},$.prototype.powS=function(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,__pow(this.get(t,i),e));return this},void($.prototype.powM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,__pow(this.get(t,i),e.get(t,i)));return this}),i=new WeakMap;let C=class e extends y{constructor(e){if(super(),__privateAdd(this,i),S.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");__privateSet(this,i,S.copy(e,new S(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)__privateSet(this,i,new S(e,e));else if(__privateSet(this,i,new S(e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return __privateGet(this,i).size}get rows(){return __privateGet(this,i).rows}get columns(){return __privateGet(this,i).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return S.isMatrix(e)&&"SymmetricMatrix"===e.klassType}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}clone(){const t=new e(this.diagonalSize);for(const[e,i,o]of this.upperRightEntries())t.set(e,i,o);return t}toMatrix(){return new S(this)}get(e,t){return __privateGet(this,i).get(e,t)}set(e,t,o){return __privateGet(this,i).set(e,t,o),__privateGet(this,i).set(t,e,o),this}removeCross(e){return __privateGet(this,i).removeRow(e),__privateGet(this,i).removeColumn(e),this}addCross(e,t){void 0===t&&(t=e,e=this.diagonalSize);const o=t.slice();return o.splice(e,1),__privateGet(this,i).addRow(e,o),__privateGet(this,i).addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[i,o]of e.entries())o||t.push(i);t.reverse();for(const i of t)this.removeCross(i);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let i=0,o=0,s=0;s<t.length;s++)t[s]=this.get(o,i),++i>=e&&(i=++o);return t}static fromCompact(t){const i=t.length,o=(Math.sqrt(8*i+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const s=new e(o);for(let e=0,n=0,r=0;r<i;r++)s.set(e,n,t[r]),++e>=o&&(e=++n);return s}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const i=this.get(e,t);yield[e,t,i],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0){const i=this.get(e,t);yield i,++t>=this.diagonalSize&&(t=++e)}}};C.prototype.klassType="SymmetricMatrix";class B extends C{static isDistanceMatrix(e){return C.isSymmetricMatrix(e)&&"DistanceMatrix"===e.klassSubType}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,i){return e===t&&(i=0),super.set(e,t,i)}addCross(e,t){return void 0===t&&(t=e,e=this.diagonalSize),(t=t.slice())[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new C(this)}clone(){const e=new B(this.diagonalSize);for(const[t,i,o]of this.upperRightEntries())t!==i&&e.set(t,i,o);return e}toCompact(){const{diagonalSize:e}=this,t=new Array((e-1)*e/2);for(let i=1,o=0,s=0;s<t.length;s++)t[s]=this.get(o,i),++i>=e&&(i=1+ ++o);return t}static fromCompact(e){const t=e.length;if(0===t)return new this(0);const i=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const o=new this(i);for(let s=1,n=0,r=0;r<t;r++)o.set(s,n,e[r]),++s>=i&&(s=1+ ++n);return o}}B.prototype.klassSubType="DistanceMatrix";class N extends y{constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}}class V extends N{constructor(e,t,i){f(e,t),g(e,i),super(e,t.length,i.length),this.rowIndices=t,this.columnIndices=i}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class E extends y{constructor(e,t={}){const{rows:i=1}=t;if(e.length%i!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=i,this.columns=e.length/i,this.data=e}set(e,t,i){let o=this._calculateIndex(e,t);return this.data[o]=i,this}get(e,t){let i=this._calculateIndex(e,t);return this.data[i]}_calculateIndex(e,t){return e*this.columns+t}}class A extends y{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,i){return this.data[e][t]=i,this}get(e,t){return this.data[e][t]}}class M{constructor(e){let t,i,o,s,n,r,a,l,c,d=(e=A.checkMatrix(e)).clone(),u=d.rows,h=d.columns,p=new Float64Array(u),f=1;for(t=0;t<u;t++)p[t]=t;for(l=new Float64Array(u),i=0;i<h;i++){for(t=0;t<u;t++)l[t]=d.get(t,i);for(t=0;t<u;t++){for(c=Math.min(t,i),n=0,o=0;o<c;o++)n+=d.get(t,o)*l[o];l[t]-=n,d.set(t,i,l[t])}for(s=i,t=i+1;t<u;t++)Math.abs(l[t])>Math.abs(l[s])&&(s=t);if(s!==i){for(o=0;o<h;o++)r=d.get(s,o),d.set(s,o,d.get(i,o)),d.set(i,o,r);a=p[s],p[s]=p[i],p[i]=a,f=-f}if(i<u&&0!==d.get(i,i))for(t=i+1;t<u;t++)d.set(t,i,d.get(t,i)/d.get(i,i))}this.LU=d,this.pivotVector=p,this.pivotSign=f}isSingular(){let e=this.LU,t=e.columns;for(let i=0;i<t;i++)if(0===e.get(i,i))return!0;return!1}solve(e){e=S.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let i,o,s,n=e.columns,r=e.subMatrixRow(this.pivotVector,0,n-1),a=t.columns;for(s=0;s<a;s++)for(i=s+1;i<a;i++)for(o=0;o<n;o++)r.set(i,o,r.get(i,o)-r.get(s,o)*t.get(i,s));for(s=a-1;s>=0;s--){for(o=0;o<n;o++)r.set(s,o,r.get(s,o)/t.get(s,s));for(i=0;i<s;i++)for(o=0;o<n;o++)r.set(i,o,r.get(i,o)-r.get(s,o)*t.get(i,s))}return r}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,i=e.columns;for(let o=0;o<i;o++)t*=e.get(o,o);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,o=new S(t,i);for(let s=0;s<t;s++)for(let t=0;t<i;t++)s>t?o.set(s,t,e.get(s,t)):s===t?o.set(s,t,1):o.set(s,t,0);return o}get upperTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,o=new S(t,i);for(let s=0;s<t;s++)for(let t=0;t<i;t++)s<=t?o.set(s,t,e.get(s,t)):o.set(s,t,0);return o}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function T(e,t){let i=0;return Math.abs(e)>Math.abs(t)?(i=t/e,Math.abs(e)*Math.sqrt(1+i*i)):0!==t?(i=e/t,Math.abs(t)*Math.sqrt(1+i*i)):0}class D{constructor(e){let t,i,o,s,n=(e=A.checkMatrix(e)).clone(),r=e.rows,a=e.columns,l=new Float64Array(a);for(o=0;o<a;o++){let e=0;for(t=o;t<r;t++)e=T(e,n.get(t,o));if(0!==e){for(n.get(o,o)<0&&(e=-e),t=o;t<r;t++)n.set(t,o,n.get(t,o)/e);for(n.set(o,o,n.get(o,o)+1),i=o+1;i<a;i++){for(s=0,t=o;t<r;t++)s+=n.get(t,o)*n.get(t,i);for(s=-s/n.get(o,o),t=o;t<r;t++)n.set(t,i,n.get(t,i)+s*n.get(t,o))}}l[o]=-e}this.QR=n,this.Rdiag=l}solve(e){e=S.checkMatrix(e);let t=this.QR,i=t.rows;if(e.rows!==i)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let o,s,n,r,a=e.columns,l=e.clone(),c=t.columns;for(n=0;n<c;n++)for(s=0;s<a;s++){for(r=0,o=n;o<i;o++)r+=t.get(o,n)*l.get(o,s);for(r=-r/t.get(n,n),o=n;o<i;o++)l.set(o,s,l.get(o,s)+r*t.get(o,n))}for(n=c-1;n>=0;n--){for(s=0;s<a;s++)l.set(n,s,l.get(n,s)/this.Rdiag[n]);for(o=0;o<n;o++)for(s=0;s<a;s++)l.set(o,s,l.get(o,s)-l.get(n,s)*t.get(o,n))}return l.subMatrix(0,c-1,0,a-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let e,t,i=this.QR,o=i.columns,s=new S(o,o);for(e=0;e<o;e++)for(t=0;t<o;t++)e<t?s.set(e,t,i.get(e,t)):e===t?s.set(e,t,this.Rdiag[e]):s.set(e,t,0);return s}get orthogonalMatrix(){let e,t,i,o,s=this.QR,n=s.rows,r=s.columns,a=new S(n,r);for(i=r-1;i>=0;i--){for(e=0;e<n;e++)a.set(e,i,0);for(a.set(i,i,1),t=i;t<r;t++)if(0!==s.get(i,i)){for(o=0,e=i;e<n;e++)o+=s.get(e,i)*a.get(e,t);for(o=-o/s.get(i,i),e=i;e<n;e++)a.set(e,t,a.get(e,t)+o*s.get(e,i))}}return a}}class P{constructor(e,t={}){if((e=A.checkMatrix(e)).isEmpty())throw new Error("Matrix must be non-empty");let i=e.rows,o=e.columns;const{computeLeftSingularVectors:s=!0,computeRightSingularVectors:n=!0,autoTranspose:r=!1}=t;let a,l=Boolean(s),c=Boolean(n),d=!1;if(i<o)if(r){a=e.transpose(),i=a.rows,o=a.columns,d=!0;let t=l;l=c,c=t}else a=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=e.clone();let u=Math.min(i,o),h=Math.min(i+1,o),p=new Float64Array(h),f=new S(i,u),g=new S(o,o),m=new Float64Array(o),_=new Float64Array(i),b=new Float64Array(h);for(let S=0;S<h;S++)b[S]=S;let v=Math.min(i-1,o),y=Math.max(0,Math.min(o-2,i)),w=Math.max(v,y);for(let S=0;S<w;S++){if(S<v){p[S]=0;for(let e=S;e<i;e++)p[S]=T(p[S],a.get(e,S));if(0!==p[S]){a.get(S,S)<0&&(p[S]=-p[S]);for(let e=S;e<i;e++)a.set(e,S,a.get(e,S)/p[S]);a.set(S,S,a.get(S,S)+1)}p[S]=-p[S]}for(let e=S+1;e<o;e++){if(S<v&&0!==p[S]){let t=0;for(let o=S;o<i;o++)t+=a.get(o,S)*a.get(o,e);t=-t/a.get(S,S);for(let o=S;o<i;o++)a.set(o,e,a.get(o,e)+t*a.get(o,S))}m[e]=a.get(S,e)}if(l&&S<v)for(let e=S;e<i;e++)f.set(e,S,a.get(e,S));if(S<y){m[S]=0;for(let e=S+1;e<o;e++)m[S]=T(m[S],m[e]);if(0!==m[S]){m[S+1]<0&&(m[S]=0-m[S]);for(let e=S+1;e<o;e++)m[e]/=m[S];m[S+1]+=1}if(m[S]=-m[S],S+1<i&&0!==m[S]){for(let e=S+1;e<i;e++)_[e]=0;for(let e=S+1;e<i;e++)for(let t=S+1;t<o;t++)_[e]+=m[t]*a.get(e,t);for(let e=S+1;e<o;e++){let t=-m[e]/m[S+1];for(let o=S+1;o<i;o++)a.set(o,e,a.get(o,e)+t*_[o])}}if(c)for(let e=S+1;e<o;e++)g.set(e,S,m[e])}}let x=Math.min(o,i+1);if(v<o&&(p[v]=a.get(v,v)),i<x&&(p[x-1]=0),y+1<x&&(m[y]=a.get(y,x-1)),m[x-1]=0,l){for(let e=v;e<u;e++){for(let t=0;t<i;t++)f.set(t,e,0);f.set(e,e,1)}for(let e=v-1;e>=0;e--)if(0!==p[e]){for(let t=e+1;t<u;t++){let o=0;for(let s=e;s<i;s++)o+=f.get(s,e)*f.get(s,t);o=-o/f.get(e,e);for(let s=e;s<i;s++)f.set(s,t,f.get(s,t)+o*f.get(s,e))}for(let t=e;t<i;t++)f.set(t,e,-f.get(t,e));f.set(e,e,1+f.get(e,e));for(let t=0;t<e-1;t++)f.set(t,e,0)}else{for(let t=0;t<i;t++)f.set(t,e,0);f.set(e,e,1)}}if(c)for(let S=o-1;S>=0;S--){if(S<y&&0!==m[S])for(let e=S+1;e<o;e++){let t=0;for(let i=S+1;i<o;i++)t+=g.get(i,S)*g.get(i,e);t=-t/g.get(S+1,S);for(let i=S+1;i<o;i++)g.set(i,e,g.get(i,e)+t*g.get(i,S))}for(let e=0;e<o;e++)g.set(e,S,0);g.set(S,S,1)}let $=x-1,k=Number.EPSILON;for(;x>0;){let e,t;for(e=x-2;e>=-1&&-1!==e;e--){const t=Number.MIN_VALUE+k*Math.abs(p[e]+Math.abs(p[e+1]));if(Math.abs(m[e])<=t||Number.isNaN(m[e])){m[e]=0;break}}if(e===x-2)t=4;else{let i;for(i=x-1;i>=e&&i!==e;i--){let t=(i!==x?Math.abs(m[i]):0)+(i!==e+1?Math.abs(m[i-1]):0);if(Math.abs(p[i])<=k*t){p[i]=0;break}}i===e?t=3:i===x-1?t=1:(t=2,e=i)}switch(e++,t){case 1:{let t=m[x-2];m[x-2]=0;for(let i=x-2;i>=e;i--){let s=T(p[i],t),n=p[i]/s,r=t/s;if(p[i]=s,i!==e&&(t=-r*m[i-1],m[i-1]=n*m[i-1]),c)for(let e=0;e<o;e++)s=n*g.get(e,i)+r*g.get(e,x-1),g.set(e,x-1,-r*g.get(e,i)+n*g.get(e,x-1)),g.set(e,i,s)}break}case 2:{let t=m[e-1];m[e-1]=0;for(let o=e;o<x;o++){let s=T(p[o],t),n=p[o]/s,r=t/s;if(p[o]=s,t=-r*m[o],m[o]=n*m[o],l)for(let t=0;t<i;t++)s=n*f.get(t,o)+r*f.get(t,e-1),f.set(t,e-1,-r*f.get(t,o)+n*f.get(t,e-1)),f.set(t,o,s)}break}case 3:{const t=Math.max(Math.abs(p[x-1]),Math.abs(p[x-2]),Math.abs(m[x-2]),Math.abs(p[e]),Math.abs(m[e])),s=p[x-1]/t,n=p[x-2]/t,r=m[x-2]/t,a=p[e]/t,d=m[e]/t,u=((n+s)*(n-s)+r*r)/2,h=s*r*(s*r);let _=0;0===u&&0===h||(_=u<0?0-Math.sqrt(u*u+h):Math.sqrt(u*u+h),_=h/(u+_));let b=(a+s)*(a-s)+_,v=a*d;for(let y=e;y<x-1;y++){let t=T(b,v);0===t&&(t=Number.MIN_VALUE);let s=b/t,n=v/t;if(y!==e&&(m[y-1]=t),b=s*p[y]+n*m[y],m[y]=s*m[y]-n*p[y],v=n*p[y+1],p[y+1]=s*p[y+1],c)for(let e=0;e<o;e++)t=s*g.get(e,y)+n*g.get(e,y+1),g.set(e,y+1,-n*g.get(e,y)+s*g.get(e,y+1)),g.set(e,y,t);if(t=T(b,v),0===t&&(t=Number.MIN_VALUE),s=b/t,n=v/t,p[y]=t,b=s*m[y]+n*p[y+1],p[y+1]=-n*m[y]+s*p[y+1],v=n*m[y+1],m[y+1]=s*m[y+1],l&&y<i-1)for(let e=0;e<i;e++)t=s*f.get(e,y)+n*f.get(e,y+1),f.set(e,y+1,-n*f.get(e,y)+s*f.get(e,y+1)),f.set(e,y,t)}m[x-2]=b;break}case 4:if(p[e]<=0&&(p[e]=p[e]<0?-p[e]:0,c))for(let t=0;t<=$;t++)g.set(t,e,-g.get(t,e));for(;e<$&&!(p[e]>=p[e+1]);){let t=p[e];if(p[e]=p[e+1],p[e+1]=t,c&&e<o-1)for(let i=0;i<o;i++)t=g.get(i,e+1),g.set(i,e+1,g.get(i,e)),g.set(i,e,t);if(l&&e<i-1)for(let o=0;o<i;o++)t=f.get(o,e+1),f.set(o,e+1,f.get(o,e)),f.set(o,e,t);e++}x--}}if(d){let e=g;g=f,f=e}this.m=i,this.n=o,this.s=p,this.U=f,this.V=g}solve(e){let t=e,i=this.threshold,o=this.s.length,s=S.zeros(o,o);for(let u=0;u<o;u++)Math.abs(this.s[u])<=i?s.set(u,u,0):s.set(u,u,1/this.s[u]);let n=this.U,r=this.rightSingularVectors,a=r.mmul(s),l=r.rows,c=n.rows,d=S.zeros(l,c);for(let u=0;u<l;u++)for(let e=0;e<c;e++){let t=0;for(let i=0;i<o;i++)t+=a.get(u,i)*n.get(e,i);d.set(u,e,t)}return d.mmul(t)}solveForDiagonal(e){return this.solve(S.diag(e))}inverse(){let e=this.V,t=this.threshold,i=e.rows,o=e.columns,s=new S(i,this.s.length);for(let c=0;c<i;c++)for(let i=0;i<o;i++)Math.abs(this.s[i])>t&&s.set(c,i,e.get(c,i)/this.s[i]);let n=this.U,r=n.rows,a=n.columns,l=new S(i,r);for(let c=0;c<i;c++)for(let e=0;e<r;e++){let t=0;for(let i=0;i<a;i++)t+=s.get(c,i)*n.get(e,i);l.set(c,e,t)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,i=this.s;for(let o=0,s=i.length;o<s;o++)i[o]>e&&t++;return t}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return S.diag(this.s)}}function R(e,t,i=!1){return e=A.checkMatrix(e),t=A.checkMatrix(t),i?new P(e).solve(t):e.isSquare()?new M(e).solve(t):new D(e).solve(t)}function O(e,t){let i=[];for(let o=0;o<e;o++)o!==t&&i.push(o);return i}function I(e,t,i,o=1e-9,s=1e-9){if(e>s)return new Array(t.rows+1).fill(0);{let e=t.addRow(i,[0]);for(let t=0;t<e.rows;t++)Math.abs(e.get(t,0))<o&&e.set(t,0,0);return e.to1DArray()}}class F{constructor(e,t={}){const{assumeSymmetric:i=!1}=t;if(!(e=A.checkMatrix(e)).isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let o,s,n=e.columns,r=new S(n,n),a=new Float64Array(n),l=new Float64Array(n),c=e,d=!1;if(d=!!i||e.isSymmetric(),d){for(o=0;o<n;o++)for(s=0;s<n;s++)r.set(o,s,c.get(o,s));!function(e,t,i,o){let s,n,r,a,l,c,d,u;for(l=0;l<e;l++)i[l]=o.get(e-1,l);for(a=e-1;a>0;a--){for(u=0,r=0,c=0;c<a;c++)u+=Math.abs(i[c]);if(0===u)for(t[a]=i[a-1],l=0;l<a;l++)i[l]=o.get(a-1,l),o.set(a,l,0),o.set(l,a,0);else{for(c=0;c<a;c++)i[c]/=u,r+=i[c]*i[c];for(s=i[a-1],n=Math.sqrt(r),s>0&&(n=-n),t[a]=u*n,r-=s*n,i[a-1]=s-n,l=0;l<a;l++)t[l]=0;for(l=0;l<a;l++){for(s=i[l],o.set(l,a,s),n=t[l]+o.get(l,l)*s,c=l+1;c<=a-1;c++)n+=o.get(c,l)*i[c],t[c]+=o.get(c,l)*s;t[l]=n}for(s=0,l=0;l<a;l++)t[l]/=r,s+=t[l]*i[l];for(d=s/(r+r),l=0;l<a;l++)t[l]-=d*i[l];for(l=0;l<a;l++){for(s=i[l],n=t[l],c=l;c<=a-1;c++)o.set(c,l,o.get(c,l)-(s*t[c]+n*i[c]));i[l]=o.get(a-1,l),o.set(a,l,0)}}i[a]=r}for(a=0;a<e-1;a++){if(o.set(e-1,a,o.get(a,a)),o.set(a,a,1),r=i[a+1],0!==r){for(c=0;c<=a;c++)i[c]=o.get(c,a+1)/r;for(l=0;l<=a;l++){for(n=0,c=0;c<=a;c++)n+=o.get(c,a+1)*o.get(c,l);for(c=0;c<=a;c++)o.set(c,l,o.get(c,l)-n*i[c])}}for(c=0;c<=a;c++)o.set(c,a+1,0)}for(l=0;l<e;l++)i[l]=o.get(e-1,l),o.set(e-1,l,0);o.set(e-1,e-1,1),t[0]=0}(n,l,a,r),function(e,t,i,o){let s,n,r,a,l,c,d,u,h,p,f,g,m,_,b,v;for(r=1;r<e;r++)t[r-1]=t[r];t[e-1]=0;let y=0,w=0,x=Number.EPSILON;for(c=0;c<e;c++){for(w=Math.max(w,Math.abs(i[c])+Math.abs(t[c])),d=c;d<e&&!(Math.abs(t[d])<=x*w);)d++;if(d>c)do{for(s=i[c],u=(i[c+1]-s)/(2*t[c]),h=T(u,1),u<0&&(h=-h),i[c]=t[c]/(u+h),i[c+1]=t[c]*(u+h),p=i[c+1],n=s-i[c],r=c+2;r<e;r++)i[r]-=n;for(y+=n,u=i[d],f=1,g=f,m=f,_=t[c+1],b=0,v=0,r=d-1;r>=c;r--)for(m=g,g=f,v=b,s=f*t[r],n=f*u,h=T(u,t[r]),t[r+1]=b*h,b=t[r]/h,f=u/h,u=f*i[r]-b*s,i[r+1]=n+b*(f*s+b*i[r]),l=0;l<e;l++)n=o.get(l,r+1),o.set(l,r+1,b*o.get(l,r)+f*n),o.set(l,r,f*o.get(l,r)-b*n);u=-b*v*m*_*t[c]/p,t[c]=b*u,i[c]=f*u}while(Math.abs(t[c])>x*w);i[c]=i[c]+y,t[c]=0}for(r=0;r<e-1;r++){for(l=r,u=i[r],a=r+1;a<e;a++)i[a]<u&&(l=a,u=i[a]);if(l!==r)for(i[l]=i[r],i[r]=u,a=0;a<e;a++)u=o.get(a,r),o.set(a,r,o.get(a,l)),o.set(a,l,u)}}(n,l,a,r)}else{let e=new S(n,n),t=new Float64Array(n);for(s=0;s<n;s++)for(o=0;o<n;o++)e.set(o,s,c.get(o,s));!function(e,t,i,o){let s,n,r,a,l,c,d,u=e-1;for(c=1;c<=u-1;c++){for(d=0,a=c;a<=u;a++)d+=Math.abs(t.get(a,c-1));if(0!==d){for(r=0,a=u;a>=c;a--)i[a]=t.get(a,c-1)/d,r+=i[a]*i[a];for(n=Math.sqrt(r),i[c]>0&&(n=-n),r-=i[c]*n,i[c]=i[c]-n,l=c;l<e;l++){for(s=0,a=u;a>=c;a--)s+=i[a]*t.get(a,l);for(s/=r,a=c;a<=u;a++)t.set(a,l,t.get(a,l)-s*i[a])}for(a=0;a<=u;a++){for(s=0,l=u;l>=c;l--)s+=i[l]*t.get(a,l);for(s/=r,l=c;l<=u;l++)t.set(a,l,t.get(a,l)-s*i[l])}i[c]=d*i[c],t.set(c,c-1,d*n)}}for(a=0;a<e;a++)for(l=0;l<e;l++)o.set(a,l,a===l?1:0);for(c=u-1;c>=1;c--)if(0!==t.get(c,c-1)){for(a=c+1;a<=u;a++)i[a]=t.get(a,c-1);for(l=c;l<=u;l++){for(n=0,a=c;a<=u;a++)n+=i[a]*o.get(a,l);for(n=n/i[c]/t.get(c,c-1),a=c;a<=u;a++)o.set(a,l,o.get(a,l)+n*i[a])}}}(n,e,t,r),function(e,t,i,o,s){let n,r,a,l,c,d,u,h,p,f,g,m,_,b,v,y=e-1,w=e-1,x=Number.EPSILON,S=0,$=0,k=0,C=0,B=0,N=0,V=0,E=0;for(n=0;n<e;n++)for((n<0||n>w)&&(i[n]=s.get(n,n),t[n]=0),r=Math.max(n-1,0);r<e;r++)$+=Math.abs(s.get(n,r));for(;y>=0;){for(l=y;l>0&&(N=Math.abs(s.get(l-1,l-1))+Math.abs(s.get(l,l)),0===N&&(N=$),!(Math.abs(s.get(l,l-1))<x*N));)l--;if(l===y)s.set(y,y,s.get(y,y)+S),i[y]=s.get(y,y),t[y]=0,y--,E=0;else if(l===y-1){if(u=s.get(y,y-1)*s.get(y-1,y),k=(s.get(y-1,y-1)-s.get(y,y))/2,C=k*k+u,V=Math.sqrt(Math.abs(C)),s.set(y,y,s.get(y,y)+S),s.set(y-1,y-1,s.get(y-1,y-1)+S),h=s.get(y,y),C>=0){for(V=k>=0?k+V:k-V,i[y-1]=h+V,i[y]=i[y-1],0!==V&&(i[y]=h-u/V),t[y-1]=0,t[y]=0,h=s.get(y,y-1),N=Math.abs(h)+Math.abs(V),k=h/N,C=V/N,B=Math.sqrt(k*k+C*C),k/=B,C/=B,r=y-1;r<e;r++)V=s.get(y-1,r),s.set(y-1,r,C*V+k*s.get(y,r)),s.set(y,r,C*s.get(y,r)-k*V);for(n=0;n<=y;n++)V=s.get(n,y-1),s.set(n,y-1,C*V+k*s.get(n,y)),s.set(n,y,C*s.get(n,y)-k*V);for(n=0;n<=w;n++)V=o.get(n,y-1),o.set(n,y-1,C*V+k*o.get(n,y)),o.set(n,y,C*o.get(n,y)-k*V)}else i[y-1]=h+k,i[y]=h+k,t[y-1]=V,t[y]=-V;y-=2,E=0}else{if(h=s.get(y,y),p=0,u=0,l<y&&(p=s.get(y-1,y-1),u=s.get(y,y-1)*s.get(y-1,y)),10===E){for(S+=h,n=0;n<=y;n++)s.set(n,n,s.get(n,n)-h);N=Math.abs(s.get(y,y-1))+Math.abs(s.get(y-1,y-2)),h=p=.75*N,u=-.4375*N*N}if(30===E&&(N=(p-h)/2,N=N*N+u,N>0)){for(N=Math.sqrt(N),p<h&&(N=-N),N=h-u/((p-h)/2+N),n=0;n<=y;n++)s.set(n,n,s.get(n,n)-N);S+=N,h=p=u=.964}for(E+=1,c=y-2;c>=l&&(V=s.get(c,c),B=h-V,N=p-V,k=(B*N-u)/s.get(c+1,c)+s.get(c,c+1),C=s.get(c+1,c+1)-V-B-N,B=s.get(c+2,c+1),N=Math.abs(k)+Math.abs(C)+Math.abs(B),k/=N,C/=N,B/=N,c!==l)&&!(Math.abs(s.get(c,c-1))*(Math.abs(C)+Math.abs(B))<x*(Math.abs(k)*(Math.abs(s.get(c-1,c-1))+Math.abs(V)+Math.abs(s.get(c+1,c+1)))));)c--;for(n=c+2;n<=y;n++)s.set(n,n-2,0),n>c+2&&s.set(n,n-3,0);for(a=c;a<=y-1&&(b=a!==y-1,a!==c&&(k=s.get(a,a-1),C=s.get(a+1,a-1),B=b?s.get(a+2,a-1):0,h=Math.abs(k)+Math.abs(C)+Math.abs(B),0!==h&&(k/=h,C/=h,B/=h)),0!==h);a++)if(N=Math.sqrt(k*k+C*C+B*B),k<0&&(N=-N),0!==N){for(a!==c?s.set(a,a-1,-N*h):l!==c&&s.set(a,a-1,-s.get(a,a-1)),k+=N,h=k/N,p=C/N,V=B/N,C/=k,B/=k,r=a;r<e;r++)k=s.get(a,r)+C*s.get(a+1,r),b&&(k+=B*s.get(a+2,r),s.set(a+2,r,s.get(a+2,r)-k*V)),s.set(a,r,s.get(a,r)-k*h),s.set(a+1,r,s.get(a+1,r)-k*p);for(n=0;n<=Math.min(y,a+3);n++)k=h*s.get(n,a)+p*s.get(n,a+1),b&&(k+=V*s.get(n,a+2),s.set(n,a+2,s.get(n,a+2)-k*B)),s.set(n,a,s.get(n,a)-k),s.set(n,a+1,s.get(n,a+1)-k*C);for(n=0;n<=w;n++)k=h*o.get(n,a)+p*o.get(n,a+1),b&&(k+=V*o.get(n,a+2),o.set(n,a+2,o.get(n,a+2)-k*B)),o.set(n,a,o.get(n,a)-k),o.set(n,a+1,o.get(n,a+1)-k*C)}}}if(0!==$){for(y=e-1;y>=0;y--)if(k=i[y],C=t[y],0===C)for(l=y,s.set(y,y,1),n=y-1;n>=0;n--){for(u=s.get(n,n)-k,B=0,r=l;r<=y;r++)B+=s.get(n,r)*s.get(r,y);if(t[n]<0)V=u,N=B;else if(l=n,0===t[n]?s.set(n,y,0!==u?-B/u:-B/(x*$)):(h=s.get(n,n+1),p=s.get(n+1,n),C=(i[n]-k)*(i[n]-k)+t[n]*t[n],d=(h*N-V*B)/C,s.set(n,y,d),s.set(n+1,y,Math.abs(h)>Math.abs(V)?(-B-u*d)/h:(-N-p*d)/V)),d=Math.abs(s.get(n,y)),x*d*d>1)for(r=n;r<=y;r++)s.set(r,y,s.get(r,y)/d)}else if(C<0)for(l=y-1,Math.abs(s.get(y,y-1))>Math.abs(s.get(y-1,y))?(s.set(y-1,y-1,C/s.get(y,y-1)),s.set(y-1,y,-(s.get(y,y)-k)/s.get(y,y-1))):(v=L(0,-s.get(y-1,y),s.get(y-1,y-1)-k,C),s.set(y-1,y-1,v[0]),s.set(y-1,y,v[1])),s.set(y,y-1,0),s.set(y,y,1),n=y-2;n>=0;n--){for(f=0,g=0,r=l;r<=y;r++)f+=s.get(n,r)*s.get(r,y-1),g+=s.get(n,r)*s.get(r,y);if(u=s.get(n,n)-k,t[n]<0)V=u,B=f,N=g;else if(l=n,0===t[n]?(v=L(-f,-g,u,C),s.set(n,y-1,v[0]),s.set(n,y,v[1])):(h=s.get(n,n+1),p=s.get(n+1,n),m=(i[n]-k)*(i[n]-k)+t[n]*t[n]-C*C,_=2*(i[n]-k)*C,0===m&&0===_&&(m=x*$*(Math.abs(u)+Math.abs(C)+Math.abs(h)+Math.abs(p)+Math.abs(V))),v=L(h*B-V*f+C*g,h*N-V*g-C*f,m,_),s.set(n,y-1,v[0]),s.set(n,y,v[1]),Math.abs(h)>Math.abs(V)+Math.abs(C)?(s.set(n+1,y-1,(-f-u*s.get(n,y-1)+C*s.get(n,y))/h),s.set(n+1,y,(-g-u*s.get(n,y)-C*s.get(n,y-1))/h)):(v=L(-B-p*s.get(n,y-1),-N-p*s.get(n,y),V,C),s.set(n+1,y-1,v[0]),s.set(n+1,y,v[1]))),d=Math.max(Math.abs(s.get(n,y-1)),Math.abs(s.get(n,y))),x*d*d>1)for(r=n;r<=y;r++)s.set(r,y-1,s.get(r,y-1)/d),s.set(r,y,s.get(r,y)/d)}for(n=0;n<e;n++)if(n<0||n>w)for(r=n;r<e;r++)o.set(n,r,s.get(n,r));for(r=e-1;r>=0;r--)for(n=0;n<=w;n++){for(V=0,a=0;a<=Math.min(r,w);a++)V+=o.get(n,a)*s.get(a,r);o.set(n,r,V)}}}(n,l,a,r,e)}this.n=n,this.e=l,this.d=a,this.V=r}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e,t,i=this.n,o=this.e,s=this.d,n=new S(i,i);for(e=0;e<i;e++){for(t=0;t<i;t++)n.set(e,t,0);n.set(e,e,s[e]),o[e]>0?n.set(e,e+1,o[e]):o[e]<0&&n.set(e,e-1,o[e])}return n}}function L(e,t,i,o){let s,n;return Math.abs(i)>Math.abs(o)?(s=o/i,n=i+s*o,[(e+s*t)/n,(t-s*e)/n]):(s=i/o,n=o+s*i,[(s*e+t)/n,(s*t-e)/n])}class j{constructor(e){if(!(e=A.checkMatrix(e)).isSymmetric())throw new Error("Matrix is not symmetric");let t,i,o,s=e,n=s.rows,r=new S(n,n),a=!0;for(i=0;i<n;i++){let e=0;for(o=0;o<i;o++){let n=0;for(t=0;t<o;t++)n+=r.get(o,t)*r.get(i,t);n=(s.get(i,o)-n)/r.get(o,o),r.set(i,o,n),e+=n*n}for(e=s.get(i,i)-e,a&&(a=e>0),r.set(i,i,Math.sqrt(Math.max(e,0))),o=i+1;o<n;o++)r.set(i,o,0)}this.L=r,this.positiveDefinite=a}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=A.checkMatrix(e);let t=this.L,i=t.rows;if(e.rows!==i)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let o,s,n,r=e.columns,a=e.clone();for(n=0;n<i;n++)for(s=0;s<r;s++){for(o=0;o<n;o++)a.set(n,s,a.get(n,s)-a.get(o,s)*t.get(n,o));a.set(n,s,a.get(n,s)/t.get(n,n))}for(n=i-1;n>=0;n--)for(s=0;s<r;s++){for(o=n+1;o<i;o++)a.set(n,s,a.get(n,s)-a.get(o,s)*t.get(o,n));a.set(n,s,a.get(n,s)/t.get(n,n))}return a}get lowerTriangularMatrix(){return this.L}}class H{constructor(e,t={}){e=A.checkMatrix(e);let{Y:i}=t;const{scaleScores:s=!1,maxIterations:n=1e3,terminationCriteria:r=1e-10}=t;let a;if(i){if(i=o.isAnyArray(i)&&"number"==typeof i[0]?S.columnVector(i):A.checkMatrix(i),i.rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=i.getColumnVector(0)}else a=e.getColumnVector(0);let l,c,d,u,h=1;for(let o=0;o<n&&h>r;o++)d=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),d=d.div(d.norm()),l=e.mmul(d).div(d.transpose().mmul(d).get(0,0)),o>0&&(h=l.clone().sub(u).pow(2).sum()),u=l.clone(),i?(c=i.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),c=c.div(c.norm()),a=i.mmul(c).div(c.transpose().mmul(c).get(0,0))):a=l;if(i){let t=e.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));t=t.div(t.norm());let o=e.clone().sub(l.clone().mmul(t.transpose())),s=a.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),n=i.clone().sub(l.clone().mulS(s.get(0,0)).mmul(c.transpose()));this.t=l,this.p=t.transpose(),this.w=d.transpose(),this.q=c,this.u=a,this.s=l.transpose().mmul(l),this.xResidual=o,this.yResidual=n,this.betas=s}else this.w=d.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=s?l.clone().div(this.s.get(0,0)):l,this.xResidual=e.sub(l.mmul(d.transpose()))}}return matrix$1.AbstractMatrix=y,matrix$1.CHO=j,matrix$1.CholeskyDecomposition=j,matrix$1.DistanceMatrix=B,matrix$1.EVD=F,matrix$1.EigenvalueDecomposition=F,matrix$1.LU=M,matrix$1.LuDecomposition=M,matrix$1.Matrix=S,matrix$1.MatrixColumnSelectionView=class extends N{constructor(e,t){g(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,i){return this.matrix.set(e,this.columnIndices[t],i),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},matrix$1.MatrixColumnView=class extends N{constructor(e,t){u(e,t),super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}},matrix$1.MatrixFlipColumnView=class extends N{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},matrix$1.MatrixFlipRowView=class extends N{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},matrix$1.MatrixRowSelectionView=class extends N{constructor(e,t){f(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,i){return this.matrix.set(this.rowIndices[e],t,i),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},matrix$1.MatrixRowView=class extends N{constructor(e,t){d(e,t),super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}},matrix$1.MatrixSelectionView=V,matrix$1.MatrixSubView=class extends N{constructor(e,t,i,o,s){m(e,t,i,o,s),super(e,i-t+1,s-o+1),this.startRow=t,this.startColumn=o}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},matrix$1.MatrixTransposeView=class extends N{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}},matrix$1.NIPALS=H,matrix$1.Nipals=H,matrix$1.QR=D,matrix$1.QrDecomposition=D,matrix$1.SVD=P,matrix$1.SingularValueDecomposition=P,matrix$1.SymmetricMatrix=C,matrix$1.WrapperMatrix1D=E,matrix$1.WrapperMatrix2D=A,matrix$1.correlation=function(e,t=e,i={}){e=new S(e);let s=!1;if("object"!=typeof t||S.isMatrix(t)||o.isAnyArray(t)?t=new S(t):(i=t,t=e,s=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0,scale:r=!0}=i;n&&(e.center("column"),s||t.center("column")),r&&(e.scale("column"),s||t.scale("column"));const a=e.standardDeviation("column",{unbiased:!0}),l=s?a:t.standardDeviation("column",{unbiased:!0}),c=e.transpose().mmul(t);for(let o=0;o<c.rows;o++)for(let t=0;t<c.columns;t++)c.set(o,t,c.get(o,t)*(1/(a[o]*l[t]))*(1/(e.rows-1)));return c},matrix$1.covariance=function(e,t=e,i={}){e=new S(e);let s=!1;if("object"!=typeof t||S.isMatrix(t)||o.isAnyArray(t)?t=new S(t):(i=t,t=e,s=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0}=i;n&&(e=e.center("column"),s||(t=t.center("column")));const r=e.transpose().mmul(t);for(let o=0;o<r.rows;o++)for(let t=0;t<r.columns;t++)r.set(o,t,r.get(o,t)*(1/(e.rows-1)));return r},matrix$1.default=S,matrix$1.determinant=function e(t){if((t=S.checkMatrix(t)).isSquare()){if(0===t.columns)return 1;let i,o,s,n;if(2===t.columns)return i=t.get(0,0),o=t.get(0,1),s=t.get(1,0),n=t.get(1,1),i*n-o*s;if(3===t.columns){let n,r,a;return n=new V(t,[1,2],[1,2]),r=new V(t,[1,2],[0,2]),a=new V(t,[1,2],[0,1]),i=t.get(0,0),o=t.get(0,1),s=t.get(0,2),i*e(n)-o*e(r)+s*e(a)}return new M(t).determinant}throw Error("determinant can only be calculated for a square matrix")},matrix$1.inverse=function(e,t=!1){return e=A.checkMatrix(e),t?new P(e).inverse():R(e,S.eye(e.rows))},matrix$1.linearDependencies=function(e,t={}){const{thresholdValue:i=1e-9,thresholdError:o=1e-9}=t;let s=(e=S.checkMatrix(e)).rows,n=new S(s,s);for(let r=0;r<s;r++){let t=S.columnVector(e.getRow(r)),a=e.subMatrixRow(O(s,r)).transpose(),l=new P(a).solve(t),c=S.sub(t,a.mmul(l)).abs().max();n.setRow(r,I(c,l,r,i,o))}return n},matrix$1.pseudoInverse=function(e,t=Number.EPSILON){if((e=S.checkMatrix(e)).isEmpty())return e.transpose();let i=new P(e,{autoTranspose:!0}),o=i.leftSingularVectors,s=i.rightSingularVectors,n=i.diagonal;for(let r=0;r<n.length;r++)Math.abs(n[r])>t?n[r]=1/n[r]:n[r]=0;return s.mmul(S.diag(n).mmul(o.transpose()))},matrix$1.solve=R,matrix$1.wrap=function(e,t){if(o.isAnyArray(e))return e[0]&&o.isAnyArray(e[0])?new A(e):new E(e,t);throw new Error("the argument is not an array")},matrix$1}var matrixExports=requireMatrix();const matrix=getDefaultExportFromCjs(matrixExports),Matrix=matrixExports.Matrix,MatrixTransposeView=matrixExports.MatrixTransposeView;matrix.Matrix?matrix.Matrix:matrixExports.Matrix;const solve=matrixExports.solve;function checkArrayLength(e,t){if(!isAnyArray(e)||!isAnyArray(t))throw new TypeError("x and y must be arrays");if(e.length!==t.length)throw new RangeError("x and y arrays must have the same length")}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict(e){if("number"==typeof e)return this._predict(e);if(isAnyArray(e)){const t=[];for(const i of e)t.push(this._predict(i));return t}throw new TypeError("x must be a number or array")}_predict(e){throw new Error("_predict must be implemented")}train(){}toString(e){return""}toLaTeX(e){return""}score(e,t){checkArrayLength(e,t);const i=e.length,o=new Array(i);for(let h=0;h<i;h++)o[h]=this._predict(e[h]);let s=0,n=0,r=0,a=0,l=0,c=0,d=0;for(let h=0;h<i;h++)s+=o[h],n+=t[h],l+=o[h]*o[h],c+=t[h]*t[h],d+=o[h]*t[h],0!==t[h]&&(r+=(t[h]-o[h])*(t[h]-o[h])/t[h]),a+=(t[h]-o[h])*(t[h]-o[h]);const u=(i*d-s*n)/Math.sqrt((i*l-s*s)*(i*c-n*n));return{r:u,r2:u*u,chi2:r,rmsd:Math.sqrt(a/i)}}}function maybeToPrecision(e,t){return e<0?(e=0-e,"number"==typeof t?`- ${e.toPrecision(t)}`:`- ${e.toString()}`):"number"==typeof t?e.toPrecision(t):e.toString()}class PolynomialRegression extends BaseRegression{constructor(e,t,i,o={}){if(super(),!0===e)this.degree=t.degree,this.powers=t.powers,this.coefficients=t.coefficients;else{checkArrayLength(e,t);const s=regress(e,t,i,o);this.degree=s.degree,this.powers=s.powers,this.coefficients=s.coefficients}}_predict(e){let t=0;for(let i=0;i<this.powers.length;i++)t+=this.coefficients[i]*__pow(e,this.powers[i]);return t}toJSON(){return{name:"polynomialRegression",degree:this.degree,powers:this.powers,coefficients:this.coefficients}}toString(e){return this._toFormula(e,!1)}toLaTeX(e){return this._toFormula(e,!0)}_toFormula(e,t){let i="^",o="",s=" * ";t&&(i="^{",o="}",s="");let n="",r="";for(let a=0;a<this.coefficients.length;a++)r="",0!==this.coefficients[a]&&(r=0===this.powers[a]?maybeToPrecision(this.coefficients[a],e):1===this.powers[a]?`${maybeToPrecision(this.coefficients[a],e)+s}x`:`${maybeToPrecision(this.coefficients[a],e)+s}x${i}${this.powers[a]}${o}`,this.coefficients[a]>0&&a!==this.coefficients.length-1?r=` + ${r}`:a!==this.coefficients.length-1&&(r=` ${r}`)),n=r+n;return n.startsWith("+")&&(n=n.slice(1)),`f(x) = ${n}`}static load(e){if("polynomialRegression"!==e.name)throw new TypeError("not a polynomial regression model");return new PolynomialRegression(!0,e)}}function regress(e,t,i,o={}){const s=e.length;let{interceptAtZero:n=!1}=o,r=[];if(Array.isArray(i))r=i,n=!1;else if("number"==typeof i)if(n){r=new Array(i);for(let e=0;e<i;e++)r[e]=e+1}else{r=new Array(i+1);for(let e=0;e<=i;e++)r[e]=e}const a=r.length,l=new Matrix(s,a),c=new Matrix([t]);for(let p=0;p<a;p++)for(let t=0;t<s;t++)0===r[p]?l.set(t,p,1):l.set(t,p,__pow(e[t],r[p]));const d=new MatrixTransposeView(l),u=d.mmul(l),h=d.mmul(new MatrixTransposeView(c));return{coefficients:solve(u,h).to1DArray(),degree:Math.max(...r),powers:r}}const _hoisted_1$k={class:"container"},_hoisted_2$j={key:1,class:"col-md-12"},_hoisted_3$i={class:"alert alert-info"},_hoisted_4$i={class:"row"},_hoisted_5$h={class:"col-md-6"},_hoisted_6$h={class:"form-label fs-6"},_hoisted_7$d={class:"form-label fs-6"},_hoisted_8$d={class:"row"},_hoisted_9$c={class:"col-md-10"},_hoisted_10$b={class:"col-md-2"},_hoisted_11$9={class:"col-md-6"},_hoisted_12$9={class:"input-group has-validation"},_hoisted_13$8={class:"input-group-text"},_hoisted_14$8=["onUpdate:modelValue","disabled"],_hoisted_15$7={class:"col-md-6"},_hoisted_16$6={class:"input-group has-validation"},_hoisted_17$4={class:"input-group-text"},_hoisted_18$3=["onUpdate:modelValue","disabled"],_hoisted_19$3={class:"input-group-text"},_hoisted_20$1={class:"col-md-6"},_hoisted_21$1={class:"col-md-6"},_hoisted_22$1={class:"row gy-2"},_hoisted_23$1={class:"col-md-12"},_hoisted_24$1=["disabled"],_hoisted_25$1={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_26$1=["disabled"],_hoisted_27$1=["disabled"],_hoisted_28$1={key:0,class:"row"},_sfc_main$k={__name:"GravityFormulaView",setup(e){const t=ref(!1),{createInterval:i}=useTimers(),o=ref(null),s=ref({last:0,average:0,sum:0,count:0}),n=ref(null),r=ref(8),a=ref([]),l=ref(!0),c=ref(0),d=ref([{label:"Current",value:0},{label:"Formula",value:1},{label:"Table",value:2},{label:"Graph",value:3}]);function u(){t.value=!0}function h(){t.value=!1}function p(){s.value.last=0,s.value.sum=0,s.value.count=0,s.value.average=0}function f(){return __async(this,null,function*(){const e=yield status.getGyro();e.success&&0!==e.data.angle&&(s.value.last=Math.round(100*parseFloat(e.data.angle)/100).toFixed(2),s.value.sum+=parseFloat(e.data.angle),s.value.count++,s.value.average=(Math.round(s.value.sum/s.value.count*100)/100).toFixed(2))})}onBeforeMount(()=>__async(null,null,function*(){yield f(),o.value=i(f,2e3)}));const g=e=>{config.gravity_formula=e},m=()=>{if(validateCurrentForm()){logDebug("GravityFormulaView.createFormula()"),n.value=null,a.value=[],c.value=3;var e=[],t=[],i={1:"",2:"",3:"",4:""};for(let i=0;i<config.formula_calculation_data.length;i++)e.push(config.formula_calculation_data[i].a),t.push("P"==config.gravity_unit?gravityToSG(config.formula_calculation_data[i].g):config.formula_calculation_data[i].g);for(var o=1;o<5;o++){let s=new PolynomialRegression(e,t,o).toString(r.value);s=s.replaceAll(" ",""),s=s.replaceAll("f(x)=",""),s=s.replaceAll("x","tilt"),validateFormula(s)?(i[o]=s,a.value.push({value:s,label:"Formula Order "+o})):i[o]=""}n.value=Object.values(i),_()}},_=()=>__async(null,null,function*(){l.value=!1,yield nextTick(),l.value=!0}),b=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll(),_())});return(e,i)=>{const o=resolveComponent("BsMessage"),f=resolveComponent("BsInputText"),_=resolveComponent("BsDropdown"),v=resolveComponent("BsInputNumber"),y=resolveComponent("BsInputRadio"),w=resolveComponent("RegisterCalibrationFragment");return openBlock(),createElementBlock("div",_hoisted_1$k,[i[19]||(i[19]=createBaseVNode("p",null,null,-1)),i[20]||(i[20]=createBaseVNode("p",{class:"h2"},"Gravity - Formula",-1)),i[21]||(i[21]=createBaseVNode("hr",null,null,-1)),""===unref(config).gravity_formula?(openBlock(),createBlock(o,{key:0,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...i[4]||(i[4]=[createTextVNode(" You need to enter a formula in order to report gravity ",-1)])]),_:1})):createCommentVNode("",!0),unref(status).self_check.gyro_calibration&&unref(status).self_check.gyro_connected&&0==unref(status).wifi_setup?(openBlock(),createElementBlock("div",_hoisted_2$j,[createBaseVNode("div",_hoisted_3$i,[createBaseVNode("div",_hoisted_4$i,[createBaseVNode("div",_hoisted_5$h,[i[5]||(i[5]=createBaseVNode("label",{class:"form-label fs-6 fw-bold"},"Angle:",-1)),i[6]||(i[6]=createTextVNode(" ",-1)),createBaseVNode("label",_hoisted_6$h,toDisplayString(s.value.last),1),i[7]||(i[7]=createTextVNode(" ",-1)),i[8]||(i[8]=createBaseVNode("label",{class:"form-label fs-6 fw-bold"},"Average angle:",-1)),i[9]||(i[9]=createTextVNode(" ",-1)),createBaseVNode("label",_hoisted_7$d,toDisplayString(s.value.average)+" ("+toDisplayString(s.value.count)+")",1),i[10]||(i[10]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:p,type:"button",class:"btn btn-outline-primary btn-sm",style:{"font-size":"0.7rem"}}," Clear ")])])])])):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:withModifiers(b,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_8$d,[createBaseVNode("div",_hoisted_9$c,[createVNode(f,{modelValue:unref(config).gravity_formula,"onUpdate:modelValue":i[0]||(i[0]=e=>unref(config).gravity_formula=e),maxlength:"200",label:"Gravity formula",help:"Formula used to convert angle to gravity. If created outside Gravitymon the formula needs to be created for Specific Gravity!",badge:gravityFormulaBadge(),disabled:unref(global$1).disabled},null,8,["modelValue","badge","disabled"])]),createBaseVNode("div",_hoisted_10$b,[createVNode(_,{label:"Formulas",button:"Formula",options:a.value,callback:g,disabled:0==a.value.length},null,8,["options","disabled"])]),i[12]||(i[12]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("label",{class:"form-label fw-bold"},"Data for gravity calculation (Angle and Gravity)")],-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(config).formula_calculation_data,(e,t)=>(openBlock(),createElementBlock(Fragment,{key:t},[createBaseVNode("div",_hoisted_11$9,[createBaseVNode("div",_hoisted_12$9,[createBaseVNode("span",_hoisted_13$8,toDisplayString(t+1),1),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e=>unref(config).formula_calculation_data[t].a=e,class:"form-control w-2",type:"number",min:"0",max:"90",step:".001",disabled:unref(global$1).disabled},null,8,_hoisted_14$8),[[vModelText,unref(config).formula_calculation_data[t].a]]),i[11]||(i[11]=createBaseVNode("span",{class:"input-group-text"},toDisplayString(""),-1))])]),createBaseVNode("div",_hoisted_15$7,[createBaseVNode("div",_hoisted_16$6,[createBaseVNode("span",_hoisted_17$4,toDisplayString(t+1),1),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e=>unref(config).formula_calculation_data[t].g=e,class:"form-control",type:"number",min:"0",max:"30",step:".0001",disabled:unref(global$1).disabled},null,8,_hoisted_18$3),[[vModelText,unref(config).formula_calculation_data[t].g]]),createBaseVNode("span",_hoisted_19$3,toDisplayString("G"==unref(config).gravity_unit?"SG":"P"),1)])])],64))),128)),i[13]||(i[13]=createBaseVNode("div",{class:"form-text"}," Enter the data that is used to create a new formula. The most optimal formula will be selected and also validated towards these values. ",-1)),createBaseVNode("div",_hoisted_20$1,[createVNode(v,{modelValue:unref(config).formula_max_deviation,"onUpdate:modelValue":i[1]||(i[1]=e=>unref(config).formula_max_deviation=e),label:"Max allowed deviation",min:"0",max:"10",step:".0001",width:"4",help:"When validating the derived formula this is the maximum accepted deviation for the supplied values, use graph below to visually check where there are deviations",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_21$1,[createVNode(v,{modelValue:r.value,"onUpdate:modelValue":i[2]||(i[2]=e=>r.value=e),label:"Number of decimals in formula",min:"1",max:"10",step:"1",width:"4",help:"How many decimals to try to limit in the formula",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_22$1,[createBaseVNode("div",_hoisted_23$1,[i[15]||(i[15]=createBaseVNode("p",null,null,-1)),createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_25$1,null,512),[[vShow,unref(global$1).disabled]]),i[14]||(i[14]=createTextVNode(" Save",-1))],8,_hoisted_24$1),i[16]||(i[16]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:withModifiers(m,["prevent"]),type:"button",class:"btn btn-primary w-2",disabled:unref(global$1).disabled}," Create formula",8,_hoisted_26$1),i[17]||(i[17]=createTextVNode(" ",-1)),unref(global$1).ui.enableCalibrationRegistration?(openBlock(),createElementBlock("button",{key:0,onClick:withModifiers(u,["prevent"]),type:"button",class:"btn btn-secondary w-2",disabled:unref(global$1).disabled||1==unref(status).wifi_setup}," Report calibration data",8,_hoisted_27$1)):createCommentVNode("",!0),i[18]||(i[18]=createTextVNode(" ",-1))])]),null!=n.value?(openBlock(),createElementBlock("div",_hoisted_28$1,[createVNode(y,{modelValue:c.value,"onUpdate:modelValue":i[3]||(i[3]=e=>c.value=e),options:d.value,label:"Output format",disabled:unref(global$1).disabled},null,8,["modelValue","options","disabled"])])):createCommentVNode("",!0)],32),l.value&&0==c.value?(openBlock(),createBlock(_sfc_main$o,{key:2})):createCommentVNode("",!0),l.value&&null!=n.value&&1==c.value?(openBlock(),createBlock(_sfc_main$n,{key:3,expressions:n.value},null,8,["expressions"])):createCommentVNode("",!0),l.value&&null!=n.value&&2==c.value?(openBlock(),createBlock(_sfc_main$l,{key:4,expressions:n.value},null,8,["expressions"])):createCommentVNode("",!0),l.value&&null!=n.value&&3==c.value?(openBlock(),createBlock(_sfc_main$m,{key:5,expressions:n.value},null,8,["expressions"])):createCommentVNode("",!0),t.value?(openBlock(),createBlock(w,{key:6,onClose:h})):createCommentVNode("",!0)])}}},_hoisted_1$j={class:"container"},_hoisted_2$i={class:"row"},_hoisted_3$h={class:"col-md-6"},_hoisted_4$h={class:"col-md-6"},_hoisted_5$g={class:"col-md-6"},_hoisted_6$g={class:"col-md-6"},_hoisted_7$c={class:"col-md-6"},_hoisted_8$c={key:0,class:"col-md-6"},_hoisted_9$b={class:"col-md-6"},_hoisted_10$a={class:"col-md-6"},_hoisted_11$8={class:"col-md-6"},_hoisted_12$8={class:"row gy-2"},_hoisted_13$7={class:"col-md-3"},_hoisted_14$7=["disabled"],_hoisted_15$6={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$j={__name:"PushSettingsView",setup(e){const{sleep_interval:t}=storeToRefs(config),i=ref(""),o=ref(""),s=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())});watch(t,()=>{n(),r()}),onMounted(()=>{n(),r()});const n=()=>{const e=Math.floor(t.value/60)+" min "+t.value%60+" sec";o.value="("+e+")"},r=()=>{let e=160;const t=0!==config.ble_format,o=config.http_post_target.length+config.http_post2_target.length+config.http_get_target.length+config.influxdb2_target.length+config.mqtt_target.length>0;if(!o&&!t)return logError("PushSettingsView.calculateBatteryLife()","No push targets defined, cannot estimate battery life"),void 0;if(o)switch(global$1.platform){case"ESP8266":e=160;break;case"ESP32C3":e=320;break;case"ESP32S2":e=280;break;case"ESP32S3":e=300;break;default:logError("PushSettingsView.calculateBatteryLife()","Unknown platform",global$1.platform)}else switch(global$1.platform){case"ESP8266":case"ESP32C3":case"ESP32S2":e=160;break;case"ESP32S3":e=180;break;default:logError("PushSettingsView.calculateBatteryLife()","Unknown platform",global$1.platform)}const s=2200/(86400/(config.sleep_interval+5)*(5/3600)*e+15);logDebug("PushSettingsView.calculateBatteryLife()","Estimated power per hour = "+e.toString()+"mA on platform = "+global$1.platform),logDebug("PushSettingsView.calculateBatteryLife()","Estimated number of days = "+s),i.value=Math.floor(s/7)+" weeks "+Math.floor(s%7)+" days"};return(e,t)=>{const n=resolveComponent("BsMessage"),r=resolveComponent("BsInputText"),a=resolveComponent("BsInputNumber"),l=resolveComponent("BsInputReadonly"),c=resolveComponent("BsInputSwitch");return openBlock(),createElementBlock("div",_hoisted_1$j,[t[15]||(t[15]=createBaseVNode("p",null,null,-1)),t[16]||(t[16]=createBaseVNode("p",{class:"h3"},"Push - Settings",-1)),t[17]||(t[17]=createBaseVNode("hr",null,null,-1)),unref(config).sleep_interval<300?(openBlock(),createBlock(n,{key:0,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...t[9]||(t[9]=[createTextVNode(" A sleep-interval of less than 300 will reduce battery life, consider using 900 ",-1)])]),_:1})):createCommentVNode("",!0),unref(config).gyro_temp&&unref(config).sleep_interval<300?(openBlock(),createBlock(n,{key:1,dismissable:"true",message:"",alert:"warning"},{default:withCtx(()=>[...t[10]||(t[10]=[createTextVNode(" When using gyro temperature is used, select a sleep-interval that is greater than 300 for accurate readings ",-1)])]),_:1})):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:withModifiers(s,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$i,[createBaseVNode("div",_hoisted_3$h,[createVNode(r,{modelValue:unref(config).token,"onUpdate:modelValue":t[0]||(t[0]=e=>unref(config).token=e),maxlength:"50",label:"Token 1",help:"Token can be used in the format template as a variable, some services use this for authentication",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_4$h,[createVNode(r,{modelValue:unref(config).token2,"onUpdate:modelValue":t[1]||(t[1]=e=>unref(config).token2=e),maxlength:"50",label:"Token 2",help:"Token can be used in the format template as a variable, some services use this for authentication",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$g,[createVNode(a,{modelValue:unref(config).sleep_interval,"onUpdate:modelValue":t[2]||(t[2]=e=>unref(config).sleep_interval=e),label:"Sleep interval"+o.value,unit:"s",min:"10",max:"3600",step:"1",width:"5",help:"The number of seconds that the device will sleep between gravity readings. Recommended value is 300s",disabled:unref(global$1).disabled},null,8,["modelValue","label","disabled"])]),createBaseVNode("div",_hoisted_6$g,[createVNode(l,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),label:"Estimated battery life",help:"Estimated based on current platform, 2200mAh battery and 5 seconds runtime",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_7$c,[createVNode(a,{modelValue:unref(config).push_timeout,"onUpdate:modelValue":t[4]||(t[4]=e=>unref(config).push_timeout=e),label:"Push timeout",unit:"s",min:"10",max:"60",step:"1",width:"5",help:"The number of seconds that the device will wait until a remote service accepts the connection",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),"esp8266"===unref(global$1).platform?(openBlock(),createElementBlock("div",_hoisted_8$c,[createVNode(c,{modelValue:unref(config).skip_ssl_on_test,"onUpdate:modelValue":t[5]||(t[5]=e=>unref(config).skip_ssl_on_test=e),label:"Skip SSL post in config mode",help:"Don't do SSL when running in configuration mode, on ESP8266 this can cause the device to crash due to low memory, only applies to ESP8266",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])):createCommentVNode("",!0),t[11]||(t[11]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),t[12]||(t[12]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("p",null," Using the WIFI direct feature means that the device will connect to the AP and send data using HTTP post to the Gravitymon Gateway. ")],-1)),createBaseVNode("div",_hoisted_9$b,[createVNode(r,{modelValue:unref(config).wifi_direct_ssid,"onUpdate:modelValue":t[6]||(t[6]=e=>unref(config).wifi_direct_ssid=e),label:"Direct SSID",help:"Enter the SSID for the wifi direct functionallity",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_10$a,[createVNode(r,{modelValue:unref(config).wifi_direct_pass,"onUpdate:modelValue":t[7]||(t[7]=e=>unref(config).wifi_direct_pass=e),type:"password",maxlength:"50",label:"Direct Password",help:"Enter password for the wifi direct network",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_11$8,[createVNode(c,{modelValue:unref(config).use_wifi_direct,"onUpdate:modelValue":t[8]||(t[8]=e=>unref(config).use_wifi_direct=e),label:"Use wifi direct in gravity mode",help:"In gravity mode the wifi direct SSID/Password will be used for connection",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_12$8,[t[14]||(t[14]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_13$7,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_15$6,null,512),[[vShow,unref(global$1).disabled]]),t[13]||(t[13]=createTextVNode(" Save ",-1))],8,_hoisted_14$7)])])],32)])}}},_hoisted_1$i={class:"container"},_hoisted_2$h=["disabled"],_hoisted_3$g={class:"row"},_hoisted_4$g={class:"col-md-8"},_hoisted_5$f={class:"col-md-1"},_hoisted_6$f={class:"col-md-3"},_hoisted_7$b={class:"col-md-9"},_hoisted_8$b={class:"col-md-3"},_hoisted_9$a={class:"col-md-9"},_hoisted_10$9={class:"col-md-3"},_hoisted_11$7={class:"col-md-6"},_hoisted_12$7={class:"col-md-9"},_hoisted_13$6={class:"col-md-3"},_hoisted_14$6={class:"row gy-2"},_hoisted_15$5={class:"col-md-12"},_hoisted_16$5=["disabled"],_hoisted_17$3={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_18$2=["disabled"],_hoisted_19$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$i={__name:"PushHttpPost1View",setup(e){const t=ref(""),i=computed(()=>global$1.disabled||config.use_wifi_direct),o=()=>__async(null,null,function*(){try{const e={push_format:"http_post_format_gravity"};global$1.clearMessages(),yield config.runPushTest(e)}catch(e){logError("PushHttpPost1View.runTest()",e),global$1.messageError="Failed to start push test"}}),s=e=>{config.http_post_target=e},n=e=>{config.http_post_header1=e},r=e=>{config.http_post_header2=e},a=e=>{config.http_post_format_gravity=decodeURIComponent(e)},l=()=>{t.value=applyTemplate(status,config,config.http_post_format_gravity)},c=/^([a-zA-Z0-9.-]+|\d{1,3}(?:\.\d{1,3}){3}):\d{1,5}$/,d=()=>__async(null,null,function*(){var e;if(validateCurrentForm())return config.http_post_tcp&&(e=config.http_post_target,!c.test(e))?(global$1.messageError="Server must be in format hostname:port or ip:port",void 0):(yield config.saveAll(),void 0)});return(e,c)=>{const u=resolveComponent("BsInputText"),h=resolveComponent("BsInputSwitch"),p=resolveComponent("BsDropdown"),f=resolveComponent("BsInputNumber"),g=resolveComponent("BsInputTextAreaFormat"),m=resolveComponent("BsModal");return openBlock(),createElementBlock("div",_hoisted_1$i,[c[12]||(c[12]=createBaseVNode("p",null,null,-1)),c[13]||(c[13]=createBaseVNode("p",{class:"h3"},"Push - HTTP Post #1",-1)),c[14]||(c[14]=createBaseVNode("hr",null,null,-1)),createBaseVNode("form",{onSubmit:withModifiers(d,["prevent"]),class:"needs-validation",novalidate:"",disabled:unref(config).use_wifi_direct},[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$g,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(u,{key:0,modelValue:unref(config).http_post_target,"onUpdate:modelValue":c[0]||(c[0]=e=>unref(config).http_post_target=e),type:"url",maxlength:"120",label:"HTTP URL",help:"URL to push target, use format http://servername.com/resource (Supports http and https)",disabled:i.value},null,8,["modelValue","disabled"])):createCommentVNode("",!0),!0===unref(config).http_post_tcp?(openBlock(),createBlock(u,{key:1,modelValue:unref(config).http_post_target,"onUpdate:modelValue":c[1]||(c[1]=e=>unref(config).http_post_target=e),type:"text",maxlength:"120",label:"Server",help:"IP and port to push target, use format server:port",disabled:i.value},null,8,["modelValue","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$f,[createVNode(h,{modelValue:unref(config).http_post_tcp,"onUpdate:modelValue":c[2]||(c[2]=e=>unref(config).http_post_tcp=e),label:"Use tcp"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_6$f,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(p,{key:0,label:"Predefined URLs",button:"URL",options:unref(httpPostUrlOptions),callback:s,disabled:i.value},null,8,["options","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$b,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(u,{key:0,modelValue:unref(config).http_post_header1,"onUpdate:modelValue":c[3]||(c[3]=e=>unref(config).http_post_header1=e),maxlength:"120",pattern:"(.+): (.+)",label:"HTTP Header #1",help:"",disabled:i.value},null,8,["modelValue","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$b,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(p,{key:0,label:"Predefined headers",button:"Header",options:unref(httpHeaderOptions),callback:n,disabled:i.value},null,8,["options","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$a,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(u,{key:0,modelValue:unref(config).http_post_header2,"onUpdate:modelValue":c[4]||(c[4]=e=>unref(config).http_post_header2=e),maxlength:"120",pattern:"(.+): (.+)",label:"HTTP Header #2",help:"Set a http headers, empty string is skipped, example: Content-Type: application/json",disabled:i.value},null,8,["modelValue","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$9,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(p,{key:0,label:"Predefined headers",button:"Header",options:unref(httpHeaderOptions),callback:r,disabled:i.value},null,8,["options","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$7,[!1===unref(config).http_post_tcp?(openBlock(),createBlock(f,{key:0,modelValue:unref(config).http_post_int,"onUpdate:modelValue":c[5]||(c[5]=e=>unref(config).http_post_int=e),label:"Skip interval",min:"0",max:"5",width:"4",help:"Defines how many sleep cycles to skip between pushing data to this target, 1 = every second cycle. Default is 0.",disabled:i.value},null,8,["modelValue","disabled"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$7,[createVNode(g,{modelValue:unref(config).http_post_format_gravity,"onUpdate:modelValue":c[6]||(c[6]=e=>unref(config).http_post_format_gravity=e),rows:"6",label:"Data format",help:"Format template used to create the data sent to the remote service",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_13$6,[createVNode(p,{label:"Predefined formats",button:"Formats",options:unref(httpPostFormatOptions),callback:a,disabled:i.value},null,8,["options","disabled"]),createVNode(m,{onClick:l,modelValue:t.value,"onUpdate:modelValue":c[7]||(c[7]=e=>t.value=e),code:!0,json:!0,title:"Format preview",button:"Preview format",disabled:i.value},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_14$6,[c[11]||(c[11]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_15$5,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_17$3,null,512),[[vShow,unref(global$1).disabled]]),c[8]||(c[8]=createTextVNode(" Save",-1))],8,_hoisted_16$5),c[10]||(c[10]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:o,type:"button",class:"btn btn-secondary",disabled:i.value},[withDirectives(createBaseVNode("span",_hoisted_19$2,null,512),[[vShow,unref(global$1).disabled]]),c[9]||(c[9]=createTextVNode(" Run push test ",-1))],8,_hoisted_18$2)])])],40,_hoisted_2$h)])}}},_hoisted_1$h={class:"container"},_hoisted_2$g=["disabled"],_hoisted_3$f={class:"row"},_hoisted_4$f={class:"col-md-9"},_hoisted_5$e={class:"col-md-3"},_hoisted_6$e={class:"col-md-9"},_hoisted_7$a={class:"col-md-3"},_hoisted_8$a={class:"col-md-9"},_hoisted_9$9={class:"col-md-3"},_hoisted_10$8={class:"col-md-6"},_hoisted_11$6={class:"row"},_hoisted_12$6={class:"col-md-9"},_hoisted_13$5={class:"col-md-3"},_hoisted_14$5={class:"row gy-2"},_hoisted_15$4={class:"col-md-12"},_hoisted_16$4=["disabled"],_hoisted_17$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_18$1=["disabled"],_hoisted_19$1={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$h={__name:"PushHttpPost2View",setup(e){const t=ref(""),i=computed(()=>global$1.disabled||config.use_wifi_direct),o=()=>__async(null,null,function*(){try{const e={push_format:"http_post2_format_gravity"};global$1.clearMessages(),yield config.runPushTest(e)}catch(e){logError("PushHttpPost2View.runTest()",e),global$1.messageError="Failed to start push test"}}),s=e=>{config.http_post2_target=e},n=e=>{config.http_post2_header1=e},r=e=>{config.http_post2_header2=e},a=e=>{config.http_post2_format_gravity=decodeURIComponent(e)},l=()=>{t.value=applyTemplate(status,config,config.http_post2_format_gravity)},c=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())});return(e,d)=>{const u=resolveComponent("BsInputText"),h=resolveComponent("BsDropdown"),p=resolveComponent("BsInputNumber"),f=resolveComponent("BsInputTextAreaFormat"),g=resolveComponent("BsModal");return openBlock(),createElementBlock("div",_hoisted_1$h,[d[10]||(d[10]=createBaseVNode("p",null,null,-1)),d[11]||(d[11]=createBaseVNode("p",{class:"h3"},"Push - HTTP Post #2",-1)),d[12]||(d[12]=createBaseVNode("hr",null,null,-1)),createBaseVNode("form",{onSubmit:withModifiers(c,["prevent"]),class:"needs-validation",novalidate:"",disabled:unref(config).use_wifi_direct},[createBaseVNode("div",_hoisted_3$f,[createBaseVNode("div",_hoisted_4$f,[createVNode(u,{modelValue:unref(config).http_post2_target,"onUpdate:modelValue":d[0]||(d[0]=e=>unref(config).http_post2_target=e),type:"url",maxlength:"120",label:"HTTP URL",help:"URL to push target, use format http://servername.com/resource (Supports http and https)",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$e,[createVNode(h,{label:"Predefined URLs",button:"URL",options:unref(httpPostUrlOptions),callback:s,disabled:i.value},null,8,["options","disabled"])]),createBaseVNode("div",_hoisted_6$e,[createVNode(u,{modelValue:unref(config).http_post2_header1,"onUpdate:modelValue":d[1]||(d[1]=e=>unref(config).http_post2_header1=e),maxlength:"120",pattern:"(.+): (.+)",label:"HTTP Header #1",help:"",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_7$a,[createVNode(h,{label:"Predefined headers",button:"Header",options:unref(httpHeaderOptions),callback:n,disabled:i.value},null,8,["options","disabled"])]),createBaseVNode("div",_hoisted_8$a,[createVNode(u,{modelValue:unref(config).http_post2_header2,"onUpdate:modelValue":d[2]||(d[2]=e=>unref(config).http_post2_header2=e),maxlength:"120",pattern:"(.+): (.+)",label:"HTTP Header #2",help:"Set a http headers, empty string is skipped, example: Content-Type: application/json",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_9$9,[createVNode(h,{label:"Predefined headers",button:"Header",options:unref(httpHeaderOptions),callback:r,disabled:i.value},null,8,["options","disabled"])]),createBaseVNode("div",_hoisted_10$8,[createVNode(p,{modelValue:unref(config).http_post2_int,"onUpdate:modelValue":d[3]||(d[3]=e=>unref(config).http_post2_int=e),label:"Skip interval",min:"0",max:"5",width:"4",help:"Defines how many sleep cycles to skip between pushing data to this target, 1 = every second cycle. Default is 0.",disabled:i.value},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_11$6,[createBaseVNode("div",_hoisted_12$6,[createVNode(f,{modelValue:unref(config).http_post2_format_gravity,"onUpdate:modelValue":d[4]||(d[4]=e=>unref(config).http_post2_format_gravity=e),rows:"6",label:"Data format",help:"Format template used to create the data sent to the remote service",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_13$5,[createVNode(h,{label:"Predefined formats",button:"Formats",options:unref(httpPostFormatOptions),callback:a,disabled:i.value},null,8,["options","disabled"]),createVNode(g,{onClick:l,modelValue:t.value,"onUpdate:modelValue":d[5]||(d[5]=e=>t.value=e),code:!0,json:!0,title:"Format preview",button:"Preview format",disabled:i.value},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_14$5,[d[9]||(d[9]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_15$4,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_17$2,null,512),[[vShow,unref(global$1).disabled]]),d[6]||(d[6]=createTextVNode(" Save",-1))],8,_hoisted_16$4),d[8]||(d[8]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:o,type:"button",class:"btn btn-secondary",disabled:i.value},[withDirectives(createBaseVNode("span",_hoisted_19$1,null,512),[[vShow,unref(global$1).disabled]]),d[7]||(d[7]=createTextVNode(" Run push test ",-1))],8,_hoisted_18$1)])])],40,_hoisted_2$g)])}}},_hoisted_1$g={class:"container"},_hoisted_2$f={class:"row"},_hoisted_3$e={class:"col-md-9"},_hoisted_4$e={class:"col-md-3"},_hoisted_5$d={class:"col-md-9"},_hoisted_6$d={class:"col-md-3"},_hoisted_7$9={class:"col-md-9"},_hoisted_8$9={class:"col-md-3"},_hoisted_9$8={class:"col-md-6"},_hoisted_10$7={class:"col-md-9"},_hoisted_11$5={class:"col-md-3"},_hoisted_12$5={class:"row gy-2"},_hoisted_13$4={class:"col-md-12"},_hoisted_14$4=["disabled"],_hoisted_15$3={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_16$3=["disabled"],_hoisted_17$1={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$g={__name:"PushHttpGetView",setup(e){const t=ref(""),i=computed(()=>global$1.disabled||config.use_wifi_direct),o=()=>__async(null,null,function*(){try{const e={push_format:"http_get_format_gravity"};global$1.clearMessages(),yield config.runPushTest(e)}catch(e){logError("PushHttpGetView.runTest()",e),global$1.messageError="Failed to start push test"}}),s=e=>{config.http_get_target=e},n=e=>{config.http_get_header1=e},r=e=>{config.http_get_header2=e},a=e=>{config.http_get_format_gravity=decodeURIComponent(e)},l=()=>{const e=applyTemplate(status,config,config.http_get_format_gravity);t.value=e.replaceAll("&","&")},c=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())});return(e,d)=>{const u=resolveComponent("BsInputText"),h=resolveComponent("BsDropdown"),p=resolveComponent("BsInputNumber"),f=resolveComponent("BsInputTextAreaFormat"),g=resolveComponent("BsModal");return openBlock(),createElementBlock("div",_hoisted_1$g,[d[10]||(d[10]=createBaseVNode("p",null,null,-1)),d[11]||(d[11]=createBaseVNode("p",{class:"h3"},"Push - HTTP Get",-1)),d[12]||(d[12]=createBaseVNode("hr",null,null,-1)),createBaseVNode("form",{onSubmit:withModifiers(c,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$e,[createVNode(u,{modelValue:unref(config).http_get_target,"onUpdate:modelValue":d[0]||(d[0]=e=>unref(config).http_get_target=e),type:"url",maxlength:"120",label:"HTTP URL",help:"URL to push target, use format http://servername.com/resource (Supports http and https)",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_4$e,[createVNode(h,{label:"Predefined URLs",button:"URL",options:unref(httpGetUrlOptions),callback:s,disabled:i.value},null,8,["options","disabled"])]),createBaseVNode("div",_hoisted_5$d,[createVNode(u,{modelValue:unref(config).http_get_header1,"onUpdate:modelValue":d[1]||(d[1]=e=>unref(config).http_get_header1=e),maxlength:"120",pattern:"(.+): (.+)",label:"HTTP Header #1",help:"",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_6$d,[createVNode(h,{label:"Predefined headers",button:"Header",options:unref(httpHeaderOptions),callback:n,disabled:i.value},null,8,["options","disabled"])]),createBaseVNode("div",_hoisted_7$9,[createVNode(u,{modelValue:unref(config).http_get_header2,"onUpdate:modelValue":d[2]||(d[2]=e=>unref(config).http_get_header2=e),maxlength:"120",pattern:"(.+): (.+)",label:"HTTP Header #2",help:"Set a http headers, empty string is skipped, example: Content-Type: application/json",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_8$9,[createVNode(h,{label:"Predefined headers",button:"Header",options:unref(httpHeaderOptions),callback:r,disabled:i.value},null,8,["options","disabled"])]),createBaseVNode("div",_hoisted_9$8,[createVNode(p,{modelValue:unref(config).http_get_int,"onUpdate:modelValue":d[3]||(d[3]=e=>unref(config).http_get_int=e),label:"Skip interval",min:"0",max:"5",width:"4",help:"Defines how many sleep cycles to skip between pushing data to this target, 1 = every second cycle. Default is 0.",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_10$7,[createVNode(f,{modelValue:unref(config).http_get_format_gravity,"onUpdate:modelValue":d[4]||(d[4]=e=>unref(config).http_get_format_gravity=e),rows:"6",label:"Data format",help:"Format template used to create the data sent to the remote service",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_11$5,[createVNode(h,{label:"Predefined formats",button:"Formats",options:unref(httpGetFormatOptions),callback:a,disabled:i.value},null,8,["options","disabled"]),createVNode(g,{onClick:l,modelValue:t.value,"onUpdate:modelValue":d[5]||(d[5]=e=>t.value=e),code:!0,title:"Format preview",button:"Preview format",disabled:i.value},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_12$5,[d[9]||(d[9]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_13$4,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_15$3,null,512),[[vShow,unref(global$1).disabled]]),d[6]||(d[6]=createTextVNode(" Save",-1))],8,_hoisted_14$4),d[8]||(d[8]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:o,type:"button",class:"btn btn-secondary",disabled:i.value},[withDirectives(createBaseVNode("span",_hoisted_17$1,null,512),[[vShow,unref(global$1).disabled]]),d[7]||(d[7]=createTextVNode(" Run push test ",-1))],8,_hoisted_16$3)])])],32)])}}},_hoisted_1$f={class:"container"},_hoisted_2$e=["disabled"],_hoisted_3$d={class:"row"},_hoisted_4$d={class:"col-md-12"},_hoisted_5$c={class:"col-md-6"},_hoisted_6$c={class:"col-md-6"},_hoisted_7$8={class:"col-md-6"},_hoisted_8$8={class:"col-md-6"},_hoisted_9$7={class:"col-md-9"},_hoisted_10$6={class:"col-md-3 gy-2"},_hoisted_11$4={class:"row gy-2"},_hoisted_12$4={class:"col-sm-12"},_hoisted_13$3=["disabled"],_hoisted_14$3={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_15$2=["disabled"],_hoisted_16$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$f={__name:"PushInfluxdbView",setup(e){const t=ref(""),i=computed(()=>global$1.disabled||config.use_wifi_direct),o=()=>__async(null,null,function*(){try{const e={push_format:"influxdb2_format_gravity"};global$1.clearMessages(),yield config.runPushTest(e)}catch(e){logError("PushInfluxdbView.runTest()",e),global$1.messageError="Failed to start push test"}}),s=e=>{config.influxdb2_format_gravity=decodeURIComponent(e)},n=()=>{t.value=applyTemplate(status,config,config.influxdb2_format_gravity)},r=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())});return(e,a)=>{const l=resolveComponent("BsInputText"),c=resolveComponent("BsInputNumber"),d=resolveComponent("BsInputTextAreaFormat"),u=resolveComponent("BsDropdown"),h=resolveComponent("BsModal");return openBlock(),createElementBlock("div",_hoisted_1$f,[a[11]||(a[11]=createBaseVNode("p",null,null,-1)),a[12]||(a[12]=createBaseVNode("p",{class:"h3"},"Push - Influxdb v2",-1)),a[13]||(a[13]=createBaseVNode("hr",null,null,-1)),createBaseVNode("form",{onSubmit:withModifiers(r,["prevent"]),class:"needs-validation",novalidate:"",disabled:unref(config).use_wifi_direct},[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$d,[createVNode(l,{modelValue:unref(config).influxdb2_target,"onUpdate:modelValue":a[0]||(a[0]=e=>unref(config).influxdb2_target=e),type:"url",maxlength:"120",label:"Server",help:"URL to push target, use format http://servername.com/resource (Supports http and https)",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$c,[createVNode(l,{modelValue:unref(config).influxdb2_org,"onUpdate:modelValue":a[1]||(a[1]=e=>unref(config).influxdb2_org=e),maxlength:"50",label:"Organisation",help:"Identifier to what organisation to use",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_6$c,[createVNode(l,{modelValue:unref(config).influxdb2_bucket,"onUpdate:modelValue":a[2]||(a[2]=e=>unref(config).influxdb2_bucket=e),maxlength:"50",label:"Bucket",help:"Identifier for the data bucket to use",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_7$8,[createVNode(l,{modelValue:unref(config).influxdb2_token,"onUpdate:modelValue":a[3]||(a[3]=e=>unref(config).influxdb2_token=e),type:"password",maxlength:"100",label:"Authentication token",help:"Authentication token for accessing data bucket",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_8$8,[createVNode(c,{modelValue:unref(config).influxdb2_int,"onUpdate:modelValue":a[4]||(a[4]=e=>unref(config).influxdb2_int=e),label:"Skip interval",min:"0",max:"5",width:"4",help:"Defines how many sleep cycles to skip between pushing data to this target, 1 = every second cycle. Default is 0.",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_9$7,[createVNode(d,{modelValue:unref(config).influxdb2_format_gravity,"onUpdate:modelValue":a[5]||(a[5]=e=>unref(config).influxdb2_format_gravity=e),rows:"6",label:"Data format",help:"Format template used to create the data sent to the remote service",disabled:i.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_10$6,[createVNode(u,{label:"Predefined formats",button:"Formats",options:unref(influxdb2FormatOptions),callback:s,disabled:i.value},null,8,["options","disabled"]),createVNode(h,{onClick:n,modelValue:t.value,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value=e),code:!0,title:"Format preview",button:"Preview format",disabled:i.value},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_11$4,[a[10]||(a[10]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_12$4,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_14$3,null,512),[[vShow,unref(global$1).disabled]]),a[7]||(a[7]=createTextVNode(" Save",-1))],8,_hoisted_13$3),a[9]||(a[9]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:o,type:"button",class:"btn btn-secondary",disabled:i.value},[withDirectives(createBaseVNode("span",_hoisted_16$2,null,512),[[vShow,unref(global$1).disabled]]),a[8]||(a[8]=createTextVNode(" Run push test ",-1))],8,_hoisted_15$2)])])],40,_hoisted_2$e)])}}},_hoisted_1$e={class:"container"},_hoisted_2$d=["disabled"],_hoisted_3$c={class:"row"},_hoisted_4$c={class:"col-md-9"},_hoisted_5$b={class:"col-md-3"},_hoisted_6$b={class:"col-md-6"},_hoisted_7$7={class:"col-md-6"},_hoisted_8$7={class:"col-md-6"},_hoisted_9$6={class:"col-md-9"},_hoisted_10$5={class:"col-md-3"},_hoisted_11$3={class:"row gy-2"},_hoisted_12$3={class:"col-md-12"},_hoisted_13$2=["disabled"],_hoisted_14$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_15$1=["disabled"],_hoisted_16$1={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$e={__name:"PushMqttView",setup(e){const t=ref(""),{mqtt_format_gravity:i}=storeToRefs(config);watch(i,()=>{global$1.isEsp8266&&(applyTemplate(status,config,config.mqtt_format_gravity).length>500?global$1.messageWarning="On an ESP8266 a large payload will likley cause a crash due to RAM limitations on device. Reduce your template.":global$1.messageWarning="")});const o=computed(()=>global$1.disabled||config.use_wifi_direct),s=()=>__async(null,null,function*(){global$1.clearMessages(),yield config.runPushTest({push_format:"mqtt_format_gravity"})}),n=e=>{config.mqtt_format_gravity=decodeURIComponent(e),config.mqtt_format_gravity=config.mqtt_format_gravity.replaceAll("|","|\n")},r=()=>{t.value=applyTemplate(status,config,config.mqtt_format_gravity)},a=()=>__async(null,null,function*(){validateCurrentForm()&&(yield config.saveAll())});return(e,i)=>{const l=resolveComponent("BsInputText"),c=resolveComponent("BsInputNumber"),d=resolveComponent("BsInputTextAreaFormat"),u=resolveComponent("BsDropdown"),h=resolveComponent("BsModal");return openBlock(),createElementBlock("div",_hoisted_1$e,[i[11]||(i[11]=createBaseVNode("p",null,null,-1)),i[12]||(i[12]=createBaseVNode("p",{class:"h3"},"Push - MQTT",-1)),i[13]||(i[13]=createBaseVNode("hr",null,null,-1)),createBaseVNode("form",{onSubmit:withModifiers(a,["prevent"]),class:"needs-validation",novalidate:"",disabled:unref(config).use_wifi_direct},[createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$c,[createVNode(l,{modelValue:unref(config).mqtt_target,"onUpdate:modelValue":i[0]||(i[0]=e=>unref(config).mqtt_target=e),maxlength:"120",label:"Server",help:"Name of server to connect to, use format servername.com",disabled:o.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_5$b,[createVNode(c,{modelValue:unref(config).mqtt_port,"onUpdate:modelValue":i[1]||(i[1]=e=>unref(config).mqtt_port=e),label:"Port",min:"0",max:"65535",help:"Port number, 1883 is standard. Ports above 8000 means SSL",disabled:o.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_6$b,[createVNode(l,{modelValue:unref(config).mqtt_user,"onUpdate:modelValue":i[2]||(i[2]=e=>unref(config).mqtt_user=e),maxlength:"20",label:"User name",help:"Username to use. Leave blank if authentication is disabled",disabled:o.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_7$7,[createVNode(l,{modelValue:unref(config).mqtt_pass,"onUpdate:modelValue":i[3]||(i[3]=e=>unref(config).mqtt_pass=e),type:"password",maxlength:"20",label:"Password",help:"Password to use. Leave blank if authentication is disabled",disabled:o.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_8$7,[createVNode(c,{modelValue:unref(config).mqtt_int,"onUpdate:modelValue":i[4]||(i[4]=e=>unref(config).mqtt_int=e),label:"Skip interval",min:"0",max:"5",width:"4",help:"Defines how many sleep cycles to skip between pushing data to this target, 1 = every second cycle. Default is 0.",disabled:o.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_9$6,[createVNode(d,{modelValue:unref(config).mqtt_format_gravity,"onUpdate:modelValue":i[5]||(i[5]=e=>unref(config).mqtt_format_gravity=e),rows:"6",label:"Data format",help:"Format template used to create the data sent to the remote service",disabled:o.value},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_10$5,[createVNode(u,{label:"Predefined formats",button:"Formats",options:unref(mqttFormatOptions),callback:n,disabled:o.value},null,8,["options","disabled"]),createVNode(h,{onClick:r,modelValue:t.value,"onUpdate:modelValue":i[6]||(i[6]=e=>t.value=e),code:!0,json:!0,mqtt:!0,title:"Format preview",button:"Preview format",disabled:o.value},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_11$3,[i[10]||(i[10]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled||!unref(global$1).configChanged},[withDirectives(createBaseVNode("span",_hoisted_14$2,null,512),[[vShow,unref(global$1).disabled]]),i[7]||(i[7]=createTextVNode(" Save",-1))],8,_hoisted_13$2),i[9]||(i[9]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:s,type:"button",class:"btn btn-secondary",disabled:o.value},[withDirectives(createBaseVNode("span",_hoisted_16$1,null,512),[[vShow,unref(global$1).disabled]]),i[8]||(i[8]=createTextVNode(" Run push test ",-1))],8,_hoisted_15$1)])])],40,_hoisted_2$d)])}}},_hoisted_1$d={class:"container"},_hoisted_2$c={class:"row"},_hoisted_3$b={class:"col-md-12"},_hoisted_4$b={class:"col-md-12"},_hoisted_5$a={class:"row gy-2"},_hoisted_6$a={class:"col-md-3"},_hoisted_7$6=["disabled"],_hoisted_8$6=["hidden"],_hoisted_9$5={key:1,class:"row"},_sfc_main$d={__name:"PushBluetoothView",setup(e){const t=ref([{label:"red",value:"red"},{label:"green",value:"green"},{label:"black",value:"black"},{label:"purple",value:"purple"},{label:"orange",value:"orange"},{label:"blue",value:"blue"},{label:"yellow",value:"yellow"},{label:"pink",value:"pink"}]),i=ref([{label:"Disabled",value:0},{label:"Tilt iBeacon",value:1},{label:"Tilt PRO iBeacon",value:2},{label:"Gravitymon iBeacon",value:5},{label:"Gravitymon Eddystone",value:4},{label:"RAPT v1",value:6},{label:"RAPT v2",value:7}]),o=computed(()=>global$1.disabled32?global$1.disabled32:1!=config.ble_format&&2!=config.ble_format),s=()=>__async(null,null,function*(){1!=config.ble_format&&2!=config.ble_format||""!=config.ble_tilt_color||(config.ble_tilt_color="red"),validateCurrentForm()&&(global$1.clearMessages(),yield config.saveAll())});return(e,n)=>{const r=resolveComponent("BsInputRadio");return openBlock(),createElementBlock("div",_hoisted_1$d,[n[6]||(n[6]=createBaseVNode("p",null,null,-1)),n[7]||(n[7]=createBaseVNode("p",{class:"h3"},"Push - Bluetooth",-1)),n[8]||(n[8]=createBaseVNode("hr",null,null,-1)),unref(global$1).feature.ble?(openBlock(),createElementBlock("form",{key:0,onSubmit:withModifiers(s,["prevent"]),class:"needs-validation",novalidate:""},[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$b,[createVNode(r,{modelValue:unref(config).ble_tilt_color,"onUpdate:modelValue":n[0]||(n[0]=e=>unref(config).ble_tilt_color=e),options:t.value,label:"Tilt color",help:"Tilt color beacon. Only used when tilt type is selected.",disabled:o.value},null,8,["modelValue","options","disabled"])]),createBaseVNode("div",_hoisted_4$b,[createVNode(r,{modelValue:unref(config).ble_format,"onUpdate:modelValue":n[1]||(n[1]=e=>unref(config).ble_format=e),options:i.value,label:"Bluetooth data format",help:"Select the type of bluetooth transmission used.",disabled:unref(global$1).disabled32},null,8,["modelValue","options","disabled"])]),n[2]||(n[2]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("p"),createBaseVNode("p",null,"Changing bluetooth settings might require a restart to function properly")],-1))]),createBaseVNode("div",_hoisted_5$a,[n[4]||(n[4]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_6$a,[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-2",disabled:unref(global$1).disabled32||!unref(global$1).configChanged},[createBaseVNode("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",hidden:!unref(global$1).disabled32},null,8,_hoisted_8$6),n[3]||(n[3]=createTextVNode(" Save ",-1))],8,_hoisted_7$6)])])],32)):(openBlock(),createElementBlock("div",_hoisted_9$5,[...n[5]||(n[5]=[createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("p",null,"Bluetooth is not available on this platform")],-1)])]))])}}},_sfc_main$c={},_hoisted_1$c={class:"container"};function _sfc_render(e,t){return openBlock(),createElementBlock("div",_hoisted_1$c,[...t[0]||(t[0]=[createBaseVNode("p",null,null,-1),createBaseVNode("p",{class:"h3"},"About - Gravitymon",-1),createBaseVNode("hr",null,null,-1),createBaseVNode("p",{class:"fw-normal"}," This is a piece of software for the iSpindle hardware and will work in a similar way. No part of this software is copied from the iSpindle project. ",-1),createBaseVNode("p",{class:"h4"},"MIT License",-1),createBaseVNode("p",{class:"fw-normal"},' Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. ',-1)])])}const AboutView=_export_sfc(_sfc_main$c,[["render",_sfc_render]]),_hoisted_1$b={class:"container"},_hoisted_2$b={class:"row"},_hoisted_3$a={class:"col-md-12"},_hoisted_4$a=["disabled"],_hoisted_5$9={class:"row"},_hoisted_6$9={class:"col-md-12"},_hoisted_7$5={class:"col-md-3"},_hoisted_8$5=["disabled"],_hoisted_9$4={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_10$4={key:0,class:"col-md-12"},_sfc_main$b={__name:"BackupView",setup(e){const t=ref(0),i=ref(!1);function o(e){const t=e.target.files;i.value=t&&t.length>0}function s(){let e={meta:{version:"2.2.0",software:"GravityMon",created:(new Date).toISOString().slice(0,10)},config:JSON.parse(config.toJson())};logDebug("BackupView.backup()",e),e.config.http_post_format_gravity=encodeURIComponent(e.config.http_post_format_gravity),e.config.http_post2_format_gravity=encodeURIComponent(e.config.http_post2_format_gravity),e.config.http_get_format_gravity=encodeURIComponent(e.config.http_get_format_gravity),e.config.influxdb2_format_gravity=encodeURIComponent(e.config.influxdb2_format_gravity),e.config.mqtt_format_gravity=encodeURIComponent(e.config.mqtt_format_gravity);const t=JSON.stringify(e,null,2),i=config.mdns+".txt";!function(e,t,i){const o=document.createElement("a"),s=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(s);o.setAttribute("href",n),o.setAttribute("download",i),o.click(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}(t,0,i),global$1.messageSuccess="Backup file created and downloaded as: "+i}function n(){return __async(this,null,function*(){const e=document.getElementById("upload");if(!e)return global$1.messageError="Upload element not found",void 0;if(0===e.files.length)return global$1.messageError="You need to select one file to restore configuration from",void 0;global$1.disabled=!0,logDebug("BackupView.restore()","Selected file: "+e.files[0].name);const t=new FileReader,o=e.files[0];t.addEventListener("load",function(t){return __async(this,null,function*(){let o=t.target.result;try{const e=JSON.parse(o);"GravityMon"!==e.meta.software||"2.0.0"!==e.meta.version&&"2.2.0"!==e.meta.version?"GravityMon"===e.meta.software?yield function(e){return __async(this,null,function*(){logDebug("BackupView.doRestore1()",e),delete e.advanced.id;for(const t in e.advanced){let i=t.replaceAll("-","_");"int_http1"===i&&(i="http_post_int"),"int_http2"===i&&(i="http_post2_int"),"int_http3"===i&&(i="http_get_int"),"int_influx"===i&&(i="influxdb2_int"),"int_mqtt"===i&&(i="mqtt_int"),config[i]=e.advanced[t]}delete e.config["app-ver"],delete e.config["app-build"],delete e.config.angle,delete e.config.gravity,delete e.config.battery,delete e.config["runtime-average"],delete e.config.platform,delete e.config.id,delete e.config["wifi-ssid"],delete e.config["wifi-pass"],delete e.config["wifi-ssid2"],delete e.config["wifi-pass2"];for(const t in e.config){let i=t.replaceAll("-","_");"ble"===i&&(i="ble_tilt_color"),"http_push"===i&&(i="http_post_target"),"http_push_h1"===i&&(i="http_post_header1"),"http_push_h2"===i&&(i="http_post_header2"),"http_push2"===i&&(i="http_post2_target"),"http_push2_h1"===i&&(i="http_post2_header1"),"http_push2_h2"===i&&(i="http_post2_header2"),"http_push3"===i&&(i="http_get_target"),"influxdb2_push"===i&&(i="influxdb2_target"),"mqtt_push"===i&&(i="mqtt_target"),"formula_calculation_data"===i?config.formula_calculation_data=[{a:e.config["formula-calculation-data"].a1,g:e.config["formula-calculation-data"].g1},{a:e.config["formula-calculation-data"].a2,g:e.config["formula-calculation-data"].g2},{a:e.config["formula-calculation-data"].a3,g:e.config["formula-calculation-data"].g3},{a:e.config["formula-calculation-data"].a4,g:e.config["formula-calculation-data"].g4},{a:e.config["formula-calculation-data"].a5,g:e.config["formula-calculation-data"].g5},{a:e.config["formula-calculation-data"].a6,g:e.config["formula-calculation-data"].g6},{a:e.config["formula-calculation-data"].a7,g:e.config["formula-calculation-data"].g7},{a:e.config["formula-calculation-data"].a8,g:e.config["formula-calculation-data"].g8},{a:e.config["formula-calculation-data"].a9,g:e.config["formula-calculation-data"].g9},{a:e.config["formula-calculation-data"].a10,g:e.config["formula-calculation-data"].g10}]:(logDebug("BackupView.doRestore1()",t,"=>",i),config[i]=e.config[t])}config.http_post_format_gravity=decodeURIComponent(e.format["http-1"]),config.http_post2_format_gravity=decodeURIComponent(e.format["http-2"]),config.http_get_format_gravity=decodeURIComponent(e.format["http-3"]),config.influxdb2_format_gravity=decodeURIComponent(e.format.influxdb),config.mqtt_format_gravity=decodeURIComponent(e.format.mqtt),getConfigChanges(),yield config.saveAll()})}(e):global$1.messageError="Unknown format, unable to process":yield function(e){return __async(this,null,function*(){for(const t in e)t.endsWith("_format")?config[t]=decodeURIComponent(e[t]):config[t+"_gravity"]=e[t],t.endsWith("_format_gravity")?config[t]=decodeURIComponent(e[t]):config[t]=e[t];getConfigChanges(),yield config.saveAll()})}(e.config)}catch(s){logError("BackupView.restore()",s),global$1.messageError="Unable to parse configuration file for GravityMon."}finally{global$1.disabled=!1,i.value=!1,e.value=""}})}),t.addEventListener("error",()=>{logError("BackupView.restore()","File reading failed"),global$1.messageError="Failed to read the backup file",global$1.disabled=!1,i.value=!1,e.value=""}),t.readAsText(o)})}return(e,r)=>{const a=resolveComponent("BsFileUpload"),l=resolveComponent("BsProgress");return openBlock(),createElementBlock("div",_hoisted_1$b,[r[6]||(r[6]=createBaseVNode("p",null,null,-1)),r[7]||(r[7]=createBaseVNode("p",{class:"h3"},"Backup & Restore",-1)),r[8]||(r[8]=createBaseVNode("hr",null,null,-1)),createBaseVNode("div",_hoisted_2$b,[r[0]||(r[0]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("p",null,"Create a backup of the device configuration and store this in a textfile")],-1)),createBaseVNode("div",_hoisted_3$a,[createBaseVNode("button",{onClick:s,type:"button",class:"btn btn-primary w-2","data-bs-toggle":"tooltip",disabled:unref(global$1).disabled}," Create backup ",8,_hoisted_4$a)]),r[1]||(r[1]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),r[2]||(r[2]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("p",null,"Restore a previous backup of the device configuration by uploading it.")],-1))]),createBaseVNode("div",_hoisted_5$9,[createBaseVNode("form",{onSubmit:withModifiers(n,["prevent"])},[createBaseVNode("div",_hoisted_6$9,[createVNode(a,{name:"upload",id:"upload",label:"Select backup file",accept:".txt",disabled:unref(global$1).disabled,onChange:o},null,8,["disabled"])]),createBaseVNode("div",_hoisted_7$5,[r[4]||(r[4]=createBaseVNode("p",null,null,-1)),createBaseVNode("button",{type:"submit",class:"btn btn-primary",value:"upload","data-bs-toggle":"tooltip",title:"Upload the configuration to the device",disabled:unref(global$1).disabled||!i.value},[withDirectives(createBaseVNode("span",_hoisted_9$4,null,512),[[vShow,unref(global$1).disabled]]),r[3]||(r[3]=createTextVNode(" Restore ",-1))],8,_hoisted_8$5)]),t.value>0?(openBlock(),createElementBlock("div",_hoisted_10$4,[r[5]||(r[5]=createBaseVNode("p",null,null,-1)),createVNode(l,{progress:t.value},null,8,["progress"])])):createCommentVNode("",!0)],32)])])}}},_hoisted_1$a={class:"container"},_hoisted_2$a={class:"row"},_hoisted_3$9={style:{}},_hoisted_4$9={class:"badge bg-secondary"},_hoisted_5$8={class:"badge bg-secondary"},_hoisted_6$8={class:"badge bg-secondary"},_hoisted_7$4={class:"badge bg-secondary"},_hoisted_8$4={class:"col-md-12"},_hoisted_9$3={class:"col-md-3"},_hoisted_10$3=["title","disabled"],_hoisted_11$2={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_12$2={key:0,class:"col-md-12"},_sfc_main$a={__name:"FirmwareView",setup(e){const t=ref(0),i=ref(!1),o=e=>{const t=e.target;i.value=t.files&&t.files.length>0};function s(){return __async(this,null,function*(){const e=document.getElementById("upload");if(0===e.files.length)global$1.messageError="You need to select one file with firmware to upload";else{global$1.disabled=!0,logDebug("FirmwareView.upload()","Selected file: "+e.files[0].name),t.value=0;try{const i=yield sharedHttpClient.uploadFile("api/firmware",e.files[0],{timeoutMs:18e4,onProgress:e=>{logDebug("FirmwareView.upload()","Upload progress: "+Math.round(e)+"%"),t.value=Math.round(e)}});if(t.value=100,i.success){global$1.messageSuccess="File upload completed, waiting for device to restart before doing refresh!",global$1.messageError="";const e=setTimeout(()=>{try{location.href=location.href.replace("/other/firmware","")}catch(e){logError("FirmwareView.redirect()",e),window.location.reload()}},1e4);window.addEventListener("beforeunload",()=>{clearTimeout(e)},{once:!0})}else global$1.messageError=`Upload failed: ${i.status}`}catch(i){global$1.messageError=`Upload error: ${i.message||i}`}finally{global$1.disabled=!1}}})}return(e,n)=>{const r=resolveComponent("BsFileUpload"),a=resolveComponent("BsProgress");return openBlock(),createElementBlock("div",_hoisted_1$a,[n[7]||(n[7]=createBaseVNode("p",null,null,-1)),n[8]||(n[8]=createBaseVNode("p",{class:"h3"},"Firmware Upload",-1)),n[9]||(n[9]=createBaseVNode("hr",null,null,-1)),createBaseVNode("div",_hoisted_2$a,[createBaseVNode("form",{onSubmit:withModifiers(s,["prevent"])},[createBaseVNode("div",_hoisted_3$9,[createBaseVNode("p",null,[n[3]||(n[3]=createTextVNode(" Selet the firmware file that matches your device. Platform: ",-1)),createBaseVNode("span",_hoisted_4$9,toDisplayString(unref(global$1).platform),1),unref(global$1).app_ver&&unref(global$1).app_build?(openBlock(),createElementBlock(Fragment,{key:0},[n[0]||(n[0]=createTextVNode(", Version: ",-1)),createBaseVNode("span",_hoisted_5$8,toDisplayString(unref(global$1).app_ver),1),createTextVNode(" ("+toDisplayString(unref(global$1).app_build)+") ",1)],64)):createCommentVNode("",!0),unref(global$1).hardware?(openBlock(),createElementBlock(Fragment,{key:1},[n[1]||(n[1]=createTextVNode(", Hardware: ",-1)),createBaseVNode("span",_hoisted_6$8,toDisplayString(unref(global$1).hardware),1)],64)):createCommentVNode("",!0),unref(global$1).firmware_file?(openBlock(),createElementBlock(Fragment,{key:2},[n[2]||(n[2]=createTextVNode(", Filename: ",-1)),createBaseVNode("span",_hoisted_7$4,toDisplayString(unref(global$1).firmware_file),1)],64)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8$4,[createVNode(r,{name:"upload",id:"upload",label:"Select firmware file",accept:".bin",help:"Choose the firmware file (.bin) that will be used to update the device. The upload button will be enabled once a file is selected.",disabled:unref(global$1).disabled,onChange:o},null,8,["disabled"])]),createBaseVNode("div",_hoisted_9$3,[n[5]||(n[5]=createBaseVNode("p",null,null,-1)),createBaseVNode("button",{type:"submit",class:"btn btn-primary",id:"upload-btn",value:"upload","data-bs-toggle":"tooltip",title:i.value?"Update the device with the selected firmware":"Please select a firmware file first",disabled:unref(global$1).disabled||!i.value},[withDirectives(createBaseVNode("span",_hoisted_11$2,null,512),[[vShow,unref(global$1).disabled]]),n[4]||(n[4]=createTextVNode(" Flash firmware ",-1))],8,_hoisted_10$3)]),t.value>0?(openBlock(),createElementBlock("div",_hoisted_12$2,[n[6]||(n[6]=createBaseVNode("p",null,null,-1)),createVNode(a,{progress:t.value},null,8,["progress"])])):createCommentVNode("",!0)],32)])])}}},_hoisted_1$9={class:"container"},_hoisted_2$9={class:"row"},_hoisted_3$8={class:"col"},_hoisted_4$8={class:"badge bg-secondary"},_hoisted_5$7={class:"badge bg-secondary"},_hoisted_6$7={class:"badge bg-secondary"},_hoisted_7$3={class:"badge bg-secondary"},_hoisted_8$3={class:"badge bg-secondary"},_hoisted_9$2={class:"row"},_hoisted_10$2={class:"col"},_hoisted_11$1={class:"badge bg-secondary"},_hoisted_12$1={class:"badge bg-secondary"},_hoisted_13$1={class:"badge bg-secondary"},_hoisted_14$1={class:"badge bg-secondary"},_hoisted_15={class:"row"},_hoisted_16={class:"col-md-12"},_hoisted_17=["disabled"],_hoisted_18={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_19=["disabled"],_hoisted_20={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_21=["disabled"],_hoisted_22={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_23=["disabled"],_hoisted_24={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_25=["disabled"],_hoisted_26={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_27={class:"row"},_hoisted_28={class:"col"},_hoisted_29={key:0,class:"row"},_sfc_main$9={__name:"SupportView",setup(e){const t=ref(""),i=ref(!1);function o(e){return __async(this,null,function*(){const i={command:"get",file:e},o=yield sharedHttpClient.filesystemRequest(i);return!!o.success&&(logDebug("SupportView.fetchLog()","Fetching "+e+" completed"),o.text.split("\n").forEach(function(e){e.length&&(t.value=e+"\n"+t.value)}),!0)})}function s(e){return __async(this,null,function*(){return(yield sharedHttpClient.filesystemRequest({command:"del",file:e})).success})}function n(){return __async(this,null,function*(){global$1.clearMessages(),global$1.disabled=!0,t.value="",yield o("/error2.log"),yield o("/error.log"),global$1.disabled=!1})}function r(){return __async(this,null,function*(){global$1.clearMessages(),global$1.disabled=!0,t.value="";const e=yield s("/error2.log"),i=yield s("/error.log");e&&i&&(global$1.messageSuccess="Log files are deleted"),global$1.disabled=!1})}function a(){return __async(this,null,function*(){global$1.clearMessages(),global$1.disabled=!0,t.value="";const e=yield s("/config.json"),i=yield s("/gravitymon.json");e&&i&&(global$1.messageSuccess="Old configuration files are deleted"),global$1.disabled=!1})}function l(){global$1.clearMessages(),global$1.disabled=!0,t.value="",__async(null,null,function*(){const e=yield config.runHardwareScan();e&&e.success&&(t.value=e.data),global$1.disabled=!1})}return(e,o)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[o[21]||(o[21]=createStaticVNode('<p></p><p class="h3">Links and device logs</p><hr><div class="row"><p> If you need support, want to discuss the software or request any new features you can do that on github.com or homebrewtalk.com. </p></div><div class="row"><div class="col-md-4"><a class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="https://github.com/mp-se/gravitymon" target="_blank">Report issues on github.com</a></div><div class="col-md-4"><a class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="https://www.homebrewtalk.com/" target="_blank">Discuss on homebrewtalk.com</a></div><div class="col-md-4"><a class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="https://www.gravitymon.com/" target="_blank">Read docs on gravitymon.com</a></div></div><hr>',6)),createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$8,[createBaseVNode("p",null,[o[1]||(o[1]=createTextVNode(" Platform: ",-1)),createBaseVNode("span",_hoisted_4$8,toDisplayString(unref(global$1).platform),1),o[2]||(o[2]=createTextVNode(" Gyro: ",-1)),createBaseVNode("span",_hoisted_5$7,toDisplayString(unref(status).gyro_family),1),o[3]||(o[3]=createTextVNode(" Firmware: ",-1)),createBaseVNode("span",_hoisted_6$7,toDisplayString(unref(global$1).app_ver)+" ("+toDisplayString(unref(global$1).app_build)+")",1),o[4]||(o[4]=createTextVNode(" Hardware: ",-1)),createBaseVNode("span",_hoisted_7$3,toDisplayString(unref(global$1).hardware),1),o[5]||(o[5]=createTextVNode(" User interface: ",-1)),createBaseVNode("span",_hoisted_8$3,toDisplayString(unref(global$1).uiVersion)+" ("+toDisplayString(unref(global$1).uiBuild)+")",1)])])]),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[createBaseVNode("p",null,[o[6]||(o[6]=createTextVNode(" Bluetooth: ",-1)),createBaseVNode("span",_hoisted_11$1,toDisplayString(unref(global$1).feature.ble?"Enabled":"Disabled"),1),o[7]||(o[7]=createTextVNode(" Filter: ",-1)),createBaseVNode("span",_hoisted_12$1,toDisplayString(unref(global$1).feature.filter?"Enabled":"Disabled"),1),o[8]||(o[8]=createTextVNode(" Velocity: ",-1)),createBaseVNode("span",_hoisted_13$1,toDisplayString(unref(global$1).feature.velocity?"Enabled":"Disabled"),1),o[9]||(o[9]=createTextVNode(" Charging: ",-1)),createBaseVNode("span",_hoisted_14$1,toDisplayString(unref(global$1).feature.charging?"Enabled":"Disabled"),1)])])]),o[22]||(o[22]=createBaseVNode("hr",null,null,-1)),createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createBaseVNode("button",{onClick:n,type:"button",class:"btn btn-primary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_18,null,512),[[vShow,unref(global$1).disabled]]),o[10]||(o[10]=createTextVNode(" View device logs",-1))],8,_hoisted_17),o[15]||(o[15]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:r,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_20,null,512),[[vShow,unref(global$1).disabled]]),o[11]||(o[11]=createTextVNode(" Erase device logs",-1))],8,_hoisted_19),o[16]||(o[16]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:l,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled||1==unref(status).wifi_setup},[withDirectives(createBaseVNode("span",_hoisted_22,null,512),[[vShow,unref(global$1).disabled]]),o[12]||(o[12]=createTextVNode(" Hardware scan",-1))],8,_hoisted_21),o[17]||(o[17]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:o[0]||(o[0]=e=>i.value=!i.value),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_24,null,512),[[vShow,unref(global$1).disabled]]),o[13]||(o[13]=createTextVNode(" Toggle error help",-1))],8,_hoisted_23),o[18]||(o[18]=createTextVNode(" ",-1)),unref(status).ispindel_config?(openBlock(),createElementBlock("button",{key:0,onClick:a,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_26,null,512),[[vShow,unref(global$1).disabled]]),o[14]||(o[14]=createTextVNode(" Erase iSpindel config ",-1))],8,_hoisted_25)):createCommentVNode("",!0)])]),o[23]||(o[23]=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"col"},[createBaseVNode("p")])],-1)),createBaseVNode("div",_hoisted_27,[createBaseVNode("div",_hoisted_28,[createBaseVNode("pre",null,toDisplayString(t.value),1)]),o[19]||(o[19]=createBaseVNode("div",{class:"form-text"},"Starts with the latest log entry first.",-1))]),i.value?(openBlock(),createElementBlock("div",_hoisted_29,[...o[20]||(o[20]=[createStaticVNode('<div class="col-md-12"><p></p></div><div class="col-md-12"> Common HTTP error codes: <li> 400 - Bad request. Probably an issue with the post format. Do a preview of the format to identify the issue. </li><li> 401 - Unauthorized. The service needs an token or other means to authenticate the device. </li><li>403 - Forbidden. Could be an issue with token or URL.</li><li>404 - Not found. Probably a wrong URL.</li><br> MQTT connection errors: <li>-1 - Connection refused</li><li>-2 - Send header failed</li><li>-3 - Send payload failed</li><li>-4 - Not connected</li><li>-5 - Connection lost</li><li>-6 - No stream</li><li>-7 - No HTTP server</li><li>-8 - Too little RAM available</li><li>-9 - Error encoding</li><li>-10 - Error writing to stream</li><li>-11 - Read timeout</li><li>-100 - Endpoint skipped since its SSL and the device is in gravity mode</li><br> MQTT push on topic errors: <li>-1 - Buffer to short</li><li>-2 - Overflow</li><li>-3 - Network failed connected</li><li>-4 - Network timeout</li><li>-5 - Network read failed</li><li>-6 - Network write failed</li><li>-10 - Connection denied</li><li>-11 - Failed subscription</li><br> WIFI error codes <li>1 - No SSID found.</li><li>4 - Connection failed.</li><li>5 - Connection lost.</li><li>6 - Wrong password.</li><li>7 - Disconnected by AP.</li></div>',2)])])):createCommentVNode("",!0)]))}},_hoisted_1$8={class:"container"},_hoisted_2$8={class:"h3"},_hoisted_3$7={class:"row gy-2"},_hoisted_4$7={class:"col-md-12"},_hoisted_5$6=["disabled"],_hoisted_6$6=["disabled"],maxLines=50,_sfc_main$8={__name:"SerialView",setup(t){const i=ref(null);let o=null;const s=ref("");function n(){s.value=""}onUnmounted(()=>{if("function"==typeof o){try{o()}catch(e){}o=null}else if(i.value)try{i.value.close()}catch(e){}i.value=null});const r=computed(()=>null!==i.value),a=computed(()=>null===i.value?"Not connected":"Connected");function l(){s.value="Attempting to connect to websocket\n";const e=sharedHttpClient.createWebSocket("serialws",{onOpen(){s.value+="Websocket established\n"},onMessage(e){for(var t=s.value.split("\n");t.length>maxLines;)t.shift();s.value=t.join("\n"),s.value+=e.data},onClose(){s.value+="Socket closed\n",i.value=null},onError(e){s.value+="Websocket error: "+(e&&e.message?e.message:e)+"\n"},autoReconnect:!0});o=e.close,i.value=e.socketGetter()}return onMounted(()=>{l()}),(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[t[2]||(t[2]=createBaseVNode("p",null,null,-1)),createBaseVNode("p",_hoisted_2$8,"Serial console ("+toDisplayString(a.value)+")",1),t[3]||(t[3]=createBaseVNode("hr",null,null,-1)),createBaseVNode("pre",null,toDisplayString(s.value),1),createBaseVNode("div",_hoisted_3$7,[t[1]||(t[1]=createBaseVNode("div",{class:"col-md-12"},[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_4$7,[createBaseVNode("button",{onClick:n,type:"button",class:"btn btn-primary w-2",disabled:!r.value}," Clear",8,_hoisted_5$6),t[0]||(t[0]=createTextVNode(" ",-1)),createBaseVNode("button",{onClick:l,type:"button",class:"btn btn-secondary w-2",disabled:r.value}," Connect ",8,_hoisted_6$6)])])]))}},_hoisted_1$7={class:"container"},_hoisted_2$7={key:1,class:"row gy-4"},_hoisted_3$6={class:"col-md-2"},_hoisted_4$6=["disabled"],_hoisted_5$5={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_6$5={key:3,class:"row gy-4"},_sfc_main$7={__name:"ToolsView",setup(e){const t=ref(!0);return(e,i)=>{const o=resolveComponent("VoltageFragment"),s=resolveComponent("ListFilesFragment"),n=resolveComponent("AdvancedFilesFragment"),r=resolveComponent("EnableCorsFragment");return openBlock(),createElementBlock("div",_hoisted_1$7,[i[4]||(i[4]=createBaseVNode("p",null,null,-1)),i[5]||(i[5]=createBaseVNode("p",{class:"h3"},"Tools",-1)),i[6]||(i[6]=createBaseVNode("hr",null,null,-1)),unref(global$1).ui.enableVoltageFragment?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(o),i[1]||(i[1]=createBaseVNode("div",{class:"row gy-4"},[createBaseVNode("p"),createBaseVNode("hr")],-1))],64)):createCommentVNode("",!0),createVNode(s),i[7]||(i[7]=createBaseVNode("div",{class:"row gy-4"},[createBaseVNode("p"),createBaseVNode("hr")],-1)),t.value?(openBlock(),createElementBlock("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$6,[createBaseVNode("button",{onClick:i[0]||(i[0]=e=>{t.value=!t.value}),type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_5$5,null,512),[[vShow,unref(global$1).disabled]]),i[2]||(i[2]=createTextVNode(" Enable Advanced ",-1))],8,_hoisted_4$6)])])):createCommentVNode("",!0),t.value?createCommentVNode("",!0):(openBlock(),createBlock(n,{key:2})),t.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$5,[...i[3]||(i[3]=[createBaseVNode("p",null,null,-1),createBaseVNode("hr",null,null,-1)])])),t.value?createCommentVNode("",!0):(openBlock(),createBlock(r,{key:4}))])}}},routes=[{path:"/",name:"home",component:_sfc_main$w},{path:"/device/settings",name:"device-settings",component:_sfc_main$u},{path:"/device/hardware",name:"device-hardware",component:_sfc_main$t},{path:"/device/gyro",name:"device-gyro",component:_sfc_main$s},{path:"/device/wifi",name:"device-wifi",component:_sfc_main$r},{path:"/device/wifi2",name:"device-wifi-manual",component:_sfc_main$q},{path:"/other/backup",name:"backup",component:_sfc_main$b},{path:"/gravity/settings",name:"gravity-settings",component:_sfc_main$p},{path:"/gravity/formula",name:"gravity-formula",component:_sfc_main$k},{path:"/other/firmware",name:"firmware",component:_sfc_main$a},{path:"/push/settings",name:"push-settings",component:_sfc_main$j},{path:"/push/http-post1",name:"push-http-post1",component:_sfc_main$i},{path:"/push/http-post2",name:"push-http-post2",component:_sfc_main$h},{path:"/push/http-get",name:"push-http-get",component:_sfc_main$g},{path:"/push/influxdb",name:"push-influxdb",component:_sfc_main$f},{path:"/push/mqtt",name:"push-Mqtt",component:_sfc_main$e},{path:"/push/bluetooth",name:"push-bluetooth",component:_sfc_main$d},{path:"/other/support",name:"support",component:_sfc_main$9},{path:"/other/tools",name:"tools",component:_sfc_main$7},{path:"/other/serial",name:"serial",component:_sfc_main$8},{path:"/other/about",name:"about",component:AboutView},{path:"/:catchAll(.*)",name:"404",component:NotFoundView}],router=createRouter({history:createWebHistory("/"),routes:routes});router.beforeEach(()=>!global$1.disabled&&!!validateCurrentForm()&&(global$1.clearMessages(),!0));const items=ref([{label:"Home",icon:"IconHome",path:"/",subs:[]},{label:"Device",icon:"IconCpu",path:"/device",badge:deviceBadge,subs:[{label:"Settings",badge:deviceSettingBadge,path:"/device/settings"},{label:"Hardware",badge:deviceHardwareBadge,path:"/device/hardware"},{label:"Gyro",badge:deviceGyroBadge,path:"/device/gyro"},{label:"Wifi",badge:deviceWifiBadge,path:"/device/wifi"}]},{label:"Gravity",icon:"IconGraphUpArrow",path:"/gravity",badge:gravityBadge,subs:[{label:"Settings",badge:gravitySettingBadge,path:"/gravity/settings"},{label:"Formula",badge:gravityFormulaBadge,path:"/gravity/formula"}]},{label:"Push targets",icon:"IconCloudUpArrow",path:"/push",badge:pushBadge,subs:[{label:"Settings",badge:pushSettingBadge,path:"/push/settings"},{label:"HTTP Post 1",badge:pushHttpPost1Badge,path:"/push/http-post1"},{label:"HTTP Post 2",badge:pushHttpPost2Badge,path:"/push/http-post2"},{label:"HTTP Get",badge:pushHttpGetBadge,path:"/push/http-get"},{label:"Influxdb v2",badge:pushInfluxdb2Badge,path:"/push/influxdb"},{label:"MQTT",badge:pushMqttBadge,path:"/push/mqtt"},{label:"Bluetooth",badge:pushBluetoothBadge,path:"/push/bluetooth"}]},{label:"Other",icon:"IconTools",path:"/other",subs:[{label:"Serial console",path:"/other/serial"},{label:"Backup & Restore",path:"/other/backup"},{label:"Firmware update",path:"/other/firmware"},{label:"Support",path:"/other/support"},{label:"Tools",path:"/other/tools"},{label:"About",path:"/other/about"}]}]),_hoisted_1$6={key:0,class:"container text-center"},_hoisted_2$6={class:"container"},_sfc_main$6={__name:"App",setup(t){const{createInterval:i}=useTimers(),o=ref(null),s=ref(!1),{disabled:n}=storeToRefs(global$1),r=e=>{"danger"==e?global$1.messageError="":"warning"==e?global$1.messageWarning="":"success"==e?global$1.messageSuccess="":"info"==e&&(global$1.messageInfo="")};function a(){__async(null,null,function*(){const e=yield sharedHttpClient.ping();status.connected=e})}function l(){s.value=!1}watch(n,()=>{global$1.disabled?document.body.style.cursor="wait":document.body.style.cursor="default"}),onBeforeMount(()=>{o.value=i(a,7e3)}),onMounted(()=>__async(null,null,function*(){logInfo("App.onMounted()",`Using espframework version ${version$1}`),global$1.initialized||(yield function(){return __async(this,null,function*(){try{void document.querySelector("#spinner").showModal();const t=btoa("gravitymon:password");if(!(yield sharedHttpClient.auth(t)))return global$1.messageError="Failed to authenticate with device, please try to reload page!",void 0;if(!(yield global$1.load()))return global$1.messageError="Failed to load feature flags from device, please try to reload page!",void 0;if(!(yield status.load()))return global$1.messageError="Failed to load status from device, please try to reload page!",void 0;if(!(yield config.load()))return global$1.messageError="Failed to load configuration data from device, please try to reload page!",void 0;if(!(yield config.loadFormat()))return global$1.messageError="Failed to load format templates from device, please try to reload page!",void 0;if(!global$1.registered&&global$1.ui.enableDeviceRegistration)try{const e=yield global$1.anonymizeChipId(),t=`${global$1.registerBaseUrl}api/v1/device/check/${e}`,i=yield sharedHttpClient.getJson(t,{headers:{"X-API-Key":`${global$1.registerApiKey}`}});i&&i.exists&&(yield sharedHttpClient.postJson("api/config",{registered:!0}),global$1.registered=!0)}catch(e){logError("App.initializeApp()","Registration check failed:",e)}saveConfigState(),c(config.dark_mode),global$1.initialized=!0,!global$1.registered&&global$1.ui.enableDeviceRegistration&&0==status.wifi_setup&&(s.value=!0)}catch(e){logError("App.initializeApp()",e),global$1.messageError=`Initialization failed: ${e.message}`}finally{void document.querySelector("#spinner").close()}})}())})),watch(()=>config.dark_mode,e=>{c(e)});const c=t=>{logInfo("App.handleDarkModeUpdate()","Updating dark mode settings",t),config.dark_mode=t;try{const e=document.documentElement;t?e.setAttribute("data-bs-theme","dark"):e.setAttribute("data-bs-theme","light")}catch(e){logError("App.handleDarkModeUpdate()","Failed to set data-bs-theme on documentElement",e)}};return(e,t)=>{const i=resolveComponent("BsMessage"),o=resolveComponent("BsMenuBar"),n=resolveComponent("router-link"),a=resolveComponent("RegisterDeviceFragment"),d=resolveComponent("router-view"),u=resolveComponent("BsFooter");return openBlock(),createElementBlock(Fragment,null,[t[10]||(t[10]=createBaseVNode("dialog",{id:"spinner",class:"loading"},[createBaseVNode("div",{class:"container text-center"},[createBaseVNode("div",{class:"row align-items-center",style:{height:"170px"}},[createBaseVNode("div",{class:"col"},[createBaseVNode("div",{class:"spinner-border",role:"status",style:{width:"5rem",height:"5rem"}},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")])])])])],-1)),unref(global$1).initialized?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode(i,{message:"Initalizing GravityMon Web interface",dismissable:!1,alert:"info"})])),unref(global$1).initialized?(openBlock(),createBlock(o,{key:1,disabled:unref(global$1).disabled,brand:"Gravitymon","menu-items":unref(items),"dark-mode":unref(config).dark_mode,mdns:unref(config).mdns,"config-changed":unref(global$1).configChanged,"onUpdate:darkMode":c},null,8,["disabled","menu-items","dark-mode","mdns","config-changed"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$6,[t[9]||(t[9]=createBaseVNode("div",null,[createBaseVNode("p")],-1)),unref(status).connected?createCommentVNode("",!0):(openBlock(),createBlock(i,{key:0,message:"No response from device, has it gone into sleep model? No need to refresh the page, just turn on the device again",dismissable:!1,alert:"danger"})),unref(global$1).isError?(openBlock(),createBlock(i,{key:1,close:r,dismissable:!0,message:unref(global$1).messageError,alert:"danger"},null,8,["message"])):createCommentVNode("",!0),unref(global$1).isWarning?(openBlock(),createBlock(i,{key:2,close:r,dismissable:!0,message:unref(global$1).messageWarning,alert:"warning"},null,8,["message"])):createCommentVNode("",!0),unref(global$1).isSuccess?(openBlock(),createBlock(i,{key:3,close:r,dismissable:!0,message:unref(global$1).messageSuccess,alert:"success"},null,8,["message"])):createCommentVNode("",!0),unref(global$1).isInfo?(openBlock(),createBlock(i,{key:4,close:r,dismissable:!0,message:unref(global$1).messageInfo,alert:"info"},null,8,["message"])):createCommentVNode("",!0),unref(status).wifi_setup?(openBlock(),createBlock(i,{key:5,dismissable:!1,alert:"info"},{default:withCtx(()=>[t[1]||(t[1]=createTextVNode(" Running in WIFI setup mode. Go to the ",-1)),createVNode(n,{class:"alert-link",to:"/device/wifi"},{default:withCtx(()=>[...t[0]||(t[0]=[createTextVNode("wifi settings",-1)])]),_:1}),t[2]||(t[2]=createTextVNode(" meny and select wifi. Restart device after wifi is configured. ",-1))]),_:1})):createCommentVNode("",!0),unref(status).wifi_setup?(openBlock(),createBlock(i,{key:6,dismissable:!1,alert:"warning"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode(" Sensors are not enabled when in wifi setup mode! ",-1)])]),_:1})):createCommentVNode("",!0),unref(status).ispindel_config?(openBlock(),createBlock(i,{key:7,dismissable:!0,alert:"info"},{default:withCtx(()=>[t[6]||(t[6]=createTextVNode(" iSpindel configuration found, ",-1)),createVNode(n,{class:"alert-link",to:"/device/gyro"},{default:withCtx(()=>[...t[4]||(t[4]=[createTextVNode("import",-1)])]),_:1}),t[7]||(t[7]=createTextVNode(" formula/gyro or ",-1)),createVNode(n,{class:"alert-link",to:"/other/support"},{default:withCtx(()=>[...t[5]||(t[5]=[createTextVNode("delete",-1)])]),_:1}),t[8]||(t[8]=createTextVNode(" the configuration. ",-1))]),_:1})):createCommentVNode("",!0)]),s.value?(openBlock(),createBlock(a,{key:2,software:"Gravitymon",onClose:l})):createCommentVNode("",!0),unref(global$1).initialized?(openBlock(),createBlock(d,{key:3})):createCommentVNode("",!0),unref(global$1).initialized?(openBlock(),createBlock(u,{key:4,text:"(c) 2021-2025 Magnus Persson"})):createCommentVNode("",!0)],64)}}},_hoisted_1$5={key:0},_hoisted_2$5={class:"row gy-4"},_hoisted_3$5={class:"col-md-12"},_hoisted_4$5={class:"col-md-3"},_hoisted_5$4=["disabled"],_hoisted_6$4={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_7$2={key:0,class:"col-md-12"},_hoisted_8$2={class:"row gy-4"},_hoisted_9$1={class:"col-md-3"},_hoisted_10$1=["disabled"],_hoisted_11={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_12={class:"col-md-6"},_hoisted_13={class:"button-group"},_hoisted_14=["onClick","disabled"],HTTP_TIMEOUT_MS$1=2e4,_sfc_main$5={__name:"AdvancedFilesFragment",props:{type:{type:String,default:"fs",validator:e=>["fs","sd"].includes(e)}},setup(t){const i=t,o=ref(null),s=ref([]),n=ref(!1),r=ref(null),a=ref(null),l=computed(()=>"Upload files to file system"),c=computed(()=>"sd"===i.type?"Delete files from SD file system":"Delete files from file system"),d=computed(()=>"sd"===i.type?"Delete SD files":"List files"),u=computed(()=>"sd"===i.type?"deleteSecureDiskFile":"deleteFile"),h=t=>__async(null,null,function*(){global$1.disabled=!0;try{const e=yield sharedHttpClient.postJson("api/sd",t,{timeoutMs:HTTP_TIMEOUT_MS$1}),i=yield e.text();return global$1.disabled=!1,{success:!0,text:i}}catch(e){return global$1.disabled=!1,{success:!1,text:""}}}),p=e=>__async(null,null,function*(){const t="sd"===i.type?"AdvancedSecureDiskFragment":"AdvancedFilesFragment";if(logDebug(`${t}.confirmDeleteCallback()`,e),e){global$1.disabled=!0,global$1.clearMessages(),o.value=null;const e={command:"del",file:a.value};"sd"===i.type?logDebug(`${t}.confirmDeleteCallback()`,yield h(e)):yield sharedHttpClient.filesystemRequest(e),s.value=[],global$1.disabled=!1}}),f=()=>__async(null,null,function*(){global$1.disabled=!0,global$1.clearMessages(),s.value=[];const e={command:"dir"};if("sd"===i.type){const t=yield h(e);if(t&&t.success){const e=JSON.parse(t.text);for(const t of e.files)s.value.push(t.file)}}else{const t=yield sharedHttpClient.filesystemRequest(e);if(t&&t.success){const e=JSON.parse(t.text);for(const t in e.files)s.value.push(e.files[t].file)}}global$1.disabled=!1}),g=ref(0),m=e=>{n.value=e.target.files.length>0};function _(){return __async(this,null,function*(){const e=document.getElementById("upload");if(0===e.files.length)return global$1.messageError="You need to select one file with firmware to upload",void 0;global$1.disabled=!0,logDebug("AdvancedFilesFragment.upload()","Selected file: "+e.files[0].name),g.value=0;try{const t=yield sharedHttpClient.uploadFile("api/filesystem/upload",e.files[0],{timeoutMs:4e4,onProgress:e=>{g.value=Math.round(e)}});g.value=100,t&&t.success?(global$1.messageSuccess="File upload completed!",global$1.messageError=""):global$1.messageError=`File upload failed: ${t&&t.status}`}catch(t){logError("AdvancedFilesFragment.upload()",t),global$1.messageError="File upload failed!"}finally{global$1.disabled=!1,s.value=[]}})}return(e,t)=>{const o=resolveComponent("BsFileUpload"),h=resolveComponent("BsProgress"),b=resolveComponent("BsModalConfirm");return openBlock(),createElementBlock(Fragment,null,["fs"===i.type?(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("h5",null,toDisplayString(l.value),1),createBaseVNode("div",_hoisted_2$5,[createBaseVNode("form",{onSubmit:withModifiers(_,["prevent"])},[createBaseVNode("div",_hoisted_3$5,[createVNode(o,{name:"upload",id:"upload",label:"Select firmware file",accept:"",help:"Choose a file to upload to the file system",disabled:unref(global$1).disabled,onChange:m},null,8,["disabled"])]),createBaseVNode("div",_hoisted_4$5,[t[1]||(t[1]=createBaseVNode("p",null,null,-1)),createBaseVNode("button",{type:"submit",class:"btn btn-secondary",id:"upload-btn",value:"upload","data-bs-toggle":"tooltip",title:"Update the device with the selected firmware",disabled:unref(global$1).disabled||!n.value},[withDirectives(createBaseVNode("span",_hoisted_6$4,null,512),[[vShow,unref(global$1).disabled]]),t[0]||(t[0]=createTextVNode(" Upload file ",-1))],8,_hoisted_5$4)]),g.value>0?(openBlock(),createElementBlock("div",_hoisted_7$2,[t[2]||(t[2]=createBaseVNode("p",null,null,-1)),createVNode(h,{progress:g.value},null,8,["progress"])])):createCommentVNode("",!0)],32)]),t[3]||(t[3]=createBaseVNode("div",{class:"row gy-4"},[createBaseVNode("p"),createBaseVNode("hr")],-1))])):createCommentVNode("",!0),createBaseVNode("h5",null,toDisplayString(c.value),1),createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("button",{onClick:f,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_11,null,512),[[vShow,unref(global$1).disabled]]),createTextVNode(" "+toDisplayString(d.value),1)],8,_hoisted_10$1)]),createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(e,i)=>(openBlock(),createElementBlock(Fragment,{key:i},[createBaseVNode("button",{type:"button",onClick:withModifiers(t=>(e=>{r.value="Do you really want to delete file "+e,a.value=e,document.getElementById(u.value).click()})(e),["prevent"]),class:"btn btn-outline-primary",href:"#",disabled:unref(global$1).disabled},toDisplayString(e),9,_hoisted_14),t[4]||(t[4]=createTextVNode(" ",-1))],64))),128))])]),createVNode(b,{callback:p,message:r.value,id:u.value,title:"Delete file",disabled:unref(global$1).disabled},null,8,["message","id","disabled"])])],64)}}},_hoisted_1$4={class:"row gy-4"},_hoisted_2$4={class:"col-md-3"},_hoisted_3$4=["disabled"],_hoisted_4$4={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main$4={__name:"EnableCorsFragment",setup(e){const t=()=>__async(null,null,function*(){try{global$1.disabled=!0,global$1.clearMessages();const t={cors_allowed:!0};try{yield sharedHttpClient.postJson("api/config",t),logInfo("EnableCorsFragment.enableCors()","Sending /api/config completed"),global$1.messageSuccess="CORS enabled in configuration, please reboot to take effect."}catch(e){logError("EnableCorsFragment.enableCors()","Sending /api/config failed",e),global$1.messageError="Failed to enable CORS."}}catch(e){logError("EnableCorsFragment.enableCors()","Error enabling CORS:",e),global$1.messageError="Failed to enable CORS: "+(e.message||e)}finally{global$1.disabled=!1}});return(e,i)=>(openBlock(),createElementBlock(Fragment,null,[i[2]||(i[2]=createBaseVNode("h5",null,"Developer settings",-1)),createBaseVNode("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("button",{onClick:t,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_4$4,null,512),[[vShow,unref(global$1).disabled]]),i[0]||(i[0]=createTextVNode(" Enable CORS",-1))],8,_hoisted_3$4),i[1]||(i[1]=createTextVNode(" ",-1))])])],64))}},_hoisted_1$3={class:"row gy-4"},_hoisted_2$3={class:"col-md-3"},_hoisted_3$3=["disabled"],_hoisted_4$3={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_5$3={class:"col-md-6"},_hoisted_6$3={class:"button-group"},_hoisted_7$1=["onClick","disabled"],_hoisted_8$1={key:0,class:"col-md-12"},_hoisted_9={key:1,class:"col-md-12"},_hoisted_10=["innerHTML"],HTTP_TIMEOUT_MS=2e4,_sfc_main$3={__name:"ListFilesFragment",props:{type:{type:String,default:"fs",validator:e=>["fs","sd"].includes(e)}},setup(t){const i=t,o=ref(null),s=ref(null),n=ref([]),r=ref(null),a=ref(0),l=ref(""),c=computed(()=>"sd"===i.type?"Explore the SD file system":"Explore the file system"),d=computed(()=>"sd"===i.type?"List SD files":"List files"),u=["#FF0000","#FF7F00","#006400","#0000FF","#4B0082","#9400D3"];function h(e){const t=e/1024;return t>=1048576?(t/1048576).toFixed(1)+" GB":t>=1024?(t/1024).toFixed(1)+" MB":t.toFixed(0)+" KB"}function p(e,t=0){const i="  ".repeat(t);if("string"==typeof e)return`<span style="color: green">"${e}"</span>`;if("number"==typeof e)return`<span style="color: blue">${e}</span>`;if("boolean"==typeof e)return`<span style="color: red">${e}</span>`;if(null===e)return'<span style="color: gray">null</span>';if(Array.isArray(e))return 0===e.length?"[]":`[\n${e.map(e=>`${i}  ${p(e,t+1)}`).join(",\n")}\n${i}]`;if("object"==typeof e){const o=Object.keys(e);return 0===o.length?"{}":`{\n${o.map(o=>`${i}  <span style="color: purple">"${o}"</span>: ${p(e[o],t+1)}`).join(",\n")}\n${i}}`}return e}const f=t=>__async(null,null,function*(){global$1.disabled=!0,global$1.clearMessages(),r.value=null;try{let s;if("sd"===i.type)s=yield(o=t,__async(null,null,function*(){global$1.disabled=!0;try{const e=yield sharedHttpClient.request("sd"+o,{method:"GET",timeoutMs:HTTP_TIMEOUT_MS}),t=yield e.text();return global$1.disabled=!1,{success:!0,text:t}}catch(e){return global$1.disabled=!1,{success:!1,text:""}}}));else{const e={command:"get",file:t,timeoutMs:HTTP_TIMEOUT_MS};s=yield sharedHttpClient.filesystemRequest(e)}if(s&&s.success){const e=s.text;a.value=e.length,isValidJson(e)?(r.value=p(JSON.parse(e)),l.value="json"):isValidFormData(e)?(r.value=function(e){return e.split("&").map(e=>{if(!e.trim())return e;const[t,...i]=e.split("=");return`<span style="color: blue">${t}</span>=<span style="color: green">${i.join("=")}</span>`}).join("&\n")}(e),l.value="formdata"):isValidMqttData(e)?(r.value=function(e){return e.split("|").map(e=>{if(!e.trim())return e;const[t,...i]=e.split(":");return`<span style="color: purple">${t}</span>:<span style="color: orange">${i.join(":")}</span>`}).join("|\n")}(e),l.value="mqtt"):function(e){const t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map(e=>e.trim()).filter(e=>e.length>0);if(0===t.length)return!1;const i=t.map(e=>(e.match(/,/g)||[]).length),o=i[0];return i.every(e=>e===o&&e>0)}(e)?(r.value=function(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map(e=>e.trim()?e.split(",").map((e,t)=>`<span style="color: ${u[t%u.length]}">${e}</span>`).join(","):e).join("\n")}(e),l.value="csv"):function(e){if(e.includes(""))return!0;for(let t of e){const e=t.charCodeAt(0);if(e<32&&9!==e&&10!==e&&13!==e)return!0}return!1}(e)?(r.value=function(e){const t=Array.from(e).map(e=>""===e?"FF":e.charCodeAt(0).toString(16).padStart(2,"0").toUpperCase()),i=Array.from(e).map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:"."}),o=[];for(let s=0;s<t.length;s+=20){const e=t.slice(s,s+20).join(" ").padEnd(59," "),n=i.slice(s,s+20).join("");o.push(`${e}  ${n}`)}return o.join("\n")}(e),l.value="binary"):(r.value=e,l.value="text")}}catch(s){console.error("Error viewing file:",s)}finally{global$1.disabled=!1}var o}),g=()=>__async(null,null,function*(){global$1.disabled=!0,global$1.clearMessages(),n.value=[],o.value=null,s.value=null;try{let t;if("sd"===i.type){const i={command:"dir"};t=yield(t=>__async(null,null,function*(){global$1.disabled=!0;try{const e=yield sharedHttpClient.postJson("api/sd",t,{timeoutMs:HTTP_TIMEOUT_MS}),i=yield e.text();return global$1.disabled=!1,{success:!0,text:i}}catch(e){return global$1.disabled=!1,{success:!1,text:""}}}))(i)}else{const e={command:"dir",timeoutMs:HTTP_TIMEOUT_MS};t=yield sharedHttpClient.filesystemRequest(e)}if(t&&t.success){const e=JSON.parse(t.text);if(e.used&&e.total&&(o.value=e.used/e.total*100,s.value="Total space "+h(e.total)+", Free space "+h(e.free)+", Used space "+h(e.used)),e.files)for(const t of e.files)n.value.push(t.file)}}catch(t){console.error("Error listing files:",t)}finally{global$1.disabled=!1}});return(e,t)=>{const i=resolveComponent("BsProgress");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",null,toDisplayString(c.value),1),createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("button",{onClick:g,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_4$3,null,512),[[vShow,unref(global$1).disabled]]),createTextVNode(" "+toDisplayString(d.value),1)],8,_hoisted_3$3),t[0]||(t[0]=createTextVNode(" ",-1))]),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(e,i)=>(openBlock(),createElementBlock(Fragment,{key:i},[createBaseVNode("button",{type:"button",onClick:withModifiers(t=>f(e),["prevent"]),class:"btn btn-outline-primary",href:"#",disabled:unref(global$1).disabled},toDisplayString(e),9,_hoisted_7$1),t[1]||(t[1]=createTextVNode(" ",-1))],64))),128))])])]),o.value>0?(openBlock(),createElementBlock("div",_hoisted_8$1,[t[2]||(t[2]=createBaseVNode("h6",null,"File system usage",-1)),createVNode(i,{progress:o.value},null,8,["progress"]),createBaseVNode("p",null,toDisplayString(s.value),1)])):createCommentVNode("",!0),null!==r.value?(openBlock(),createElementBlock("div",_hoisted_9,[createBaseVNode("h6",null," File contents"+toDisplayString(l.value?", format: "+l.value:"")+", size "+toDisplayString(a.value)+" bytes ",1),createBaseVNode("pre",{class:"border p-2",innerHTML:r.value},null,8,_hoisted_10)])):createCommentVNode("",!0)],64)}}},_hoisted_1$2={class:"modal fade show d-block",tabindex:"-1","aria-labelledby":"registrationModalLabel","aria-hidden":"true"},_hoisted_2$2={class:"modal-dialog modal-lg modal-dialog-centered"},_hoisted_3$2={class:"modal-content"},_hoisted_4$2={class:"modal-body"},_hoisted_5$2={class:"mb-3"},_hoisted_6$2={id:"registrationData",class:"border p-2 bg-light"},_sfc_main$2={__name:"RegisterDeviceFragment",props:{software:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const i=e,o=t,s=ref("");onMounted(()=>__async(null,null,function*(){const e=yield global$1.anonymizeChipId(),t={software:(i.software||"").toLowerCase(),chipid:e,version:(global$1.app_ver||"unknown").toLowerCase(),platform:(global$1.platform||"unknown").toLowerCase(),board:(global$1.board||"unknown").toLowerCase()};s.value=JSON.stringify(t,null,2)}));const n=()=>{o("close")},r=()=>__async(null,null,function*(){global$1.clearMessages(),logInfo("RegisterDeviceFragment.ignore()","Marking device as registered without sending data"),global$1.disabled=!0;try{yield sharedHttpClient.postJson("api/config",{registered:!0}),global$1.registered=!0}catch(e){logError("RegisterDeviceFragment.ignore()","Failed to mark as registered:",e),global$1.messageError="Failed to update registration status"}finally{global$1.disabled=!1}o("close")}),a=()=>__async(null,null,function*(){global$1.clearMessages(),logInfo("RegisterDeviceFragment.send()","Sending device registration"),global$1.disabled=!0;try{const e=`${global$1.registerBaseUrl}api/v1/device/add`;(yield sharedHttpClient.postJson(e,JSON.parse(s.value),{headers:{"X-API-Key":`${global$1.registerApiKey}`,"Content-Type":"application/json"}}))?(yield sharedHttpClient.postJson("api/config",{registered:!0}),global$1.registered=!0,global$1.messageSuccess="Device registered successfully!"):global$1.messageError="Registration failed. Please try again."}catch(e){const t=e.message.match(/HTTP (\d+):/),i=t?parseInt(t[1]):null;401===i?global$1.messageError="Registration failed: API key has been revoked. Please update to a newer software version to register.":429===i?global$1.messageError="Registration failed: Registration API is currently unavailable, please try again later.":500===i?global$1.messageError="Registration failed: Internal server error, please try again later.":(logError("RegisterDeviceFragment.send()","Registration error:",e),global$1.messageError="An error occurred during registration.")}finally{global$1.disabled=!1}o("close")});return(e,t)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[t[5]||(t[5]=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"registrationModalLabel"},"Report usage")],-1)),createBaseVNode("div",_hoisted_4$2,[t[1]||(t[1]=createBaseVNode("p",null," Do you want to help me determine what boards and configurations are used for this project so I can better focus on those going forward. This is the data that will be sent and its anonymized. The chipid is a hash (SHA256) of the actual chip ID to ensure privacy. ",-1)),createBaseVNode("div",_hoisted_5$2,[t[0]||(t[0]=createBaseVNode("label",{for:"registrationData",class:"form-label"},"Anonymous data:",-1)),createBaseVNode("pre",_hoisted_6$2,toDisplayString(s.value),1)]),t[2]||(t[2]=createBaseVNode("p",null,[createBaseVNode("b",null,"Cancel"),createTextVNode(" will close the dialog without action.")],-1)),t[3]||(t[3]=createBaseVNode("p",null,[createBaseVNode("b",null,"Ignore"),createTextVNode(" will not prompt you again on this device, but you want this can be triggered from the device settings page. ")],-1)),t[4]||(t[4]=createBaseVNode("p",null,[createBaseVNode("b",null,"Send"),createTextVNode(" will send the data above to the collection service.")],-1))]),createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-secondary",onClick:n},"Cancel"),createBaseVNode("button",{type:"button",class:"btn btn-secondary",onClick:r},"Ignore"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:a},"Send")])])])]),t[6]||(t[6]=createBaseVNode("div",{class:"modal-backdrop fade show"},null,-1))],64))}},RegisterDeviceFragment=_export_sfc(_sfc_main$2,[["__scopeId","data-v-01506874"]]),_hoisted_1$1={class:"modal fade show d-block",tabindex:"-1","aria-labelledby":"registrationModalLabel","aria-hidden":"true"},_hoisted_2$1={class:"modal-dialog modal-lg modal-dialog-centered"},_hoisted_3$1={class:"modal-content"},_hoisted_4$1={class:"modal-body"},_hoisted_5$1={class:"mb-3"},_hoisted_6$1={id:"registrationData",class:"border p-2 bg-light"},_sfc_main$1={__name:"RegisterCalibrationFragment",emits:["close"],setup(e,{emit:t}){const i=t,o=ref("");onMounted(()=>__async(null,null,function*(){const e={chipid:yield global$1.anonymizeChipId(),formula:config.gravity_formula,gravity_unit:config.gravity_unit,formula_calculation_data:[]};o.value=JSON.stringify(e,null,2),console.log("Calibration data:",o.value),o.value=o.value.replace("[]",JSON.stringify(config.formula_calculation_data,null,0)),console.log("Calibration data:",o.value),e.formula_calculation_data=config.formula_calculation_data,console.log("Calibration data:",JSON.stringify(e,null,2))}));const s=()=>{i("close")},n=()=>__async(null,null,function*(){global$1.clearMessages(),logInfo("RegisterCalibrationFragment.send()","Sending calibration data"),global$1.disabled=!0;try{const e=`${global$1.registerBaseUrl}api/v1/calibration/add`;(yield sharedHttpClient.postJson(e,JSON.parse(o.value),{headers:{"X-API-Key":`${global$1.registerApiKey}`,"Content-Type":"application/json"}}))?global$1.messageSuccess="Calibration data reported successfully!":global$1.messageError="Registration failed. Please try again."}catch(e){const t=e.message.match(/HTTP (\d+):/),i=t?parseInt(t[1]):null;401===i?global$1.messageError="Reporting failed: API key has been revoked. Please update to a newer software version to report data.":429===i?global$1.messageError="Reporting failed: Registration API is currently unavailable, please try again later.":500===i?global$1.messageError="Reporting failed: Internal server error, please try again later.":(logError("RegisterCalibrationFragment.send()","Reporting error:",e),global$1.messageError="An error occurred during reporting.")}finally{global$1.disabled=!1}i("close")});return(e,t)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[t[4]||(t[4]=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"registrationModalLabel"},"Report calibration data")],-1)),createBaseVNode("div",_hoisted_4$1,[t[1]||(t[1]=createBaseVNode("p",null," Do you want to help to identify improvements connected to device calibration please report your data points. Its possible to report data multiple times if you improve your data points. This is the data that will be sent and its anonymized. The chipid is a hash (SHA256) of the actual chip ID to ensure privacy. ",-1)),createBaseVNode("div",_hoisted_5$1,[t[0]||(t[0]=createBaseVNode("label",{for:"registrationData",class:"form-label"},"Anonymous data:",-1)),createBaseVNode("pre",_hoisted_6$1,toDisplayString(o.value),1)]),t[2]||(t[2]=createBaseVNode("p",null,[createBaseVNode("b",null,"Cancel"),createTextVNode(" will close the dialog without action.")],-1)),t[3]||(t[3]=createBaseVNode("p",null,[createBaseVNode("b",null,"Send"),createTextVNode(" will send the data above to the collection service.")],-1))]),createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-secondary",onClick:s},"Cancel"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:n},"Send")])])])]),t[5]||(t[5]=createBaseVNode("div",{class:"modal-backdrop fade show"},null,-1))],64))}},RegisterCalibrationFragment=_export_sfc(_sfc_main$1,[["__scopeId","data-v-8636be4c"]]),_hoisted_1={class:"row"},_hoisted_2={class:"col-md-4"},_hoisted_3={class:"col-md-4"},_hoisted_4={class:"col-md-4"},_hoisted_5={class:"row gy-4"},_hoisted_6={class:"col-md-3"},_hoisted_7=["disabled"],_hoisted_8={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_sfc_main={__name:"VoltageFragment",setup(e){const t=ref(0),i=()=>{global$1.disabled=!0,global$1.clearMessages();var e=parseFloat(t.value);if(isNaN(e))return global$1.messageError="Not a valid measurement",void 0;config.voltage_factor=parseFloat(e/(status.battery/config.voltage_factor)).toFixed(2),__async(null,null,function*(){logDebug("VoltageFragment.calculateFactor()",yield config.sendConfig()),saveConfigState(),global$1.disabled=!0,setTimeout(()=>__async(null,null,function*(){logDebug("VoltageFragment.calculateFactor()",yield status.load(),status.battery),global$1.messageInfo="New factor applied, check if the current battery reading is correct",global$1.disabled=!1}),1e3)})};return(e,o)=>{const s=resolveComponent("BsInputNumber"),n=resolveComponent("BsInputReadonly");return openBlock(),createElementBlock(Fragment,null,[o[5]||(o[5]=createBaseVNode("h5",null,"Calculate a new voltage factor",-1)),createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(s,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),label:"Measured voltage",min:"0",max:"6",step:".01",width:"4",unit:"V",help:"Enter the measured voltage on the device",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_3,[createVNode(n,{modelValue:unref(status).battery,"onUpdate:modelValue":o[1]||(o[1]=e=>unref(status).battery=e),unit:"V",label:"Last voltage reading",width:"4",help:"Last measured battery voltage",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])]),createBaseVNode("div",_hoisted_4,[createVNode(n,{modelValue:unref(config).voltage_factor,"onUpdate:modelValue":o[2]||(o[2]=e=>unref(config).voltage_factor=e),label:"Current voltage factor",width:"4",help:"Current voltage factor",disabled:unref(global$1).disabled},null,8,["modelValue","disabled"])])]),createBaseVNode("div",_hoisted_5,[o[4]||(o[4]=createBaseVNode("div",{class:"col-md-12"},null,-1)),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{onClick:i,type:"button",class:"btn btn-secondary",disabled:unref(global$1).disabled},[withDirectives(createBaseVNode("span",_hoisted_8,null,512),[[vShow,unref(global$1).disabled]]),o[3]||(o[3]=createTextVNode(" Calculate factor ",-1))],8,_hoisted_7)])])],64)}}};var bootstrap_bundle$1={exports:{}},bootstrap_bundle=bootstrap_bundle$1.exports,hasRequiredBootstrap_bundle;function requireBootstrap_bundle(){return hasRequiredBootstrap_bundle||(hasRequiredBootstrap_bundle=1,bootstrap_bundle$1.exports=function(){const e=new Map,t={set(t,i,o){e.has(t)||e.set(t,new Map);const s=e.get(t);if(!s.has(i)&&0!==s.size)return console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`),void 0;s.set(i,o)},get:(t,i)=>e.has(t)&&e.get(t).get(i)||null,remove(t,i){if(!e.has(t))return;const o=e.get(t);o.delete(i),0===o.size&&e.delete(t)}},i="transitionend",o=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),s=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),n=e=>{e.dispatchEvent(new Event(i))},r=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),a=e=>r(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(o(e)):null,l=e=>{if(!r(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},c=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),d=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?d(e.parentNode):null},u=()=>{},h=e=>{e.offsetHeight},p=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,f=[],g=()=>"rtl"===document.documentElement.dir,m=e=>{var t;t=()=>{const t=p();if(t){const i=e.NAME,o=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=o,e.jQueryInterface)}},void("loading"===document.readyState?(f.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of f)e()}),f.push(t)):t())},_=(e,t=[],i=e)=>"function"==typeof e?e.call(...t):i,b=(e,t,o=!0)=>{if(!o)return _(e),void 0;const s=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const o=Number.parseFloat(t),s=Number.parseFloat(i);return o||s?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let r=!1;const a=({target:o})=>{o===t&&(r=!0,t.removeEventListener(i,a),_(e))};t.addEventListener(i,a),setTimeout(()=>{r||n(t)},s)},v=(e,t,i,o)=>{const s=e.length;let n=e.indexOf(t);return-1===n?!i&&o?e[s-1]:e[0]:(n+=i?1:-1,o&&(n=(n+s)%s),e[Math.max(0,Math.min(n,s-1))])},y=/[^.]*(?=\..*)\.|.*/,w=/\..*/,x=/::\d+$/,S={};let $=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},C=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function B(e,t){return t&&`${t}::${$++}`||e.uidEvent||$++}function N(e){const t=B(e);return e.uidEvent=t,S[t]=S[t]||{},S[t]}function V(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function E(e,t,i){const o="string"==typeof t,s=o?i:t||i;let n=D(e);return C.has(n)||(n=e),[o,s,n]}function A(e,t,i,o,s){if("string"!=typeof t||!e)return;let[n,r,a]=E(t,i,o);var l;t in k&&(l=r,r=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return l.call(this,e)});const c=N(e),d=c[a]||(c[a]={}),u=V(d,r,n?i:null);if(u)return u.oneOff=u.oneOff&&s,void 0;const h=B(r,t.replace(y,"")),p=n?function(e,t,i){return function o(s){const n=e.querySelectorAll(t);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of n)if(a===r)return R(s,{delegateTarget:r}),o.oneOff&&P.off(e,s.type,t,i),i.apply(r,[s])}}(e,i,r):function(e,t){return function i(o){return R(o,{delegateTarget:e}),i.oneOff&&P.off(e,o.type,t),t.apply(e,[o])}}(e,r);p.delegationSelector=n?i:null,p.callable=r,p.oneOff=s,p.uidEvent=h,d[h]=p,e.addEventListener(a,p,n)}function M(e,t,i,o,s){const n=V(t[i],o,s);n&&(e.removeEventListener(i,n,Boolean(s)),delete t[i][n.uidEvent])}function T(e,t,i,o){const s=t[i]||{};for(const[n,r]of Object.entries(s))n.includes(o)&&M(e,t,i,r.callable,r.delegationSelector)}function D(e){return e=e.replace(w,""),k[e]||e}const P={on(e,t,i,o){A(e,t,i,o,!1)},one(e,t,i,o){A(e,t,i,o,!0)},off(e,t,i,o){if("string"!=typeof t||!e)return;const[s,n,r]=E(t,i,o),a=r!==t,l=N(e),c=l[r]||{},d=t.startsWith(".");if(void 0!==n){if(!Object.keys(c).length)return;return M(e,l,r,n,s?i:null),void 0}if(d)for(const u of Object.keys(l))T(e,l,u,t.slice(1));for(const[u,h]of Object.entries(c)){const i=u.replace(x,"");a&&!t.includes(i)||M(e,l,r,h.callable,h.delegationSelector)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const o=p();let s=null,n=!0,r=!0,a=!1;t!==D(t)&&o&&(s=o.Event(t,i),o(e).trigger(s),n=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const l=R(new Event(t,{bubbles:n,cancelable:!0}),i);return a&&l.preventDefault(),r&&e.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function R(e,t={}){for(const[o,s]of Object.entries(t))try{e[o]=s}catch(i){Object.defineProperty(e,o,{configurable:!0,get:()=>s})}return e}function O(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function I(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const F={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${I(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${I(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const o of i){let i=o.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),t[i]=O(e.dataset[o])}return t},getDataAttribute:(e,t)=>O(e.getAttribute(`data-bs-${I(t)}`))};class L{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=r(t)?F.getDataAttribute(t,"config"):{};return __spreadValues(__spreadValues(__spreadValues(__spreadValues({},this.constructor.Default),"object"==typeof i?i:{}),r(t)?F.getDataAttributes(t):{}),"object"==typeof e?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,o]of Object.entries(t)){const t=e[i],n=r(t)?"element":s(t);if(!new RegExp(o).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${n}" but expected type "${o}".`)}}}class j extends L{constructor(e,i){super(),(e=a(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){b(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(a(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const H=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(e=>o(e)).join(","):null},z={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const i=[];let o=e.parentNode.closest(t);for(;o;)i.push(o),o=o.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!c(e)&&l(e))},getSelectorFromElement(e){const t=H(e);return t&&z.findOne(t)?t:null},getElementFromSelector(e){const t=H(e);return t?z.findOne(t):null},getMultipleElementsFromSelector(e){const t=H(e);return t?z.find(t):[]}},U=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,o=e.NAME;P.on(document,i,`[data-bs-dismiss="${o}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),c(this))return;const s=z.getElementFromSelector(this)||this.closest(`.${o}`);e.getOrCreateInstance(s)[t]()})},W=".bs.alert",q=`close${W}`,G=`closed${W}`;class K extends j{static get NAME(){return"alert"}close(){if(P.trigger(this._element,q).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),P.trigger(this._element,G),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=K.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}U(K,"close"),m(K);const Y='[data-bs-toggle="button"]';class J extends j{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=J.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}P.on(document,"click.bs.button.data-api",Y,e=>{e.preventDefault();const t=e.target.closest(Y);J.getOrCreateInstance(t).toggle()}),m(J);const X=".bs.swipe",Q=`touchstart${X}`,Z=`touchmove${X}`,ee=`touchend${X}`,te=`pointerdown${X}`,ie=`pointerup${X}`,oe={endCallback:null,leftCallback:null,rightCallback:null},se={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ne extends L{constructor(e,t){super(),this._element=e,e&&ne.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return oe}static get DefaultType(){return se}static get NAME(){return"swipe"}dispose(){P.off(this._element,X)}_start(e){if(!this._supportPointerEvents)return this._deltaX=e.touches[0].clientX,void 0;this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&_(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,te,e=>this._start(e)),P.on(this._element,ie,e=>this._end(e)),this._element.classList.add("pointer-event")):(P.on(this._element,Q,e=>this._start(e)),P.on(this._element,Z,e=>this._move(e)),P.on(this._element,ee,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const re=".bs.carousel",ae=".data-api",le="ArrowLeft",ce="ArrowRight",de="next",ue="prev",he="left",pe="right",fe=`slide${re}`,ge=`slid${re}`,me=`keydown${re}`,_e=`mouseenter${re}`,be=`mouseleave${re}`,ve=`dragstart${re}`,ye=`load${re}${ae}`,we=`click${re}${ae}`,xe="carousel",Se="active",$e=".active",ke=".carousel-item",Ce=$e+ke,Be={[le]:pe,[ce]:he},Ne={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ve={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ee extends j{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xe&&this.cycle()}static get Default(){return Ne}static get DefaultType(){return Ve}static get NAME(){return"carousel"}next(){this._slide(de)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(ue)}pause(){this._isSliding&&n(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride)return this._isSliding?(P.one(this._element,ge,()=>this.cycle()),void 0):(this.cycle(),void 0)}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return P.one(this._element,ge,()=>this.to(e)),void 0;const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?de:ue;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&P.on(this._element,me,e=>this._keydown(e)),"hover"===this._config.pause&&(P.on(this._element,_e,()=>this.pause()),P.on(this._element,be,()=>this._maybeEnableCycle())),this._config.touch&&ne.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of z.find(".carousel-item img",this._element))P.on(t,ve,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(he)),rightCallback:()=>this._slide(this._directionToOrder(pe)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ne(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Be[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=z.findOne($e,this._indicatorsElement);t.classList.remove(Se),t.removeAttribute("aria-current");const i=z.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Se),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),o=e===de,s=t||v(this._getItems(),i,o,this._config.wrap);if(s===i)return;const n=this._getItemIndex(s),r=t=>P.trigger(this._element,t,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:n});if(r(fe).defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(n),this._activeElement=s;const l=o?"carousel-item-start":"carousel-item-end",c=o?"carousel-item-next":"carousel-item-prev";s.classList.add(c),h(s),i.classList.add(l),s.classList.add(l);this._queueCallback(()=>{s.classList.remove(l,c),s.classList.add(Se),i.classList.remove(Se,c,l),this._isSliding=!1,r(ge)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return z.findOne(Ce,this._element)}_getItems(){return z.find(ke,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return g()?e===he?ue:de:e===he?de:ue}_orderToDirection(e){return g()?e===ue?he:pe:e===ue?pe:he}static jQueryInterface(e){return this.each(function(){const t=Ee.getOrCreateInstance(this,e);if("number"==typeof e)return t.to(e),void 0;if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}P.on(document,we,"[data-bs-slide], [data-bs-slide-to]",function(e){const t=z.getElementFromSelector(this);if(!t||!t.classList.contains(xe))return;e.preventDefault();const i=Ee.getOrCreateInstance(t),o=this.getAttribute("data-bs-slide-to");return o?(i.to(o),i._maybeEnableCycle(),void 0):"next"===F.getDataAttribute(this,"slide")?(i.next(),i._maybeEnableCycle(),void 0):(i.prev(),i._maybeEnableCycle(),void 0)}),P.on(window,ye,()=>{const e=z.find('[data-bs-ride="carousel"]');for(const t of e)Ee.getOrCreateInstance(t)}),m(Ee);const Ae=".bs.collapse",Me=`show${Ae}`,Te=`shown${Ae}`,De=`hide${Ae}`,Pe=`hidden${Ae}`,Re=`click${Ae}.data-api`,Oe="show",Ie="collapse",Fe="collapsing",Le=`:scope .${Ie} .${Ie}`,je='[data-bs-toggle="collapse"]',He={parent:null,toggle:!0},ze={parent:"(null|element)",toggle:"boolean"};class Ue extends j{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=z.find(je);for(const o of i){const e=z.getSelectorFromElement(o),t=z.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return He}static get DefaultType(){return ze}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>Ue.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(P.trigger(this._element,Me).defaultPrevented)return;for(const o of e)o.hide();const t=this._getDimension();this._element.classList.remove(Ie),this._element.classList.add(Fe),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Fe),this._element.classList.add(Ie,Oe),this._element.style[t]="",P.trigger(this._element,Te)},this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(P.trigger(this._element,De).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,h(this._element),this._element.classList.add(Fe),this._element.classList.remove(Ie,Oe);for(const t of this._triggerArray){const e=z.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Fe),this._element.classList.add(Ie),P.trigger(this._element,Pe)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(Oe)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=a(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(je);for(const t of e){const e=z.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=z.find(Le,this._config.parent);return z.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Ue.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}P.on(document,Re,je,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of z.getMultipleElementsFromSelector(this))Ue.getOrCreateInstance(t,{toggle:!1}).toggle()}),m(Ue);var We="top",qe="bottom",Ge="right",Ke="left",Ye="auto",Je=[We,qe,Ge,Ke],Xe="start",Qe="end",Ze="clippingParents",et="viewport",tt="popper",it="reference",ot=Je.reduce(function(e,t){return e.concat([t+"-"+Xe,t+"-"+Qe])},[]),st=[].concat(Je,[Ye]).reduce(function(e,t){return e.concat([t,t+"-"+Xe,t+"-"+Qe])},[]),nt="beforeRead",rt="read",at="afterRead",lt="beforeMain",ct="main",dt="afterMain",ut="beforeWrite",ht="write",pt="afterWrite",ft=[nt,rt,at,lt,ct,dt,ut,ht,pt];function gt(e){return e?(e.nodeName||"").toLowerCase():null}function mt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function _t(e){return e instanceof mt(e).Element||e instanceof Element}function bt(e){return e instanceof mt(e).HTMLElement||e instanceof HTMLElement}function vt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof mt(e).ShadowRoot||e instanceof ShadowRoot)}const yt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];bt(s)&&gt(s)&&(Object.assign(s.style,i),Object.keys(o).forEach(function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var o=t.elements[e],s=t.attributes[e]||{},n=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});bt(o)&&gt(o)&&(Object.assign(o.style,n),Object.keys(s).forEach(function(e){o.removeAttribute(e)}))})}},requires:["computeStyles"]};function wt(e){return e.split("-")[0]}var xt=Math.max,St=Math.min,$t=Math.round;function kt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ct(){return!/^((?!chrome|android).)*safari/i.test(kt())}function Bt(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var o=e.getBoundingClientRect(),s=1,n=1;t&&bt(e)&&(s=e.offsetWidth>0&&$t(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&$t(o.height)/e.offsetHeight||1);var r=(_t(e)?mt(e):window).visualViewport,a=!Ct()&&i,l=(o.left+(a&&r?r.offsetLeft:0))/s,c=(o.top+(a&&r?r.offsetTop:0))/n,d=o.width/s,u=o.height/n;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Nt(e){var t=Bt(e),i=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}function Vt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&vt(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Et(e){return mt(e).getComputedStyle(e)}function At(e){return["table","td","th"].indexOf(gt(e))>=0}function Mt(e){return((_t(e)?e.ownerDocument:e.document)||window.document).documentElement}function Tt(e){return"html"===gt(e)?e:e.assignedSlot||e.parentNode||(vt(e)?e.host:null)||Mt(e)}function Dt(e){return bt(e)&&"fixed"!==Et(e).position?e.offsetParent:null}function Pt(e){for(var t=mt(e),i=Dt(e);i&&At(i)&&"static"===Et(i).position;)i=Dt(i);return i&&("html"===gt(i)||"body"===gt(i)&&"static"===Et(i).position)?t:i||function(e){var t=/firefox/i.test(kt());if(/Trident/i.test(kt())&&bt(e)&&"fixed"===Et(e).position)return null;var i=Tt(e);for(vt(i)&&(i=i.host);bt(i)&&["html","body"].indexOf(gt(i))<0;){var o=Et(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(e)||t}function Rt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ot(e,t,i){return xt(e,St(t,i))}function It(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ft(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}const Lt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,o=e.name,s=e.options,n=i.elements.arrow,r=i.modifiersData.popperOffsets,a=wt(i.placement),l=Rt(a),c=[Ke,Ge].indexOf(a)>=0?"height":"width";if(n&&r){var d=function(e,t){return It("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ft(e,Je))}(s.padding,i),u=Nt(n),h="y"===l?We:Ke,p="y"===l?qe:Ge,f=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],g=r[l]-i.rects.reference[l],m=Pt(n),_=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=f/2-g/2,v=d[h],y=_-u[c]-d[p],w=_/2-u[c]/2+b,x=Ot(v,w,y),S=l;i.modifiersData[o]=((t={})[S]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,i=e.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&Vt(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jt(e){return e.split("-")[1]}var Ht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zt(e){var t,i=e.popper,o=e.popperRect,s=e.placement,n=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=r.x,p=void 0===h?0:h,f=r.y,g=void 0===f?0:f,m="function"==typeof d?d({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var _=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),v=Ke,y=We,w=window;if(c){var x=Pt(i),S="clientHeight",$="clientWidth";x===mt(i)&&"static"!==Et(x=Mt(i)).position&&"absolute"===a&&(S="scrollHeight",$="scrollWidth"),(s===We||(s===Ke||s===Ge)&&n===Qe)&&(y=qe,g-=(u&&x===w&&w.visualViewport?w.visualViewport.height:x[S])-o.height,g*=l?1:-1),s!==Ke&&(s!==We&&s!==qe||n!==Qe)||(v=Ge,p-=(u&&x===w&&w.visualViewport?w.visualViewport.width:x[$])-o.width,p*=l?1:-1)}var k,C=Object.assign({position:a},c&&Ht),B=!0===d?function(e,t){var i=e.x,o=e.y,s=t.devicePixelRatio||1;return{x:$t(i*s)/s||0,y:$t(o*s)/s||0}}({x:p,y:g},mt(i)):{x:p,y:g};return p=B.x,g=B.y,l?Object.assign({},C,((k={})[y]=b?"0":"",k[v]=_?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k)):Object.assign({},C,((t={})[y]=b?g+"px":"",t[v]=_?p+"px":"",t.transform="",t))}const Ut={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,o=i.gpuAcceleration,s=void 0===o||o,n=i.adaptive,r=void 0===n||n,a=i.roundOffsets,l=void 0===a||a,c={placement:wt(t.placement),variation:jt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,zt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,zt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Wt={passive:!0};const qt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,o=e.options,s=o.scroll,n=void 0===s||s,r=o.resize,a=void 0===r||r,l=mt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(e){e.addEventListener("scroll",i.update,Wt)}),a&&l.addEventListener("resize",i.update,Wt),function(){n&&c.forEach(function(e){e.removeEventListener("scroll",i.update,Wt)}),a&&l.removeEventListener("resize",i.update,Wt)}},data:{}};var Gt={left:"right",right:"left",bottom:"top",top:"bottom"};function Kt(e){return e.replace(/left|right|bottom|top/g,function(e){return Gt[e]})}var Yt={start:"end",end:"start"};function Jt(e){return e.replace(/start|end/g,function(e){return Yt[e]})}function Xt(e){var t=mt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qt(e){return Bt(Mt(e)).left+Xt(e).scrollLeft}function Zt(e){var t=Et(e),i=t.overflow,o=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+o)}function ei(e){return["html","body","#document"].indexOf(gt(e))>=0?e.ownerDocument.body:bt(e)&&Zt(e)?e:ei(Tt(e))}function ti(e,t){var i;void 0===t&&(t=[]);var o=ei(e),s=o===(null==(i=e.ownerDocument)?void 0:i.body),n=mt(o),r=s?[n].concat(n.visualViewport||[],Zt(o)?o:[]):o,a=t.concat(r);return s?a:a.concat(ti(Tt(r)))}function ii(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oi(e,t,i){return t===et?ii(function(e,t){var i=mt(e),o=Mt(e),s=i.visualViewport,n=o.clientWidth,r=o.clientHeight,a=0,l=0;if(s){n=s.width,r=s.height;var c=Ct();(c||!c&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:r,x:a+Qt(e),y:l}}(e,i)):_t(t)?function(e,t){var i=Bt(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):ii(function(e){var t,i=Mt(e),o=Xt(e),s=null==(t=e.ownerDocument)?void 0:t.body,n=xt(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=xt(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-o.scrollLeft+Qt(e),l=-o.scrollTop;return"rtl"===Et(s||i).direction&&(a+=xt(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:r,x:a,y:l}}(Mt(e)))}function si(e,t,i,o){var s="clippingParents"===t?function(e){var t=ti(Tt(e)),i=["absolute","fixed"].indexOf(Et(e).position)>=0&&bt(e)?Pt(e):e;return _t(i)?t.filter(function(e){return _t(e)&&Vt(e,i)&&"body"!==gt(e)}):[]}(e):[].concat(t),n=[].concat(s,[i]),r=n[0],a=n.reduce(function(t,i){var s=oi(e,i,o);return t.top=xt(s.top,t.top),t.right=St(s.right,t.right),t.bottom=St(s.bottom,t.bottom),t.left=xt(s.left,t.left),t},oi(e,r,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ni(e){var t,i=e.reference,o=e.element,s=e.placement,n=s?wt(s):null,r=s?jt(s):null,a=i.x+i.width/2-o.width/2,l=i.y+i.height/2-o.height/2;switch(n){case We:t={x:a,y:i.y-o.height};break;case qe:t={x:a,y:i.y+i.height};break;case Ge:t={x:i.x+i.width,y:l};break;case Ke:t={x:i.x-o.width,y:l};break;default:t={x:i.x,y:i.y}}var c=n?Rt(n):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case Xe:t[c]=t[c]-(i[d]/2-o[d]/2);break;case Qe:t[c]=t[c]+(i[d]/2-o[d]/2)}}return t}function ri(e,t){void 0===t&&(t={});var i=t,o=i.placement,s=void 0===o?e.placement:o,n=i.strategy,r=void 0===n?e.strategy:n,a=i.boundary,l=void 0===a?Ze:a,c=i.rootBoundary,d=void 0===c?et:c,u=i.elementContext,h=void 0===u?tt:u,p=i.altBoundary,f=void 0!==p&&p,g=i.padding,m=void 0===g?0:g,_=It("number"!=typeof m?m:Ft(m,Je)),b=h===tt?it:tt,v=e.rects.popper,y=e.elements[f?b:h],w=si(_t(y)?y:y.contextElement||Mt(e.elements.popper),l,d,r),x=Bt(e.elements.reference),S=ni({reference:x,element:v,placement:s}),$=ii(Object.assign({},v,S)),k=h===tt?$:x,C={top:w.top-k.top+_.top,bottom:k.bottom-w.bottom+_.bottom,left:w.left-k.left+_.left,right:k.right-w.right+_.right},B=e.modifiersData.offset;if(h===tt&&B){var N=B[s];Object.keys(C).forEach(function(e){var t=[Ge,qe].indexOf(e)>=0?1:-1,i=[We,qe].indexOf(e)>=0?"y":"x";C[e]+=N[i]*t})}return C}const ai={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var s=i.mainAxis,n=void 0===s||s,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,f=void 0===p||p,g=i.allowedAutoPlacements,m=t.options.placement,_=wt(m),b=l||(_!==m&&f?function(e){if(wt(e)===Ye)return[];var t=Kt(e);return[Jt(e),t,Jt(t)]}(m):[Kt(m)]),v=[m].concat(b).reduce(function(e,i){return e.concat(wt(i)===Ye?function(e,t){void 0===t&&(t={});var i=t,o=i.placement,s=i.boundary,n=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?st:l,d=jt(o),u=d?a?ot:ot.filter(function(e){return jt(e)===d}):Je,h=u.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=u);var p=h.reduce(function(t,i){return t[i]=ri(e,{placement:i,boundary:s,rootBoundary:n,padding:r})[wt(i)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:g}):i)},[]),y=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,$=v[0],k=0;k<v.length;k++){var C=v[k],B=wt(C),N=jt(C)===Xe,V=[We,qe].indexOf(B)>=0,E=V?"width":"height",A=ri(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),M=V?N?Ge:Ke:N?qe:We;y[E]>w[E]&&(M=Kt(M));var T=Kt(M),D=[];if(n&&D.push(A[B]<=0),a&&D.push(A[M]<=0,A[T]<=0),D.every(function(e){return e})){$=C,S=!1;break}x.set(C,D)}if(S)for(var P=function(e){var t=v.find(function(t){var i=x.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return $=t,"break"},R=f?3:1;R>0&&"break"!==P(R);R--);t.placement!==$&&(t.modifiersData[o]._skip=!0,t.placement=$,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function li(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ci(e){return[We,Ge,qe,Ke].some(function(t){return e[t]>=0})}const di={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,o=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,r=ri(t,{elementContext:"reference"}),a=ri(t,{altBoundary:!0}),l=li(r,o),c=li(a,s,n),d=ci(l),u=ci(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}};const ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,o=e.name,s=i.offset,n=void 0===s?[0,0]:s,r=st.reduce(function(e,i){return e[i]=function(e,t,i){var o=wt(e),s=[Ke,We].indexOf(o)>=0?-1:1,n="function"==typeof i?i(Object.assign({},t,{placement:e})):i,r=n[0],a=n[1];return r=r||0,a=(a||0)*s,[Ke,Ge].indexOf(o)>=0?{x:a,y:r}:{x:r,y:a}}(i,t.rects,n),e},{}),a=r[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=r}};const hi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=ni({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}};const pi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,i,o=e.state,s=e.options,n=e.name,r=s.mainAxis,a=void 0===r||r,l=s.altAxis,c=void 0!==l&&l,d=s.boundary,u=s.rootBoundary,h=s.altBoundary,p=s.padding,f=s.tether,g=void 0===f||f,m=s.tetherOffset,_=void 0===m?0:m,b=ri(o,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),v=wt(o.placement),y=jt(o.placement),w=!y,x=Rt(v),S="x"===x?"y":"x",$=o.modifiersData.popperOffsets,k=o.rects.reference,C=o.rects.popper,B="function"==typeof _?_(Object.assign({},o.rects,{placement:o.placement})):_,N="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),V=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,E={x:0,y:0};if($){if(a){var A,M="y"===x?We:Ke,T="y"===x?qe:Ge,D="y"===x?"height":"width",P=$[x],R=P+b[M],O=P-b[T],I=g?-C[D]/2:0,F=y===Xe?k[D]:C[D],L=y===Xe?-C[D]:-k[D],j=o.elements.arrow,H=g&&j?Nt(j):{width:0,height:0},z=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=z[M],W=z[T],q=Ot(0,k[D],H[D]),G=w?k[D]/2-I-q-U-N.mainAxis:F-q-U-N.mainAxis,K=w?-k[D]/2+I+q+W+N.mainAxis:L+q+W+N.mainAxis,Y=o.elements.arrow&&Pt(o.elements.arrow),J=Y?"y"===x?Y.clientTop||0:Y.clientLeft||0:0,X=null!=(A=null==V?void 0:V[x])?A:0,Q=P+K-X,Z=Ot(g?St(R,P+G-X-J):R,P,g?xt(O,Q):O);$[x]=Z,E[x]=Z-P}if(c){var ee,te="x"===x?We:Ke,ie="x"===x?qe:Ge,oe=$[S],se="y"===S?"height":"width",ne=oe+b[te],re=oe-b[ie],ae=-1!==[We,Ke].indexOf(v),le=null!=(ee=null==V?void 0:V[S])?ee:0,ce=ae?ne:oe-k[se]-C[se]-le+N.altAxis,de=ae?oe+k[se]+C[se]-le-N.altAxis:re,ue=g&&ae?(i=Ot(ce,oe,t=de))>t?t:i:Ot(g?ce:ne,oe,g?de:re);$[S]=ue,E[S]=ue-oe}o.modifiersData[n]=E}},requiresIfExists:["offset"]};function fi(e,t,i){void 0===i&&(i=!1);var o,s,n=bt(t),r=bt(t)&&function(e){var t=e.getBoundingClientRect(),i=$t(t.width)/e.offsetWidth||1,o=$t(t.height)/e.offsetHeight||1;return 1!==i||1!==o}(t),a=Mt(t),l=Bt(e,r,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!i)&&(("body"!==gt(t)||Zt(a))&&(c=(o=t)!==mt(o)&&bt(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:Xt(o)),bt(t)?((d=Bt(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=Qt(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function gi(e){var t=new Map,i=new Set,o=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var o=t.get(e);o&&s(o)}}),o.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||s(e)}),o}var mi={placement:"bottom",modifiers:[],strategy:"absolute"};function _i(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function bi(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,o=void 0===i?[]:i,s=t.defaultOptions,n=void 0===s?mi:s;return function(e,t,i){void 0===i&&(i=n);var s,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},mi,n),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;u(),a.options=Object.assign({},n,a.options,s),a.scrollParents={reference:_t(e)?ti(e):e.contextElement?ti(e.contextElement):[],popper:ti(t)};var r,c,h=function(e){var t=gi(e);return ft.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((r=[].concat(o,a.options.modifiers),c=r.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return a.orderedModifiers=h.filter(function(e){return e.enabled}),void a.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,o=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var n=s({state:a,name:t,instance:d,options:o}),r=function(){};l.push(n||r)}}),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(_i(t,i)){a.rects={reference:fi(t,Pt(i),"fixed"===a.options.strategy),popper:Nt(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var o=0;o<a.orderedModifiers.length;o++)if(!0!==a.reset){var s=a.orderedModifiers[o],n=s.fn,r=s.options,l=void 0===r?{}:r,u=s.name;"function"==typeof n&&(a=n({state:a,options:l,name:u,instance:d})||a)}else a.reset=!1,o=-1}}},update:(s=function(){return new Promise(function(e){d.forceUpdate(),e(a)})},function(){return r||(r=new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(s())})})),r}),destroy:function(){u(),c=!0}};if(!_i(e,t))return d;function u(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(i).then(function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)}),d}}var vi=bi(),yi=bi({defaultModifiers:[qt,hi,Ut,yt]}),wi=bi({defaultModifiers:[qt,hi,Ut,yt,ui,ai,pi,Lt,di]});const xi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dt,afterRead:at,afterWrite:pt,applyStyles:yt,arrow:Lt,auto:Ye,basePlacements:Je,beforeMain:lt,beforeRead:nt,beforeWrite:ut,bottom:qe,clippingParents:Ze,computeStyles:Ut,createPopper:wi,createPopperBase:vi,createPopperLite:yi,detectOverflow:ri,end:Qe,eventListeners:qt,flip:ai,hide:di,left:Ke,main:ct,modifierPhases:ft,offset:ui,placements:st,popper:tt,popperGenerator:bi,popperOffsets:hi,preventOverflow:pi,read:rt,reference:it,right:Ge,start:Xe,top:We,variationPlacements:ot,viewport:et,write:ht},Symbol.toStringTag,{value:"Module"})),Si="dropdown",$i=".bs.dropdown",ki=".data-api",Ci="ArrowUp",Bi="ArrowDown",Ni=`hide${$i}`,Vi=`hidden${$i}`,Ei=`show${$i}`,Ai=`shown${$i}`,Mi=`click${$i}${ki}`,Ti=`keydown${$i}${ki}`,Di=`keyup${$i}${ki}`,Pi="show",Ri='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Oi=`${Ri}.${Pi}`,Ii=".dropdown-menu",Fi=g()?"top-end":"top-start",Li=g()?"top-start":"top-end",ji=g()?"bottom-end":"bottom-start",Hi=g()?"bottom-start":"bottom-end",zi=g()?"left-start":"right-start",Ui=g()?"right-start":"left-start",Wi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qi={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gi extends j{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,Ii)[0]||z.prev(this._element,Ii)[0]||z.findOne(Ii,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Wi}static get DefaultType(){return qi}static get NAME(){return Si}toggle(){return this._isShown()?this.hide():this.show()}show(){if(c(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!P.trigger(this._element,Ei,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))P.on(e,"mouseover",u);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pi),this._element.classList.add(Pi),P.trigger(this._element,Ai,e)}}hide(){if(c(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!P.trigger(this._element,Ni,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))P.off(e,"mouseover",u);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pi),this._element.classList.remove(Pi),this._element.setAttribute("aria-expanded","false"),F.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,Vi,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!r(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Si.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===xi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:r(this._config.reference)?e=a(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=wi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Pi)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return zi;if(e.classList.contains("dropstart"))return Ui;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Li:Fi:t?Hi:ji}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(F.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),__spreadValues(__spreadValues({},e),_(this._config.popperConfig,[void 0,e]))}_selectMenuItem({key:e,target:t}){const i=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>l(e));i.length&&v(i,t,e===Bi,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Gi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=z.find(Oi);for(const i of t){const t=Gi.getInstance(i);if(!t||!1===t._config.autoClose)continue;const o=e.composedPath(),s=o.includes(t._menu);if(o.includes(t._element)||"inside"===t._config.autoClose&&!s||"outside"===t._config.autoClose&&s)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const n={relatedTarget:t._element};"click"===e.type&&(n.clickEvent=e),t._completeHide(n)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,o=[Ci,Bi].includes(e.key);if(!o&&!i)return;if(t&&!i)return;e.preventDefault();const s=this.matches(Ri)?this:z.prev(this,Ri)[0]||z.next(this,Ri)[0]||z.findOne(Ri,e.delegateTarget.parentNode),n=Gi.getOrCreateInstance(s);if(o)return e.stopPropagation(),n.show(),n._selectMenuItem(e),void 0;n._isShown()&&(e.stopPropagation(),n.hide(),s.focus())}}P.on(document,Ti,Ri,Gi.dataApiKeydownHandler),P.on(document,Ti,Ii,Gi.dataApiKeydownHandler),P.on(document,Mi,Gi.clearMenus),P.on(document,Di,Gi.clearMenus),P.on(document,Mi,Ri,function(e){e.preventDefault(),Gi.getOrCreateInstance(this).toggle()}),m(Gi);const Ki="backdrop",Yi="show",Ji=`mousedown.bs.${Ki}`,Xi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zi extends L{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Xi}static get DefaultType(){return Qi}static get NAME(){return Ki}show(e){if(!this._config.isVisible)return _(e),void 0;this._append();const t=this._getElement();this._config.isAnimated&&h(t),t.classList.add(Yi),this._emulateAnimation(()=>{_(e)})}hide(e){if(!this._config.isVisible)return _(e),void 0;this._getElement().classList.remove(Yi),this._emulateAnimation(()=>{this.dispose(),_(e)})}dispose(){this._isAppended&&(P.off(this._element,Ji),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=a(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),P.on(e,Ji,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){b(e,this._getElement(),this._config.isAnimated)}}const eo=".bs.focustrap",to=`focusin${eo}`,io=`keydown.tab${eo}`,oo="backward",so={autofocus:!0,trapElement:null},no={autofocus:"boolean",trapElement:"element"};class ro extends L{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return so}static get DefaultType(){return no}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,eo),P.on(document,to,e=>this._handleFocusin(e)),P.on(document,io,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,eo))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=z.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===oo?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?oo:"forward")}}const ao=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lo=".sticky-top",co="padding-right",uo="margin-right";class ho{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,co,t=>t+e),this._setElementAttributes(ao,co,t=>t+e),this._setElementAttributes(lo,uo,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,co),this._resetElementAttributes(ao,co),this._resetElementAttributes(lo,uo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+o)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(s))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&F.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const i=F.getDataAttribute(e,t);if(null===i)return e.style.removeProperty(t),void 0;F.removeDataAttribute(e,t),e.style.setProperty(t,i)})}_applyManipulationCallback(e,t){if(r(e))return t(e),void 0;for(const i of z.find(e,this._element))t(i)}}const po=".bs.modal",fo=`hide${po}`,go=`hidePrevented${po}`,mo=`hidden${po}`,_o=`show${po}`,bo=`shown${po}`,vo=`resize${po}`,yo=`click.dismiss${po}`,wo=`mousedown.dismiss${po}`,xo=`keydown.dismiss${po}`,So=`click${po}.data-api`,$o="modal-open",ko="show",Co="modal-static",Bo={backdrop:!0,focus:!0,keyboard:!0},No={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vo extends j{constructor(e,t){super(e,t),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ho,this._addEventListeners()}static get Default(){return Bo}static get DefaultType(){return No}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||P.trigger(this._element,_o,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($o),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,fo).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ko),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){P.off(window,po),P.off(this._dialog,po),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ro({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=z.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),h(this._element),this._element.classList.add(ko);this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,bo,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,xo,e=>{if("Escape"===e.key)return this._config.keyboard?(this.hide(),void 0):(this._triggerBackdropTransition(),void 0)}),P.on(window,vo,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,wo,e=>{P.one(this._element,yo,t=>{if(this._element===e.target&&this._element===t.target)return"static"===this._config.backdrop?(this._triggerBackdropTransition(),void 0):(this._config.backdrop&&this.hide(),void 0)})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($o),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,mo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,go).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Co)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Co),this._queueCallback(()=>{this._element.classList.remove(Co),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=g()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=g()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Vo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}P.on(document,So,'[data-bs-toggle="modal"]',function(e){const t=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),P.one(t,_o,e=>{e.defaultPrevented||P.one(t,mo,()=>{l(this)&&this.focus()})});const i=z.findOne(".modal.show");i&&Vo.getInstance(i).hide(),Vo.getOrCreateInstance(t).toggle(this)}),U(Vo),m(Vo);const Eo=".bs.offcanvas",Ao=".data-api",Mo=`load${Eo}${Ao}`,To="show",Do="showing",Po="hiding",Ro=".offcanvas.show",Oo=`show${Eo}`,Io=`shown${Eo}`,Fo=`hide${Eo}`,Lo=`hidePrevented${Eo}`,jo=`hidden${Eo}`,Ho=`resize${Eo}`,zo=`click${Eo}${Ao}`,Uo=`keydown.dismiss${Eo}`,Wo={backdrop:!0,keyboard:!0,scroll:!1},qo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Go extends j{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wo}static get DefaultType(){return qo}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(P.trigger(this._element,Oo,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ho).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Do);this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(To),this._element.classList.remove(Do),P.trigger(this._element,Io,{relatedTarget:e})},this._element,!0)}hide(){if(!this._isShown)return;if(P.trigger(this._element,Fo).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Po),this._backdrop.hide();this._queueCallback(()=>{this._element.classList.remove(To,Po),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ho).reset(),P.trigger(this._element,jo)},this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Zi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{if("static"===this._config.backdrop)return P.trigger(this._element,Lo),void 0;this.hide()}:null})}_initializeFocusTrap(){return new ro({trapElement:this._element})}_addEventListeners(){P.on(this._element,Uo,e=>{if("Escape"===e.key)return this._config.keyboard?(this.hide(),void 0):(P.trigger(this._element,Lo),void 0)})}static jQueryInterface(e){return this.each(function(){const t=Go.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}P.on(document,zo,'[data-bs-toggle="offcanvas"]',function(e){const t=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),c(this))return;P.one(t,jo,()=>{l(this)&&this.focus()});const i=z.findOne(Ro);i&&i!==t&&Go.getInstance(i).hide(),Go.getOrCreateInstance(t).toggle(this)}),P.on(window,Mo,()=>{for(const e of z.find(Ro))Go.getOrCreateInstance(e).show()}),P.on(window,Ho,()=>{for(const e of z.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Go.getOrCreateInstance(e).hide()}),U(Go),m(Go);const Ko={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Jo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xo=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Yo.has(i)||Boolean(Jo.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))};const Qo={allowList:Ko,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},es={entry:"(string|element|function|null)",selector:"(string|element)"};class ts extends L{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Qo}static get DefaultType(){return Zo}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=__spreadValues(__spreadValues({},this._config.content),e),this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},es)}_setContent(e,t,i){const o=z.findOne(i,e);if(o)return(t=this._resolvePossibleFunction(t))?r(t)?(this._putElementInTemplate(a(t),o),void 0):this._config.html?(o.innerHTML=this._maybeSanitize(t),void 0):(o.textContent=t,void 0):(o.remove(),void 0)}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const o=(new window.DOMParser).parseFromString(e,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const n of s){const e=n.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){n.remove();continue}const i=[].concat(...n.attributes),o=[].concat(t["*"]||[],t[e]||[]);for(const t of i)Xo(t,o)||n.removeAttribute(t.nodeName)}return o.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return _(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",t.append(e),void 0;t.textContent=e.textContent}}const is=new Set(["sanitize","allowList","sanitizeFn"]),os="fade",ss="show",ns=".tooltip-inner",rs=".modal",as="hide.bs.modal",ls="hover",cs="focus",ds="click",us={AUTO:"auto",TOP:"top",RIGHT:g()?"left":"right",BOTTOM:"bottom",LEFT:g()?"right":"left"},hs={allowList:Ko,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ps={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fs extends j{constructor(e,t){if(void 0===xi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return hs}static get DefaultType(){return ps}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled)return this._isShown()?(this._leave(),void 0):(this._enter(),void 0)}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(rs),as,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=P.trigger(this._element,this.constructor.eventName("show")),t=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(ss),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))P.on(s,"mouseover",u);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(ss),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))P.off(e,"mouseover",u);this._activeTrigger[ds]=!1,this._activeTrigger[cs]=!1,this._activeTrigger[ls]=!1,this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(os,ss),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(os),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ts(__spreadProps(__spreadValues({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[ns]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(os)}_isShown(){return this.tip&&this.tip.classList.contains(ss)}_createPopper(e){const t=_(this._config.placement,[this,e,this._element]),i=us[t.toUpperCase()];return wi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return _(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return __spreadValues(__spreadValues({},t),_(this._config.popperConfig,[void 0,t]))}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)P.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger[ds]=!(t._isShown()&&t._activeTrigger[ds]),t.toggle()});else if("manual"!==t){const e=t===ls?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===ls?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?cs:ls]=!0,t._enter()}),P.on(this._element,i,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?cs:ls]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(rs),as,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered)return this._isHovered=!0,void 0;this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=F.getDataAttributes(this._element);for(const i of Object.keys(t))is.has(i)&&delete t[i];return e=__spreadValues(__spreadValues({},t),"object"==typeof e&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:a(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=fs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m(fs);const gs=".popover-header",ms=".popover-body",_s=__spreadProps(__spreadValues({},fs.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),bs=__spreadProps(__spreadValues({},fs.DefaultType),{content:"(null|string|element|function)"});class vs extends fs{static get Default(){return _s}static get DefaultType(){return bs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[gs]:this._getTitle(),[ms]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=vs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m(vs);const ys=".bs.scrollspy",ws=`activate${ys}`,xs=`click${ys}`,Ss=`load${ys}.data-api`,$s="active",ks="[href]",Cs=".nav-link",Bs=`${Cs}, .nav-item > ${Cs}, .list-group-item`,Ns={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Es extends j{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ns}static get DefaultType(){return Vs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=a(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,xs),P.on(this._config.target,xs,ks,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return i.scrollTo({top:o,behavior:"smooth"}),void 0;i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const n of e){if(!n.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(n));continue}const e=n.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&e){if(i(n),!o)return}else s||e||i(n)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=z.find(ks,this._config.target);for(const t of e){if(!t.hash||c(t))continue;const e=z.findOne(decodeURI(t.hash),this._element);l(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add($s),this._activateParents(e),P.trigger(this._element,ws,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))return z.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add($s),void 0;for(const t of z.parents(e,".nav, .list-group"))for(const e of z.prev(t,Bs))e.classList.add($s)}_clearActiveClass(e){e.classList.remove($s);const t=z.find(`${ks}.${$s}`,e);for(const i of t)i.classList.remove($s)}static jQueryInterface(e){return this.each(function(){const t=Es.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}P.on(window,Ss,()=>{for(const e of z.find('[data-bs-spy="scroll"]'))Es.getOrCreateInstance(e)}),m(Es);const As=".bs.tab",Ms=`hide${As}`,Ts=`hidden${As}`,Ds=`show${As}`,Ps=`shown${As}`,Rs=`click${As}`,Os=`keydown${As}`,Is=`load${As}`,Fs="ArrowLeft",Ls="ArrowRight",js="ArrowUp",Hs="ArrowDown",zs="Home",Us="End",Ws="active",qs="fade",Gs="show",Ks=".dropdown-toggle",Ys=`:not(${Ks})`,Js='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Xs=`.nav-link${Ys}, .list-group-item${Ys}, [role="tab"]${Ys}, ${Js}`,Qs=`.${Ws}[data-bs-toggle="tab"], .${Ws}[data-bs-toggle="pill"], .${Ws}[data-bs-toggle="list"]`;class Zs extends j{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,Os,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?P.trigger(t,Ms,{relatedTarget:e}):null;P.trigger(e,Ds,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Ws),this._activate(z.getElementFromSelector(e));this._queueCallback(()=>{if("tab"!==e.getAttribute("role"))return e.classList.add(Gs),void 0;e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),P.trigger(e,Ps,{relatedTarget:t})},e,e.classList.contains(qs))}_deactivate(e,t){if(!e)return;e.classList.remove(Ws),e.blur(),this._deactivate(z.getElementFromSelector(e));this._queueCallback(()=>{if("tab"!==e.getAttribute("role"))return e.classList.remove(Gs),void 0;e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),P.trigger(e,Ts,{relatedTarget:t})},e,e.classList.contains(qs))}_keydown(e){if(![Fs,Ls,js,Hs,zs,Us].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!c(e));let i;if([zs,Us].includes(e.key))i=t[e.key===zs?0:t.length-1];else{const o=[Ls,Hs].includes(e.key);i=v(t,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),Zs.getOrCreateInstance(i).show())}_getChildren(){return z.find(Xs,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=z.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const o=(e,o)=>{const s=z.findOne(e,i);s&&s.classList.toggle(o,t)};o(Ks,Ws),o(".dropdown-menu",Gs),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Ws)}_getInnerElement(e){return e.matches(Xs)?e:z.findOne(Xs,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Zs.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}P.on(document,Rs,Js,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),c(this)||Zs.getOrCreateInstance(this).show()}),P.on(window,Is,()=>{for(const e of z.find(Qs))Zs.getOrCreateInstance(e)}),m(Zs);const en=".bs.toast",tn=`mouseover${en}`,on=`mouseout${en}`,sn=`focusin${en}`,nn=`focusout${en}`,rn=`hide${en}`,an=`hidden${en}`,ln=`show${en}`,cn=`shown${en}`,dn="hide",un="show",hn="showing",pn={animation:"boolean",autohide:"boolean",delay:"number"},fn={animation:!0,autohide:!0,delay:5e3};class gn extends j{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return fn}static get DefaultType(){return pn}static get NAME(){return"toast"}show(){if(P.trigger(this._element,ln).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(dn),h(this._element),this._element.classList.add(un,hn),this._queueCallback(()=>{this._element.classList.remove(hn),P.trigger(this._element,cn),this._maybeScheduleHide()},this._element,this._config.animation)}hide(){if(!this.isShown())return;if(P.trigger(this._element,rn).defaultPrevented)return;this._element.classList.add(hn),this._queueCallback(()=>{this._element.classList.add(dn),this._element.classList.remove(hn,un),P.trigger(this._element,an)},this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(un),super.dispose()}isShown(){return this._element.classList.contains(un)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return this._clearTimeout(),void 0;const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,tn,e=>this._onInteraction(e,!0)),P.on(this._element,on,e=>this._onInteraction(e,!1)),P.on(this._element,sn,e=>this._onInteraction(e,!0)),P.on(this._element,nn,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=gn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return U(gn),m(gn),{Alert:K,Button:J,Carousel:Ee,Collapse:Ue,Dropdown:Gi,Modal:Vo,Offcanvas:Go,Popover:vs,ScrollSpy:Es,Tab:Zs,Toast:gn,Tooltip:fs}}()),bootstrap_bundle$1.exports}requireBootstrap_bundle();const app=createApp(_sfc_main$6);app.use(piniaInstance),app.use(router),app.component("BsMessage",script$g),app.component("BsCard",script$x),app.component("BsFileUpload",script$b),app.component("BsProgress",script$c),app.component("BsInputBase",script$8),app.component("BsInputText",script$t),app.component("BsInputReadonly",script$o),app.component("BsSelect",script$l),app.component("BsInputTextArea",script$q),app.component("BsInputNumber",script$s),app.component("BsInputSwitch",script$r),app.component("BsInputRadio",script$n),app.component("BsDropdown",script$w),app.component("BsModal",script$f),app.component("BsModalConfirm",script$e),app.component("BsInputTextAreaFormat",script$p),app.component("BsMenuBar",script$a),app.component("BsFooter",script$9),app.component("IconHome",script$7),app.component("IconTools",script$6),app.component("IconGraphUpArrow",script$3),app.component("IconCloudUpArrow",script$2),app.component("IconUpArrow",script$4),app.component("IconCpu",script$5),app.component("IconWifi",script$m),app.component("IconEye",script$u),app.component("IconEyeSlash",script$v),app.component("IconCheckCircle",script$j),app.component("IconXCircle",script$k),app.component("IconExclamationTriangle",script$h),app.component("IconInfoCircle",script$i),app.component("AdvancedFilesFragment",_sfc_main$5),app.component("EnableCorsFragment",_sfc_main$4),app.component("ListFilesFragment",_sfc_main$3),app.component("RegisterDeviceFragment",RegisterDeviceFragment),app.component("RegisterCalibrationFragment",RegisterCalibrationFragment),app.component("VoltageFragment",_sfc_main),app.mount("#app");
